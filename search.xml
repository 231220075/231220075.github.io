<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>React vs. Vueï¼šå‰ç«¯æ¡†æ¶çš„æ·±åº¦å¯¹å†³</title>
    <url>/2025/08/13/React-vs-Vue-%E6%B7%B1%E5%BA%A6%E5%AF%B9%E5%86%B3/</url>
    <content><![CDATA[åœ¨å½“ä»Šå‰ç«¯å¼€å‘é¢†åŸŸï¼ŒReact å’Œ Vue æ— ç–‘æ˜¯ä¸¤åº§æ— æ³•ç»•å¼€çš„é«˜å³°ã€‚å®ƒä»¬éƒ½æ‹¥æœ‰åºå¤§çš„ç¤¾åŒºã€ä¸°å¯Œçš„ç”Ÿæ€å’Œå‡ºè‰²çš„æ€§èƒ½ï¼Œä½†å…¶è®¾è®¡å“²å­¦å’Œå¼€å‘ä½“éªŒå´å¤§ç›¸å¾„åº­ã€‚ä½œä¸ºå¼€å‘è€…ï¼Œç†è§£å®ƒä»¬çš„æ ¸å¿ƒå·®å¼‚ï¼Œæ‰èƒ½åœ¨é¡¹ç›®é€‰å‹æ—¶åšå‡ºæœ€æ˜æ™ºçš„å†³ç­–ã€‚æœ¬æ–‡å°†ä»ä¸“ä¸šè§’åº¦ï¼Œå¯¹è¿™ä¸¤ä¸ªæ¡†æ¶è¿›è¡Œä¸€æ¬¡æ·±åº¦å¯¹æ¯”ã€‚
æ¦‚è§ˆ


ç‰¹æ€§
React
Vue



ç±»å‹
ç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„ JavaScript åº“
æ¸è¿›å¼ JavaScript æ¡†æ¶


æ ¸å¿ƒæ€æƒ³
ä¸€åˆ‡çš†æ˜¯ JavaScriptï¼Œæ‹¥æŠ±å‡½æ•°å¼ç¼–ç¨‹
æ‹¥æŠ±ä¼ ç»Ÿ Webï¼ŒHTML&#x2F;CSS&#x2F;JS åˆ†ç¦»


åˆ›å»ºè€…
Meta (Facebook)
å°¤é›¨æºª (å‰ Google å·¥ç¨‹å¸ˆ)


ä¸Šæ‰‹éš¾åº¦
è¾ƒé™¡å³­ï¼Œéœ€è¦æ·±å…¥ç†è§£ JS å’Œ JSX
ç›¸å¯¹å¹³ç¼“ï¼Œå¯¹æ–°æ‰‹æ›´å‹å¥½


çµæ´»æ€§
æé«˜ï¼Œç”Ÿæ€ç³»ç»Ÿåºå¤§ï¼Œé€‰æ‹©å¤šæ ·
è¾ƒé«˜ï¼Œå®˜æ–¹æä¾›å…¨å®¶æ¡¶ï¼Œå¼€ç®±å³ç”¨


æ•°æ®æµ
å•å‘æ•°æ®æµ
æ”¯æŒå•å‘å’ŒåŒå‘æ•°æ®ç»‘å®š


çŠ¶æ€ç®¡ç†
Context API, Redux, MobX, Zustand
Pinia (å®˜æ–¹æ¨è), Vuex


è·¯ç”±
React Router
Vue Router (å®˜æ–¹)


æ„å»ºå·¥å…·
Create React App, Vite, Next.js
Vue CLI, Vite, Nuxt.js


å¸‚åœºä»½é¢
æ›´å¤§ï¼Œå°¤å…¶åœ¨æ¬§ç¾å’Œå¤§å‹ä¼ä¸š
å¿«é€Ÿå¢é•¿ï¼Œåœ¨äºšæ´²å’Œåˆåˆ›å…¬å¸ä¸­éå¸¸æµè¡Œ



1. æ ¸å¿ƒç†å¿µä¸è®¾è®¡å“²å­¦Reactï¼šæ›´åƒä¸€ä¸ªâ€œåº“â€ï¼Œä¸“æ³¨ UI
React çš„æ ¸å¿ƒå®šä½æ˜¯ä¸€ä¸ªç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢ï¼ˆUIï¼‰çš„ JavaScript åº“ã€‚å®ƒæœ¬èº«åªå…³å¿ƒè§†å›¾å±‚ï¼ˆMVC ä¸­çš„ Vï¼‰ã€‚è¿™æ„å‘³ç€ React åªæä¾›æ„å»º UI ç»„ä»¶çš„æ ¸å¿ƒåŠŸèƒ½ã€‚è‡³äºè·¯ç”±ã€çŠ¶æ€ç®¡ç†ã€HTTP è¯·æ±‚ç­‰ï¼Œä½ éœ€è¦è‡ªå·±é€‰æ‹©å¹¶é›†æˆç¬¬ä¸‰æ–¹åº“ã€‚

All in JSï¼šReact çš„ä¸€ä¸ªæ ¸å¿ƒå“²å­¦æ˜¯â€œAll in JSâ€ã€‚å®ƒè®¤ä¸ºæ¨¡æ¿é€»è¾‘å’Œæ¸²æŸ“é€»è¾‘æœ¬è´¨ä¸Šæ˜¯è€¦åˆçš„ï¼Œå› æ­¤å‘æ˜äº† JSXï¼ˆJavaScript XMLï¼‰ï¼Œè®©ä½ å¯ä»¥åœ¨ JavaScript ä»£ç ä¸­ç›´æ¥ç¼–å†™ç±»ä¼¼ HTML çš„ç»“æ„ã€‚è¿™æä¾›äº†æå¤§çš„çµæ´»æ€§å’Œç¼–ç¨‹èƒ½åŠ›ï¼Œå› ä¸ºä½ å¯ä»¥ä½¿ç”¨ JavaScript çš„å…¨éƒ¨åŠŸèƒ½ï¼ˆå¦‚ map, filterï¼‰æ¥æ„å»º UIã€‚
å•å‘æ•°æ®æµï¼šæ•°æ®æ€»æ˜¯ä»çˆ¶ç»„ä»¶é€šè¿‡ props æµå‘å­ç»„ä»¶ã€‚å­ç»„ä»¶ä¸èƒ½ç›´æ¥ä¿®æ”¹çˆ¶ç»„ä»¶çš„æ•°æ®ï¼Œéœ€è¦é€šè¿‡è°ƒç”¨çˆ¶ç»„ä»¶ä¼ é€’çš„å›è°ƒå‡½æ•°æ¥é€šçŸ¥çˆ¶ç»„ä»¶è¿›è¡Œæ›´æ–°ã€‚è¿™ç§æ¨¡å¼ä½¿å¾—æ•°æ®æµå‘æ¸…æ™°å¯æ§ï¼Œåœ¨å¤§å‹åº”ç”¨ä¸­æ›´å®¹æ˜“è¿½è¸ªå’Œè°ƒè¯•ã€‚

Vueï¼šä¸€ä¸ªâ€œæ¸è¿›å¼æ¡†æ¶â€
Vue çš„å®šä½æ˜¯ä¸€ä¸ªæ¸è¿›å¼æ¡†æ¶ã€‚è¿™æ„å‘³ç€ä½ å¯ä»¥ä»ä¸€ä¸ªç®€å•çš„åŠŸèƒ½ï¼ˆæ¯”å¦‚åªç”¨å®ƒæ¥å¤„ç†é¡µé¢ä¸Šçš„ä¸€å°å—äº¤äº’ï¼‰å¼€å§‹ï¼Œç„¶åæ ¹æ®éœ€æ±‚é€æ¸å¼•å…¥è·¯ç”±ï¼ˆVue Routerï¼‰ã€çŠ¶æ€ç®¡ç†ï¼ˆPiniaï¼‰ç­‰åŠŸèƒ½ï¼Œæœ€ç»ˆæ„å»ºä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„å•é¡µåº”ç”¨ï¼ˆSPAï¼‰ã€‚

æ‹¥æŠ±ä¼ ç»Ÿ Webï¼šVue çš„è®¾è®¡å¯¹æœ‰ä¼ ç»Ÿ HTML&#x2F;CSS&#x2F;JS èƒŒæ™¯çš„å¼€å‘è€…éå¸¸å‹å¥½ã€‚å®ƒçš„å•æ–‡ä»¶ç»„ä»¶ (SFC - Single File Component) å°†ä¸€ä¸ªç»„ä»¶çš„æ¨¡æ¿ (&lt;template&gt;)ã€è„šæœ¬ (&lt;script&gt;) å’Œæ ·å¼ (&lt;style&gt;) å°è£…åœ¨åŒä¸€ä¸ª .vue æ–‡ä»¶ä¸­ã€‚è¿™ç§ç»“æ„æ¸…æ™°ï¼Œå…³æ³¨ç‚¹åˆ†ç¦»ï¼Œéå¸¸ç›´è§‚ã€‚
çµæ´»çš„æ•°æ®ç»‘å®šï¼šVue åŒæ—¶æ”¯æŒå•å‘æ•°æ®æµå’ŒåŒå‘æ•°æ®ç»‘å®šã€‚é€šè¿‡ v-model æŒ‡ä»¤ï¼Œå¯ä»¥è½»æ¾å®ç°è¡¨å•è¾“å…¥å’ŒçŠ¶æ€ä¹‹é—´çš„åŒå‘ç»‘å®šï¼Œè¿™åœ¨å¤„ç†è¡¨å•æ—¶å¤§å¤§ç®€åŒ–äº†ä»£ç ã€‚


2. ç»„ä»¶åŒ–å¼€å‘ä¸¤è€…éƒ½é‡‡ç”¨ç»„ä»¶åŒ–æ€æƒ³ï¼Œä½†å®ç°æ–¹å¼ä¸åŒã€‚
React ç»„ä»¶ï¼šå‡½æ•°ä¸ Hooks
ç°ä»£ React å¼€å‘ä¸»è¦ä½¿ç”¨å‡½æ•°å¼ç»„ä»¶å’Œ Hooksã€‚
// React Functional Component with Hooksimport React, &#123; useState, useEffect &#125; from &#x27;react&#x27;;function MyComponent(&#123; initialCount &#125;) &#123;  const [count, setCount] = useState(initialCount); // çŠ¶æ€ Hook  const [data, setData] = useState(null);  // å‰¯ä½œç”¨ Hookï¼Œç±»ä¼¼ç”Ÿå‘½å‘¨æœŸå‡½æ•°  useEffect(() =&gt; &#123;    // æ¨¡æ‹Ÿæ•°æ®è·å–    fetch(&#x27;https://api.example.com/data&#x27;)      .then(res =&gt; res.json())      .then(setData);  &#125;, []); // ç©ºä¾èµ–æ•°ç»„è¡¨ç¤ºåªåœ¨ç»„ä»¶æŒ‚è½½æ—¶è¿è¡Œä¸€æ¬¡  return (    &lt;div&gt;      &lt;p&gt;Count: &#123;count&#125;&lt;/p&gt;      &lt;button onClick=&#123;() =&gt; setCount(count + 1)&#125;&gt;Increment&lt;/button&gt;    &lt;/div&gt;  );&#125;


ä¼˜ç‚¹ï¼šJSX æä¾›äº†æ— ä¸ä¼¦æ¯”çš„çµæ´»æ€§ã€‚Hooksï¼ˆå¦‚ useState, useEffectï¼‰è®©å‡½æ•°å¼ç»„ä»¶ä¹Ÿèƒ½æ‹¥æœ‰çŠ¶æ€å’Œç”Ÿå‘½å‘¨æœŸé€»è¾‘ï¼Œä»£ç æ›´ç®€æ´ã€å¤ç”¨æ€§æ›´å¼ºã€‚
æŒ‘æˆ˜ï¼šéœ€è¦å¯¹ JavaScript çš„é—­åŒ…ã€this æŒ‡å‘ï¼ˆåœ¨ç±»ç»„ä»¶ä¸­ï¼‰æœ‰æ·±åˆ»ç†è§£ã€‚JSX çš„å­¦ä¹ æ›²çº¿å¯¹åˆå­¦è€…æ¥è¯´å¯èƒ½ç¨é«˜ã€‚

Vue ç»„ä»¶ï¼šé€‰é¡¹å¼ API ä¸ç»„åˆå¼ API
Vue æä¾›äº†ä¸¤ç§ç»„ä»¶ API é£æ ¼ã€‚

é€‰é¡¹å¼ API (Options API)ï¼šå¯¹æ–°æ‰‹å‹å¥½ï¼Œç»“æ„æ¸…æ™°ã€‚
&lt;!-- MyComponent.vue --&gt;&lt;template&gt;  &lt;div&gt;    &lt;p&gt;Count: &#123;&#123; count &#125;&#125;&lt;/p&gt;    &lt;button @click=&quot;increment&quot;&gt;Increment&lt;/button&gt;  &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123;  props: [&#x27;initialCount&#x27;],  data() &#123;    return &#123;      count: this.initialCount,      data: null    &#125;;  &#125;,  methods: &#123;    increment() &#123;      this.count++;    &#125;  &#125;,  mounted() &#123;    // æ¨¡æ‹Ÿæ•°æ®è·å–    fetch(&#x27;https://api.example.com/data&#x27;)      .then(res =&gt; res.json())      .then(data =&gt; this.data = data);  &#125;&#125;&lt;/script&gt;

ç»„åˆå¼ API (Composition API)ï¼šå— React Hooks å¯å‘ï¼Œæ›´é€‚åˆå¤§å‹å¤æ‚é¡¹ç›®ï¼Œé€»è¾‘ç»„ç»‡æ›´çµæ´»ã€‚
&lt;!-- MyComponent.vue --&gt;&lt;template&gt;  &lt;div&gt;    &lt;p&gt;Count: &#123;&#123; count &#125;&#125;&lt;/p&gt;    &lt;button @click=&quot;increment&quot;&gt;Increment&lt;/button&gt;  &lt;/div&gt;&lt;/template&gt;&lt;script setup&gt;import &#123; ref, onMounted &#125; from &#x27;vue&#x27;;const props = defineProps([&#x27;initialCount&#x27;]);const count = ref(props.initialCount); // å“åº”å¼çŠ¶æ€const data = ref(null);function increment() &#123;  count.value++;&#125;onMounted(async () =&gt; &#123;  data.value = await (await fetch(&#x27;https://api.example.com/data&#x27;)).json();&#125;);&lt;/script&gt;


ä¼˜ç‚¹ï¼š.vue æ–‡ä»¶ç»“æ„æ¸…æ™°ï¼Œæ¨¡æ¿è¯­æ³•æ›´æ¥è¿‘åŸç”Ÿ HTMLã€‚ç»„åˆå¼ API è§£å†³äº†é€‰é¡¹å¼ API åœ¨å¤§å‹ç»„ä»¶ä¸­é€»è¾‘åˆ†æ•£çš„é—®é¢˜ï¼Œä»£ç ç»„ç»‡æ›´çµæ´»ã€‚
æŒ‘æˆ˜ï¼šåœ¨ç»„åˆå¼ API ä¸­éœ€è¦ç†è§£ ref å’Œ reactive çš„åŒºåˆ«ã€‚


3. ç”Ÿæ€ç³»ç»Ÿä¸çŠ¶æ€ç®¡ç†Reactï¼šåºå¤§è€Œåˆ†æ•£ï¼Œé€‰æ‹©è‡ªç”±

çŠ¶æ€ç®¡ç†ï¼š
ç®€å•åœºæ™¯ï¼šä½¿ç”¨ useState å’Œ useReducer é…åˆ Context APIã€‚
å¤æ‚åº”ç”¨ï¼šRedux æ˜¯äº‹å®ä¸Šçš„æ ‡å‡†ï¼ŒåŠŸèƒ½å¼ºå¤§ï¼Œä½†ä»¥å­¦ä¹ æ›²çº¿é™¡å³­å’Œæ¨¡æ¿ä»£ç å¤šè€Œé—»åã€‚è¿‘å¹´æ¥ï¼ŒZustand å’Œ MobX ç­‰æ›´è½»é‡ã€æ›´ç°ä»£çš„æ–¹æ¡ˆè¶Šæ¥è¶Šå—æ¬¢è¿ã€‚


ç”Ÿæ€ï¼šReact çš„ç”Ÿæ€ç³»ç»Ÿæ˜¯å…¶æœ€å¤§çš„ä¼˜åŠ¿ä¹‹ä¸€ã€‚å‡ ä¹ä»»ä½•ä½ èƒ½æƒ³åˆ°çš„åŠŸèƒ½éƒ½æœ‰æˆç†Ÿçš„ç¬¬ä¸‰æ–¹åº“æ”¯æŒã€‚ä½†ä¹Ÿæ„å‘³ç€ä½ éœ€è¦èŠ±æ—¶é—´å»è¯„ä¼°å’Œé€‰æ‹©æŠ€æœ¯æ ˆï¼Œè¿™è¢«ç§°ä¸ºâ€œé€‰æ‹©ç–²åŠ³ç—‡â€ã€‚Next.js æ¡†æ¶çš„å‡ºç°æå¤§åœ°æ”¹å˜äº†è¿™ä¸€å±€é¢ï¼Œå®ƒä¸º React æä¾›äº†ä¸€ä¸ªå¼ºå¤§çš„ã€å¸¦æœ‰ä¸€ç³»åˆ—æœ€ä½³å®è·µçš„å…¨æ ˆå¼€å‘éª¨æ¶ã€‚

Vueï¼šå®˜æ–¹ç»´æŠ¤ï¼Œé›†æˆåº¦é«˜

çŠ¶æ€ç®¡ç†ï¼š
Pinia æ˜¯ Vue 3 çš„å®˜æ–¹æ¨èæ–¹æ¡ˆï¼ˆå–ä»£äº† Vuexï¼‰ã€‚å®ƒè®¾è®¡æå…¶ç®€æ´ã€ç±»å‹å‹å¥½ï¼Œå¹¶ä¸”æ²¡æœ‰ mutations çš„æ¦‚å¿µï¼Œä¸Šæ‰‹éå¸¸å¿«ã€‚


ç”Ÿæ€ï¼šVue çš„æ ¸å¿ƒåº“ï¼ˆå¦‚ vue-router for routing, pinia for state managementï¼‰éƒ½ç”±å®˜æ–¹å›¢é˜Ÿç»´æŠ¤ã€‚è¿™ä¿è¯äº†å®ƒä»¬ä¹‹é—´çš„é«˜åº¦ååŒå’Œä¸€è‡´æ€§ã€‚å¼€å‘è€…ä¸éœ€è¦åœ¨ä¼—å¤šé€‰é¡¹ä¸­çº lgeï¼Œå¯ä»¥å¿«é€Ÿå¼€å§‹ã€‚Nuxt.js æ˜¯ Vue ç”Ÿæ€çš„â€œNext.jsâ€ï¼Œæä¾›äº†æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰ã€é™æ€ç«™ç‚¹ç”Ÿæˆï¼ˆSSGï¼‰ç­‰é«˜çº§åŠŸèƒ½ã€‚


4. æ€§èƒ½ä¸¤è€…éƒ½ä½¿ç”¨äº†è™šæ‹Ÿ DOM (Virtual DOM)ï¼Œæ€§èƒ½éƒ½éå¸¸å‡ºè‰²ï¼Œè¶³ä»¥åº”å¯¹ç»å¤§å¤šæ•°åº”ç”¨åœºæ™¯ã€‚

Reactï¼šé€šè¿‡ Fiber æ¶æ„å®ç°äº†å¯ä¸­æ–­çš„å¼‚æ­¥æ¸²æŸ“ï¼Œä¸ºå°†æ¥çš„å¹¶å‘æ¨¡å¼ç­‰é«˜çº§åŠŸèƒ½é“ºå¹³äº†é“è·¯ã€‚
Vueï¼šåœ¨ç¼–è¯‘æ—¶è¿›è¡Œäº†æ›´å¤šä¼˜åŒ–ã€‚å®ƒä¼šé™æ€åˆ†ææ¨¡æ¿ï¼Œæ‰¾å‡ºåŠ¨æ€éƒ¨åˆ†å’Œé™æ€éƒ¨åˆ†ï¼Œä»è€Œåœ¨æ›´æ–°æ—¶åªå¯¹æ¯”åŠ¨æ€èŠ‚ç‚¹ï¼Œå‡å°‘äº†è™šæ‹Ÿ DOM diff çš„å¼€é”€ã€‚

åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæ€§èƒ½ç“¶é¢ˆæ›´å¤šåœ°æ¥è‡ªäºåº”ç”¨æœ¬èº«çš„é€»è¾‘ï¼ˆå¦‚å·¨å¤§çš„åˆ—è¡¨ã€é¢‘ç¹çš„éå¿…è¦æ›´æ–°ï¼‰ï¼Œè€Œä¸æ˜¯æ¡†æ¶æœ¬èº«ã€‚

æ€»ç»“ä¸é€‰æ‹©å»ºè®®
é€‰æ‹© React çš„ç†ç”±ï¼š

å¤§å‹é¡¹ç›®å’Œå›¢é˜Ÿï¼šReact çš„å•å‘æ•°æ®æµå’Œåºå¤§çš„ç”Ÿæ€ç³»ç»Ÿéå¸¸é€‚åˆæ„å»ºå¤æ‚ã€å¯ç»´æŠ¤çš„å¤§å‹ä¼ä¸šçº§åº”ç”¨ã€‚
æ‹›è˜å¸‚åœºï¼šReact çš„å²—ä½éœ€æ±‚é‡ç›®å‰æ˜¯æœ€å¤§çš„ï¼Œå¦‚æœä½ æƒ³æœ€å¤§åŒ–å°±ä¸šæœºä¼šï¼ŒReact æ˜¯ä¸€ä¸ªç¨³å¦¥çš„é€‰æ‹©ã€‚
è¿½æ±‚æè‡´çµæ´»æ€§ï¼šå¦‚æœä½ æƒ³å®Œå…¨æŒæ§ä½ çš„æŠ€æœ¯æ ˆï¼Œè‡ªç”±ç»„åˆå„ç§åº“æ¥æ„å»ºåº”ç”¨ï¼ŒReact æä¾›äº†è¿™ç§è‡ªç”±ã€‚
è·¨å¹³å°å¼€å‘ï¼šReact Native å…è®¸ä½ ä½¿ç”¨ React çš„çŸ¥è¯†æ¥æ„å»ºåŸç”Ÿç§»åŠ¨åº”ç”¨ï¼ˆiOS&#x2F;Androidï¼‰ï¼Œè¿™æ˜¯ä¸€ä¸ªå·¨å¤§çš„åŠ åˆ†é¡¹ã€‚


é€‰æ‹© Vue çš„ç†ç”±ï¼š

å¿«é€Ÿå¼€å‘å’Œä¸Šæ‰‹ï¼šVue çš„å­¦ä¹ æ›²çº¿æ›´å¹³ç¼“ï¼Œæ–‡æ¡£æå…¶å‡ºè‰²ï¼Œå®˜æ–¹å·¥å…·é“¾å¼€ç®±å³ç”¨ï¼Œéå¸¸é€‚åˆåˆåˆ›å…¬å¸ã€ä¸­å°å‹é¡¹ç›®å’Œè¿½æ±‚å¼€å‘æ•ˆç‡çš„åœºæ™¯ã€‚
å¯¹ä¼ ç»Ÿå¼€å‘è€…å‹å¥½ï¼šå¦‚æœä½ æœ‰æ‰å®çš„ HTML&#x2F;CSS&#x2F;JS åŸºç¡€ï¼ŒVue çš„æ¨¡æ¿è¯­æ³•ä¼šè®©ä½ æ„Ÿåˆ°éå¸¸äº²åˆ‡ã€‚
æ— ç¼é›†æˆï¼šå®˜æ–¹æä¾›çš„è·¯ç”±å’ŒçŠ¶æ€ç®¡ç†åº“ä¸æ ¸å¿ƒåº“æ— ç¼é›†æˆï¼Œå‡å°‘äº†å†³ç­–æˆæœ¬å’Œé›†æˆé—®é¢˜ã€‚
æ€§èƒ½ï¼šå¼€ç®±å³ç”¨çš„æ€§èƒ½è¡¨ç°éå¸¸ä¼˜ç§€ï¼Œå¿ƒæ™ºè´Ÿæ‹…å°ã€‚



æœ€ç»ˆï¼ŒReact å’Œ Vue éƒ½æ˜¯é¡¶çº§çš„æ¡†æ¶ï¼Œæ²¡æœ‰ç»å¯¹çš„å¥½åä¹‹åˆ†ï¼Œåªæœ‰â€œæ›´é€‚åˆâ€çš„é€‰æ‹©ã€‚ æœ€å¥½çš„æ–¹å¼æ˜¯éƒ½å°è¯•ä¸€ä¸‹ï¼Œæ„å»ºä¸€ä¸ªå°é¡¹ç›®ï¼Œäº²èº«æ„Ÿå—å®ƒä»¬çš„å¼€å‘ä½“éªŒï¼Œç„¶åæ ¹æ®ä½ çš„é¡¹ç›®éœ€æ±‚å’Œä¸ªäººåå¥½åšå‡ºå†³å®šã€‚
]]></content>
      <categories>
        <category>æŠ€æœ¯åˆ†äº«</category>
      </categories>
      <tags>
        <tag>React</tag>
        <tag>Vue</tag>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title>Java æ³¨è§£</title>
    <url>/2025/08/12/Java%20%E6%B3%A8%E8%A7%A3/</url>
    <content><![CDATA[ğŸ“ Java æ³¨è§£å®Œå…¨æŒ‡å—
yys-projectä¸­å»¶ä¼¸å­¦ä¹ Javaæ³¨è§£ï¼Œä¸Šä¼ ä¸€ä¸‹

1. ä»€ä¹ˆæ˜¯Javaæ³¨è§£ï¼ŸJavaæ³¨è§£ï¼ˆAnnotationï¼‰æ˜¯Java 5å¼•å…¥çš„ä¸€ç§å…ƒæ•°æ®æœºåˆ¶ï¼Œå®ƒä¸ºä»£ç æä¾›äº†ä¸€ç§æè¿°æ€§çš„ä¿¡æ¯ï¼Œè€Œä¸ç›´æ¥å½±å“ä»£ç çš„æ‰§è¡Œé€»è¾‘ã€‚å¯ä»¥æŠŠæ³¨è§£ç†è§£ä¸ºâ€ç»™ä»£ç è´´æ ‡ç­¾â€ï¼Œè¿™äº›æ ‡ç­¾å¯ä»¥è¢«ç¼–è¯‘å™¨ã€å¼€å‘å·¥å…·æˆ–è¿è¡Œæ—¶ç¯å¢ƒè¯»å–å’Œå¤„ç†ã€‚
æ³¨è§£çš„æœ¬è´¨
æ³¨è§£æœ¬è´¨ä¸Šæ˜¯ä¸€ç§ç‰¹æ®Šçš„æ¥å£
ç»§æ‰¿è‡ªjava.lang.annotation.Annotationæ¥å£
åœ¨ç¼–è¯‘åä¼šç”Ÿæˆç›¸åº”çš„å­—èŠ‚ç ä¿¡æ¯

2. Javaæ³¨è§£ vs C++çš„å¯¹æ¯”


ç‰¹æ€§
Javaæ³¨è§£
C++å®&#x2F;é¢„å¤„ç†æŒ‡ä»¤
C++å±æ€§(C++11+)



è¯­æ³•
@æ³¨è§£å
#define, #pragma
[[å±æ€§å]]


å¤„ç†æ—¶æœº
ç¼–è¯‘æ—¶&#x2F;è¿è¡Œæ—¶
é¢„å¤„ç†æ—¶
ç¼–è¯‘æ—¶


ç±»å‹å®‰å…¨
å¼ºç±»å‹
å¼±ç±»å‹
å¼ºç±»å‹


åå°„æ”¯æŒ
å®Œå…¨æ”¯æŒ
ä¸æ”¯æŒ
æœ‰é™æ”¯æŒ


åŠŸèƒ½èŒƒå›´
å…ƒæ•°æ®ã€éªŒè¯ã€ä»£ç ç”Ÿæˆ
æ–‡æœ¬æ›¿æ¢ã€æ¡ä»¶ç¼–è¯‘
ä¼˜åŒ–æç¤ºã€å±æ€§æ ‡è®°


ä¸¾ä¾‹å¯¹æ¯”ï¼šJavaæ³¨è§£ï¼š
@Overridepublic String toString() &#123;    return &quot;example&quot;;&#125;

C++å±æ€§ï¼š
[[override]]virtual std::string toString() &#123;    return &quot;example&quot;;&#125;

C++å®ï¼š
#define OVERRIDE virtualOVERRIDE std::string toString() &#123;    return &quot;example&quot;;&#125;

3. æ³¨è§£çš„å·¥ä½œåŸç†3.1 ç¼–è¯‘æ—¶å¤„ç†// æºä»£ç @Overridepublic void method() &#123;&#125;// ç¼–è¯‘åçš„å­—èŠ‚ç ä¸­ä¼šåŒ…å«æ³¨è§£ä¿¡æ¯// å¯ä»¥é€šè¿‡åå°„APIåœ¨è¿è¡Œæ—¶è®¿é—®

3.2 ä¸‰ä¸ªå¤„ç†é˜¶æ®µ
æºç é˜¶æ®µï¼šæ³¨è§£å­˜åœ¨äº.javaæ–‡ä»¶ä¸­
ç¼–è¯‘é˜¶æ®µï¼šæ³¨è§£è¢«ç¼–è¯‘å™¨å¤„ç†ï¼Œå¯èƒ½ç”Ÿæˆé¢å¤–ä»£ç 
è¿è¡Œé˜¶æ®µï¼šé€šè¿‡åå°„APIè¯»å–æ³¨è§£ä¿¡æ¯

3.3 æ³¨è§£å¤„ç†å™¨ï¼ˆAnnotation Processorï¼‰// è‡ªå®šä¹‰æ³¨è§£å¤„ç†å™¨ç¤ºä¾‹@SupportedAnnotationTypes(&quot;com.example.MyAnnotation&quot;)public class MyProcessor extends AbstractProcessor &#123;    @Override    public boolean process(Set&lt;? extends TypeElement&gt; annotations,                           RoundEnvironment roundEnv) &#123;        // åœ¨ç¼–è¯‘æ—¶å¤„ç†æ³¨è§£        return true;    &#125;&#125;

4. æ³¨è§£çš„åˆ†ç±»4.1 æŒ‰ç”Ÿå‘½å‘¨æœŸåˆ†ç±»SOURCEï¼ˆæºç çº§ï¼‰@Retention(RetentionPolicy.SOURCE)public @interface SourceAnnotation &#123;    String value();&#125;

åªåœ¨æºç ä¸­å­˜åœ¨ï¼Œç¼–è¯‘åä¸¢å¼ƒ
ä¸»è¦ç”¨äºç¼–è¯‘æ—¶æ£€æŸ¥
ä¾‹å¦‚ï¼š@Override, @SuppressWarnings

CLASSï¼ˆå­—èŠ‚ç çº§ï¼‰@Retention(RetentionPolicy.CLASS)public @interface ClassAnnotation &#123;    String value();&#125;

åœ¨å­—èŠ‚ç ä¸­ä¿ç•™ï¼Œä½†è¿è¡Œæ—¶ä¸å¯è®¿é—®
é»˜è®¤çš„ä¿ç•™ç­–ç•¥
ç”¨äºç¼–è¯‘æ—¶æˆ–å­—èŠ‚ç å¤„ç†å·¥å…·

RUNTIMEï¼ˆè¿è¡Œæ—¶çº§ï¼‰@Retention(RetentionPolicy.RUNTIME)public @interface RuntimeAnnotation &#123;    String value();&#125;

è¿è¡Œæ—¶å¯é€šè¿‡åå°„è®¿é—®
æœ€å¸¸ç”¨çš„ç±»å‹
ç”¨äºæ¡†æ¶å’Œåº“çš„è¿è¡Œæ—¶å¤„ç†

4.2 æŒ‰ä½œç”¨ç›®æ ‡åˆ†ç±»@Target(&#123;ElementType.TYPE, ElementType.METHOD&#125;)public @interface MyAnnotation &#123;    // å¯ä»¥ç”¨åœ¨ç±»å’Œæ–¹æ³•ä¸Š&#125;

å¸¸è§çš„ElementTypeï¼š

TYPEï¼šç±»ã€æ¥å£ã€æšä¸¾
METHODï¼šæ–¹æ³•
FIELDï¼šå­—æ®µ
PARAMETERï¼šå‚æ•°
CONSTRUCTORï¼šæ„é€ å™¨
PACKAGEï¼šåŒ…

5. å¸¸è§å†…ç½®æ³¨è§£è¯¦è§£5.1 åŸºç¡€æ³¨è§£@Overridepublic class Child extends Parent &#123;    @Override  // ç¡®ä¿æ­£ç¡®é‡å†™çˆ¶ç±»æ–¹æ³•    public void method() &#123;        System.out.println(&quot;å­ç±»å®ç°&quot;);    &#125;&#125;
åŠŸèƒ½ï¼š

ç¼–è¯‘æ—¶æ£€æŸ¥æ˜¯å¦æ­£ç¡®é‡å†™äº†çˆ¶ç±»æ–¹æ³•
æé«˜ä»£ç å¯è¯»æ€§
é˜²æ­¢æ–¹æ³•ç­¾åé”™è¯¯

@Deprecatedpublic class OldAPI &#123;    @Deprecated(since = &quot;1.5&quot;, forRemoval = true)    public void oldMethod() &#123;        // å·²åºŸå¼ƒçš„æ–¹æ³•    &#125;        public void newMethod() &#123;        // æ¨èä½¿ç”¨çš„æ–°æ–¹æ³•    &#125;&#125;
åŠŸèƒ½ï¼š

æ ‡è®°å·²åºŸå¼ƒçš„API
ç¼–è¯‘æ—¶äº§ç”Ÿè­¦å‘Š
å¯ä»¥æŒ‡å®šåºŸå¼ƒç‰ˆæœ¬å’Œæ˜¯å¦å°†è¢«ç§»é™¤

@SuppressWarningspublic class Example &#123;    @SuppressWarnings(&quot;unchecked&quot;)    public void method() &#123;        List list = new ArrayList();  // åŸå§‹ç±»å‹è­¦å‘Šè¢«æŠ‘åˆ¶        list.add(&quot;item&quot;);    &#125;        @SuppressWarnings(&#123;&quot;unused&quot;, &quot;deprecation&quot;&#125;)    private void anotherMethod() &#123;        // æŠ‘åˆ¶å¤šç§è­¦å‘Š    &#125;&#125;
å¸¸ç”¨è­¦å‘Šç±»å‹ï¼š

uncheckedï¼šæœªæ£€æŸ¥è½¬æ¢
unusedï¼šæœªä½¿ç”¨çš„å˜é‡
deprecationï¼šä½¿ç”¨å·²åºŸå¼ƒçš„API
rawtypesï¼šä½¿ç”¨åŸå§‹ç±»å‹

@SafeVarargspublic class VarargsExample &#123;    @SafeVarargs    public static &lt;T&gt; void printAll(T... items) &#123;        for (T item : items) &#123;            System.out.println(item);        &#125;    &#125;&#125;

5.2 å‡½æ•°å¼æ¥å£æ³¨è§£@FunctionalInterface è¯¦ç»†è§£é‡Š@FunctionalInterfaceæ³¨è§£ç”¨æ¥æ ‡è®°ä¸€ä¸ªæ¥å£æ˜¯å‡½æ•°å¼æ¥å£ï¼Œè¿™æ˜¯Java 8å¼•å…¥Lambdaè¡¨è¾¾å¼åçš„é‡è¦æ¦‚å¿µã€‚
ä»€ä¹ˆæ˜¯å‡½æ•°å¼æ¥å£ï¼Ÿå‡½æ•°å¼æ¥å£æ˜¯åªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£ï¼Œå®ƒå¯ä»¥è¢«Lambdaè¡¨è¾¾å¼å®ç°ã€‚
@FunctionalInterfacepublic interface Calculator &#123;    // åªèƒ½æœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼ˆæ ¸å¿ƒè¦æ±‚ï¼‰    int calculate(int a, int b);        // å¯ä»¥æœ‰é»˜è®¤æ–¹æ³•ï¼ˆä¸ç®—æŠ½è±¡æ–¹æ³•ï¼‰    default void log() &#123;        System.out.println(&quot;è®¡ç®—å®Œæˆ&quot;);    &#125;        // å¯ä»¥æœ‰é™æ€æ–¹æ³•ï¼ˆä¸ç®—æŠ½è±¡æ–¹æ³•ï¼‰    static void info() &#123;        System.out.println(&quot;è¿™æ˜¯ä¸€ä¸ªè®¡ç®—å™¨æ¥å£&quot;);    &#125;&#125;

Lambdaè¡¨è¾¾å¼å®ç°ä¼ ç»Ÿæ–¹å¼ vs Lambdaæ–¹å¼çš„å¯¹æ¯”ï¼š
// âŒ ä¼ ç»Ÿæ–¹å¼ï¼šä½¿ç”¨åŒ¿åå†…éƒ¨ç±»Calculator add = new Calculator() &#123;    @Override    public int calculate(int a, int b) &#123;        return a + b;    &#125;&#125;;// âœ… Lambdaæ–¹å¼ï¼šç®€æ´æ˜äº†Calculator add = (a, b) -&gt; a + b;Calculator multiply = (a, b) -&gt; a * b;Calculator subtract = (a, b) -&gt; a - b;// ä½¿ç”¨ç¤ºä¾‹int result1 = add.calculate(5, 3);        // ç»“æœï¼š8int result2 = multiply.calculate(4, 6);   // ç»“æœï¼š24int result3 = subtract.calculate(10, 4);  // ç»“æœï¼š6

Lambdaè¡¨è¾¾å¼è¯­æ³•è¯¦è§£// å®Œæ•´è¯­æ³•ï¼š(å‚æ•°åˆ—è¡¨) -&gt; &#123; æ–¹æ³•ä½“ &#125;Calculator complex = (int a, int b) -&gt; &#123;    System.out.println(&quot;æ­£åœ¨è®¡ç®—: &quot; + a + &quot; + &quot; + b);    int result = a + b;    return result;&#125;;// ç®€åŒ–è¯­æ³•ï¼šå‚æ•°ç±»å‹å¯ä»¥çœç•¥ï¼ˆç±»å‹æ¨æ–­ï¼‰Calculator simple = (a, b) -&gt; a + b;// å•å‚æ•°å¯ä»¥çœç•¥æ‹¬å·Function&lt;Integer, Integer&gt; square = x -&gt; x * x;// æ— å‚æ•°å¿…é¡»ä¿ç•™ç©ºæ‹¬å·Supplier&lt;String&gt; greeting = () -&gt; &quot;Hello World&quot;;// å•æ¡è¯­å¥å¯ä»¥çœç•¥å¤§æ‹¬å·å’ŒreturnCalculator add = (a, b) -&gt; a + b;// å¤šæ¡è¯­å¥å¿…é¡»ä½¿ç”¨å¤§æ‹¬å·å’ŒreturnCalculator verbose = (a, b) -&gt; &#123;    System.out.println(&quot;å¼€å§‹è®¡ç®—&quot;);    return a + b;&#125;;

å¸¸è§çš„å‡½æ•°å¼æ¥å£Javaæä¾›äº†è®¸å¤šå†…ç½®çš„å‡½æ•°å¼æ¥å£ï¼š
// 1. Supplier&lt;T&gt; - ä¾›åº”å•†ï¼šæ— å‚æ•°ï¼Œè¿”å›Tç±»å‹Supplier&lt;String&gt; stringSupplier = () -&gt; &quot;Hello&quot;;Supplier&lt;Integer&gt; randomNum = () -&gt; new Random().nextInt(100);// 2. Consumer&lt;T&gt; - æ¶ˆè´¹è€…ï¼šæ¥å—Tç±»å‹å‚æ•°ï¼Œæ— è¿”å›å€¼Consumer&lt;String&gt; printer = str -&gt; System.out.println(str);Consumer&lt;Integer&gt; logger = num -&gt; System.out.println(&quot;æ•°å­—ï¼š&quot; + num);// 3. Function&lt;T, R&gt; - å‡½æ•°ï¼šæ¥å—Tç±»å‹ï¼Œè¿”å›Rç±»å‹Function&lt;String, Integer&gt; stringLength = str -&gt; str.length();Function&lt;Integer, String&gt; intToString = num -&gt; &quot;æ•°å­—ï¼š&quot; + num;// 4. Predicate&lt;T&gt; - æ–­è¨€ï¼šæ¥å—Tç±»å‹ï¼Œè¿”å›booleanPredicate&lt;String&gt; isEmpty = str -&gt; str.isEmpty();Predicate&lt;Integer&gt; isEven = num -&gt; num % 2 == 0;// 5. BiFunction&lt;T, U, R&gt; - åŒå‚æ•°å‡½æ•°ï¼šæ¥å—Tå’ŒUï¼Œè¿”å›RBiFunction&lt;Integer, Integer, Integer&gt; add = (a, b) -&gt; a + b;BiFunction&lt;String, String, String&gt; concat = (s1, s2) -&gt; s1 + s2;

å®é™…åº”ç”¨ç¤ºä¾‹public class CalculatorDemo &#123;    public static void main(String[] args) &#123;        // å®šä¹‰ä¸åŒçš„è®¡ç®—æ–¹å¼        Calculator add = (a, b) -&gt; a + b;        Calculator multiply = (a, b) -&gt; a * b;        Calculator max = (a, b) -&gt; Math.max(a, b);                // ä½¿ç”¨è®¡ç®—å™¨        performCalculation(10, 5, add);      // è¾“å‡ºï¼šç»“æœï¼š15        performCalculation(10, 5, multiply); // è¾“å‡ºï¼šç»“æœï¼š50        performCalculation(10, 5, max);      // è¾“å‡ºï¼šç»“æœï¼š10                // é›†åˆæ“ä½œä¸­ä½¿ç”¨Lambda        List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 3, 4, 5);                // è¿‡æ»¤å¶æ•°        List&lt;Integer&gt; evenNumbers = numbers.stream()            .filter(n -&gt; n % 2 == 0)            .collect(Collectors.toList());                // å¹³æ–¹è¿ç®—        List&lt;Integer&gt; squares = numbers.stream()            .map(n -&gt; n * n)            .collect(Collectors.toList());                // æ±‚å’Œ        int sum = numbers.stream()            .reduce(0, (a, b) -&gt; a + b);    &#125;        // é«˜é˜¶å‡½æ•°ï¼šæ¥å—å‡½æ•°ä½œä¸ºå‚æ•°    public static void performCalculation(int a, int b, Calculator calc) &#123;        int result = calc.calculate(a, b);        System.out.println(&quot;ç»“æœï¼š&quot; + result);        calc.log(); // è°ƒç”¨é»˜è®¤æ–¹æ³•    &#125;&#125;

@FunctionalInterfaceæ³¨è§£çš„ä½œç”¨
ç¼–è¯‘æ—¶æ£€æŸ¥ï¼šç¡®ä¿æ¥å£åªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•

@FunctionalInterfacepublic interface InvalidInterface &#123;    void method1();    void method2(); // ç¼–è¯‘é”™è¯¯ï¼å‡½æ•°å¼æ¥å£åªèƒ½æœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•&#125;


æ–‡æ¡£è¯´æ˜ï¼šæ˜ç¡®è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªå‡½æ•°å¼æ¥å£
IDEæ”¯æŒï¼šå¼€å‘å·¥å…·å¯ä»¥æä¾›æ›´å¥½çš„Lambdaæ”¯æŒ

ä¸ä¼ ç»Ÿæ¥å£çš„åŒºåˆ«// ä¼ ç»Ÿæ¥å£ - å¯èƒ½æœ‰å¤šä¸ªæŠ½è±¡æ–¹æ³•public interface TraditionalInterface &#123;    void method1();    void method2();    void method3();&#125;// å‡½æ•°å¼æ¥å£ - åªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•@FunctionalInterfacepublic interface FunctionalInterface &#123;    void singleMethod();        // å¯ä»¥æœ‰é»˜è®¤æ–¹æ³•å’Œé™æ€æ–¹æ³•    default void defaultMethod() &#123;&#125;    static void staticMethod() &#123;&#125;&#125;

æ–¹æ³•å¼•ç”¨ï¼ˆMethod Referenceï¼‰Lambdaè¡¨è¾¾å¼çš„è¿›ä¸€æ­¥ç®€åŒ–ï¼š
// Lambdaè¡¨è¾¾å¼Function&lt;String, Integer&gt; lengthLambda = str -&gt; str.length();// æ–¹æ³•å¼•ç”¨ï¼ˆæ›´ç®€æ´ï¼‰Function&lt;String, Integer&gt; lengthMethodRef = String::length;// å…¶ä»–æ–¹æ³•å¼•ç”¨ç¤ºä¾‹Consumer&lt;String&gt; printLambda = str -&gt; System.out.println(str);Consumer&lt;String&gt; printMethodRef = System.out::println;// æ„é€ å™¨å¼•ç”¨Supplier&lt;ArrayList&lt;String&gt;&gt; listSupplier = ArrayList::new;

æ€»ç»“ï¼š@FunctionalInterfaceè®©Javaæ”¯æŒå‡½æ•°å¼ç¼–ç¨‹ï¼Œä½¿ä»£ç æ›´ç®€æ´ã€æ›´å…·è¡¨è¾¾åŠ›ã€‚Lambdaè¡¨è¾¾å¼æœ¬è´¨ä¸Šæ˜¯åŒ¿åå‡½æ•°çš„ç®€å†™ï¼Œè®©æˆ‘ä»¬å¯ä»¥å°†è¡Œä¸ºä½œä¸ºå‚æ•°ä¼ é€’ï¼Œè¿™æ˜¯ç°ä»£Javaç¼–ç¨‹çš„é‡è¦ç‰¹æ€§ï¼
6. æ¡†æ¶ä¸­çš„å¸¸ç”¨æ³¨è§£ä»€ä¹ˆæ˜¯Springæ¡†æ¶ï¼ŸSpringæ˜¯Javaä¼ä¸šçº§å¼€å‘ä¸­æœ€æµè¡Œçš„åº”ç”¨æ¡†æ¶ï¼Œå®ƒæä¾›äº†ï¼š

ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰ï¼šè‡ªåŠ¨ç®¡ç†å¯¹è±¡é—´çš„ä¾èµ–å…³ç³»
é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼ˆAOPï¼‰ï¼šç»Ÿä¸€å¤„ç†æ¨ªåˆ‡å…³æ³¨ç‚¹ï¼ˆå¦‚æ—¥å¿—ã€äº‹åŠ¡ï¼‰
äº‹åŠ¡ç®¡ç†ï¼šç®€åŒ–æ•°æ®åº“äº‹åŠ¡å¤„ç†
Webå¼€å‘æ”¯æŒï¼šMVCæ¶æ„æ”¯æŒ

Spring Bootæ˜¯Springçš„è¿›åŒ–ç‰ˆï¼Œå®ƒï¼š

è‡ªåŠ¨é…ç½®ï¼šæ ¹æ®ä¾èµ–è‡ªåŠ¨é…ç½®Springåº”ç”¨
å†…åµŒæœåŠ¡å™¨ï¼šæ— éœ€å¤–éƒ¨Tomcatï¼Œç›´æ¥è¿è¡Œ
ç®€åŒ–é…ç½®ï¼šå‡å°‘XMLé…ç½®ï¼ŒåŸºäºæ³¨è§£å¼€å‘
å¾®æœåŠ¡å‹å¥½ï¼šæ˜“äºæ„å»ºç‹¬ç«‹çš„å¾®æœåŠ¡åº”ç”¨

6.1 Springæ ¸å¿ƒæ³¨è§£è¯¦è§£ç»„ä»¶æ³¨è§£ç³»åˆ—@Component - é€šç”¨ç»„ä»¶æ³¨è§£/** * @Component: Springçš„åŸºç¡€ç»„ä»¶æ³¨è§£ * åŠŸèƒ½ï¼šå‘Šè¯‰Springè¿™æ˜¯ä¸€ä¸ªéœ€è¦ç®¡ç†çš„Beanï¼ˆå¯¹è±¡ï¼‰ * ä½œç”¨ï¼šSpringä¼šè‡ªåŠ¨åˆ›å»ºè¿™ä¸ªç±»çš„å®ä¾‹ï¼Œå¹¶æ”¾å…¥å®¹å™¨ä¸­ç®¡ç† */@Componentpublic class EmailService &#123;    public void sendEmail(String to, String message) &#123;        System.out.println(&quot;å‘é€é‚®ä»¶åˆ°: &quot; + to);        System.out.println(&quot;å†…å®¹: &quot; + message);    &#125;&#125;// å¯ä»¥æŒ‡å®šBeançš„åç§°@Component(&quot;customEmailService&quot;)public class CustomEmailService &#123;    // Springå®¹å™¨ä¸­è¿™ä¸ªBeançš„åç§°æ˜¯&quot;customEmailService&quot;&#125;

@Service - ä¸šåŠ¡é€»è¾‘å±‚æ³¨è§£/** * @Service: æ ‡è®°ä¸šåŠ¡é€»è¾‘å±‚ç»„ä»¶ * åŠŸèƒ½ï¼šæœ¬è´¨ä¸Šç­‰åŒäº@Componentï¼Œä½†è¯­ä¹‰æ›´æ˜ç¡® * ç”¨é€”ï¼šå¤„ç†ä¸šåŠ¡é€»è¾‘ã€è°ƒç”¨æ•°æ®è®¿é—®å±‚ã€å®ç°ä¸šåŠ¡è§„åˆ™ */@Servicepublic class UserService &#123;        @Autowired    private UserRepository userRepository;        // ä¸šåŠ¡æ–¹æ³•ï¼šåˆ›å»ºç”¨æˆ·    public User createUser(String username, String email) &#123;        // ä¸šåŠ¡é€»è¾‘ï¼šéªŒè¯ç”¨æˆ·åæ˜¯å¦é‡å¤        if (userRepository.existsByUsername(username)) &#123;            throw new IllegalArgumentException(&quot;ç”¨æˆ·åå·²å­˜åœ¨&quot;);        &#125;                // åˆ›å»ºç”¨æˆ·å¯¹è±¡        User user = new User();        user.setUsername(username);        user.setEmail(email);        user.setCreatedAt(new Date());                // ä¿å­˜åˆ°æ•°æ®åº“        return userRepository.save(user);    &#125;        // ä¸šåŠ¡æ–¹æ³•ï¼šç”¨æˆ·ç™»å½•éªŒè¯    public boolean authenticate(String username, String password) &#123;        User user = userRepository.findByUsername(username);        return user != null &amp;&amp; user.getPassword().equals(password);    &#125;&#125;

@Repository - æ•°æ®è®¿é—®å±‚æ³¨è§£/** * @Repository: æ ‡è®°æ•°æ®è®¿é—®å±‚ç»„ä»¶ * åŠŸèƒ½ï¼š * 1. ç­‰åŒäº@Componentï¼Œä½†è¯­ä¹‰æ›´æ˜ç¡® * 2. è‡ªåŠ¨å°†æ•°æ®è®¿é—®å¼‚å¸¸è½¬æ¢ä¸ºSpringçš„DataAccessException * ç”¨é€”ï¼šå¤„ç†æ•°æ®åº“æ“ä½œã€æ–‡ä»¶æ“ä½œç­‰æ•°æ®è®¿é—®é€»è¾‘ */@Repositorypublic class UserRepository &#123;        @Autowired    private JdbcTemplate jdbcTemplate;        // æ•°æ®è®¿é—®æ–¹æ³•ï¼šæ ¹æ®IDæŸ¥æ‰¾ç”¨æˆ·    public User findById(Long id) &#123;        String sql = &quot;SELECT * FROM users WHERE id = ?&quot;;        return jdbcTemplate.queryForObject(sql, new Object[]&#123;id&#125;,             (rs, rowNum) -&gt; &#123;                User user = new User();                user.setId(rs.getLong(&quot;id&quot;));                user.setUsername(rs.getString(&quot;username&quot;));                user.setEmail(rs.getString(&quot;email&quot;));                return user;            &#125;);    &#125;        // æ•°æ®è®¿é—®æ–¹æ³•ï¼šä¿å­˜ç”¨æˆ·    public User save(User user) &#123;        if (user.getId() == null) &#123;            // æ–°å»ºç”¨æˆ·            String sql = &quot;INSERT INTO users (username, email, created_at) VALUES (?, ?, ?)&quot;;            KeyHolder keyHolder = new GeneratedKeyHolder();            jdbcTemplate.update(connection -&gt; &#123;                PreparedStatement ps = connection.prepareStatement(sql, Statement.RETURN_GENERATED_KEYS);                ps.setString(1, user.getUsername());                ps.setString(2, user.getEmail());                ps.setTimestamp(3, new Timestamp(user.getCreatedAt().getTime()));                return ps;            &#125;, keyHolder);            user.setId(keyHolder.getKey().longValue());        &#125; else &#123;            // æ›´æ–°ç”¨æˆ·            String sql = &quot;UPDATE users SET username = ?, email = ? WHERE id = ?&quot;;            jdbcTemplate.update(sql, user.getUsername(), user.getEmail(), user.getId());        &#125;        return user;    &#125;        public boolean existsByUsername(String username) &#123;        String sql = &quot;SELECT COUNT(*) FROM users WHERE username = ?&quot;;        int count = jdbcTemplate.queryForObject(sql, Integer.class, username);        return count &gt; 0;    &#125;&#125;

@Controller - Webæ§åˆ¶å™¨æ³¨è§£/** * @Controller: æ ‡è®°Webæ§åˆ¶å™¨ç»„ä»¶ * åŠŸèƒ½ï¼šå¤„ç†HTTPè¯·æ±‚ï¼Œè¿”å›è§†å›¾ï¼ˆå¦‚JSPã€Thymeleafæ¨¡æ¿ï¼‰ * ç”¨é€”ï¼šä¼ ç»Ÿçš„MVCæ¶æ„ä¸­çš„Controllerå±‚ */@Controller@RequestMapping(&quot;/web&quot;)public class WebController &#123;        @Autowired    private UserService userService;        // å¤„ç†GETè¯·æ±‚ï¼Œè¿”å›ç”¨æˆ·åˆ—è¡¨é¡µé¢    @GetMapping(&quot;/users&quot;)    public String listUsers(Model model) &#123;        List&lt;User&gt; users = userService.getAllUsers();        model.addAttribute(&quot;users&quot;, users);        return &quot;user-list&quot;; // è¿”å›è§†å›¾åç§°ï¼Œå¯¹åº”user-list.htmlæ¨¡æ¿    &#125;        // å¤„ç†GETè¯·æ±‚ï¼Œæ˜¾ç¤ºç”¨æˆ·è¯¦æƒ…é¡µé¢    @GetMapping(&quot;/users/&#123;id&#125;&quot;)    public String userDetail(@PathVariable Long id, Model model) &#123;        User user = userService.findById(id);        model.addAttribute(&quot;user&quot;, user);        return &quot;user-detail&quot;; // è¿”å›user-detail.htmlæ¨¡æ¿    &#125;        // å¤„ç†POSTè¯·æ±‚ï¼Œåˆ›å»ºç”¨æˆ·åé‡å®šå‘    @PostMapping(&quot;/users&quot;)    public String createUser(@ModelAttribute User user) &#123;        userService.createUser(user.getUsername(), user.getEmail());        return &quot;redirect:/web/users&quot;; // é‡å®šå‘åˆ°ç”¨æˆ·åˆ—è¡¨é¡µé¢    &#125;&#125;

ä¾èµ–æ³¨å…¥æ³¨è§£@Autowired - è‡ªåŠ¨è£…é…æ³¨è§£/** * @Autowired: è‡ªåŠ¨ä¾èµ–æ³¨å…¥æ³¨è§£ * åŠŸèƒ½ï¼šSpringè‡ªåŠ¨æŸ¥æ‰¾åŒ¹é…çš„Beanå¹¶æ³¨å…¥ * åŸç†ï¼šæŒ‰ç±»å‹ï¼ˆTypeï¼‰åŒ¹é…ï¼Œå¦‚æœæœ‰å¤šä¸ªåŒç±»å‹Beanåˆ™æŒ‰åç§°åŒ¹é… */@Servicepublic class OrderService &#123;        // 1. å­—æ®µæ³¨å…¥ï¼ˆæœ€å¸¸ç”¨ï¼Œä½†ä¸æ¨èç”¨äºæµ‹è¯•ï¼‰    @Autowired    private UserService userService;        @Autowired    private PaymentService paymentService;        // 2. æ„é€ å™¨æ³¨å…¥ï¼ˆæ¨èæ–¹å¼ï¼Œä¾¿äºæµ‹è¯•å’Œç¡®ä¿ä¾èµ–ä¸ä¸ºnullï¼‰    private final EmailService emailService;    private final InventoryService inventoryService;        @Autowired    public OrderService(EmailService emailService, InventoryService inventoryService) &#123;        this.emailService = emailService;        this.inventoryService = inventoryService;    &#125;        // 3. Setteræ³¨å…¥ï¼ˆå¯é€‰ä¾èµ–ï¼‰    private NotificationService notificationService;        @Autowired(required = false) // required=falseè¡¨ç¤ºè¿™ä¸ªä¾èµ–æ˜¯å¯é€‰çš„    public void setNotificationService(NotificationService notificationService) &#123;        this.notificationService = notificationService;    &#125;        public Order createOrder(Long userId, List&lt;OrderItem&gt; items) &#123;        // ä½¿ç”¨æ³¨å…¥çš„ä¾èµ–        User user = userService.findById(userId);                // æ£€æŸ¥åº“å­˜        for (OrderItem item : items) &#123;            if (!inventoryService.isAvailable(item.getProductId(), item.getQuantity())) &#123;                throw new RuntimeException(&quot;åº“å­˜ä¸è¶³&quot;);            &#125;        &#125;                // åˆ›å»ºè®¢å•        Order order = new Order();        order.setUser(user);        order.setItems(items);        order.setStatus(&quot;CREATED&quot;);                // å¤„ç†æ”¯ä»˜        boolean paymentSuccess = paymentService.processPayment(order.getTotalAmount());        if (paymentSuccess) &#123;            order.setStatus(&quot;PAID&quot;);                        // å‘é€é‚®ä»¶é€šçŸ¥            emailService.sendEmail(user.getEmail(), &quot;è®¢å•åˆ›å»ºæˆåŠŸ&quot;);                        // å¯é€‰çš„é€šçŸ¥æœåŠ¡            if (notificationService != null) &#123;                notificationService.sendPushNotification(user.getId(), &quot;æ‚¨çš„è®¢å•å·²åˆ›å»º&quot;);            &#125;        &#125;                return order;    &#125;&#125;

@Qualifier - æŒ‡å®šå…·ä½“Bean/** * @Qualifier: å½“æœ‰å¤šä¸ªåŒç±»å‹Beanæ—¶ï¼ŒæŒ‡å®šè¦æ³¨å…¥å“ªä¸€ä¸ª * åœºæ™¯ï¼šä¸€ä¸ªæ¥å£æœ‰å¤šä¸ªå®ç°ç±» */// æ¥å£public interface PaymentService &#123;    boolean processPayment(BigDecimal amount);&#125;// å®ç°ç±»1@Service(&quot;alipayService&quot;)public class AlipayService implements PaymentService &#123;    public boolean processPayment(BigDecimal amount) &#123;        System.out.println(&quot;ä½¿ç”¨æ”¯ä»˜å®æ”¯ä»˜: &quot; + amount);        return true;    &#125;&#125;// å®ç°ç±»2@Service(&quot;wechatPayService&quot;)public class WechatPayService implements PaymentService &#123;    public boolean processPayment(BigDecimal amount) &#123;        System.out.println(&quot;ä½¿ç”¨å¾®ä¿¡æ”¯ä»˜: &quot; + amount);        return true;    &#125;&#125;// ä½¿ç”¨æ—¶æŒ‡å®šå…·ä½“çš„å®ç°@Servicepublic class OrderService &#123;        @Autowired    @Qualifier(&quot;alipayService&quot;) // æ˜ç¡®æŒ‡å®šä½¿ç”¨æ”¯ä»˜å®æœåŠ¡    private PaymentService paymentService;        // æˆ–è€…ä½¿ç”¨æ„é€ å™¨æ³¨å…¥    public OrderService(@Qualifier(&quot;wechatPayService&quot;) PaymentService paymentService) &#123;        this.paymentService = paymentService;    &#125;&#125;

@Value - å±æ€§å€¼æ³¨å…¥/** * @Value: æ³¨å…¥é…ç½®æ–‡ä»¶ä¸­çš„å±æ€§å€¼ * åŠŸèƒ½ï¼šä»application.propertiesæˆ–application.ymlè¯»å–é…ç½® */// application.propertiesæ–‡ä»¶å†…å®¹ï¼š// app.name=æˆ‘çš„åº”ç”¨// app.version=1.0.0// database.url=jdbc:mysql://localhost:3306/mydb// email.smtp.host=smtp.gmail.com// email.smtp.port=587@Servicepublic class ConfigService &#123;        // æ³¨å…¥ç®€å•å±æ€§å€¼    @Value(&quot;$&#123;app.name&#125;&quot;)    private String appName;        @Value(&quot;$&#123;app.version&#125;&quot;)    private String appVersion;        // æ³¨å…¥æ•°å­—ç±»å‹    @Value(&quot;$&#123;email.smtp.port&#125;&quot;)    private int smtpPort;        // æä¾›é»˜è®¤å€¼ï¼ˆå¦‚æœé…ç½®æ–‡ä»¶ä¸­æ²¡æœ‰è¯¥å±æ€§ï¼‰    @Value(&quot;$&#123;app.debug:false&#125;&quot;) // é»˜è®¤å€¼ä¸ºfalse    private boolean debugMode;        @Value(&quot;$&#123;app.max-users:1000&#125;&quot;) // é»˜è®¤å€¼ä¸º1000    private int maxUsers;        // æ³¨å…¥ç³»ç»Ÿå±æ€§    @Value(&quot;$&#123;java.version&#125;&quot;)    private String javaVersion;        // æ³¨å…¥ç¯å¢ƒå˜é‡    @Value(&quot;$&#123;HOME&#125;&quot;) // Unix/Linuxç³»ç»Ÿçš„HOMEç¯å¢ƒå˜é‡    private String homeDirectory;        public void printConfig() &#123;        System.out.println(&quot;åº”ç”¨åç§°: &quot; + appName);        System.out.println(&quot;åº”ç”¨ç‰ˆæœ¬: &quot; + appVersion);        System.out.println(&quot;SMTPç«¯å£: &quot; + smtpPort);        System.out.println(&quot;è°ƒè¯•æ¨¡å¼: &quot; + debugMode);        System.out.println(&quot;æœ€å¤§ç”¨æˆ·æ•°: &quot; + maxUsers);        System.out.println(&quot;Javaç‰ˆæœ¬: &quot; + javaVersion);        System.out.println(&quot;ä¸»ç›®å½•: &quot; + homeDirectory);    &#125;&#125;

6.2 Spring Bootæ³¨è§£è¯¦è§£@SpringBootApplication - å¯åŠ¨ç±»æ³¨è§£/** * @SpringBootApplication: Spring Bootåº”ç”¨çš„æ ¸å¿ƒæ³¨è§£ * åŠŸèƒ½ï¼šè¿™æ˜¯ä¸€ä¸ªç»„åˆæ³¨è§£ï¼Œç­‰ä»·äºä»¥ä¸‹ä¸‰ä¸ªæ³¨è§£çš„ç»„åˆï¼š * 1. @Configuration: æ ‡è®°è¿™æ˜¯ä¸€ä¸ªé…ç½®ç±» * 2. @EnableAutoConfiguration: å¯ç”¨Spring Bootçš„è‡ªåŠ¨é…ç½® * 3. @ComponentScan: å¯ç”¨ç»„ä»¶æ‰«æ */@SpringBootApplicationpublic class MyApplication &#123;    public static void main(String[] args) &#123;        // å¯åŠ¨Spring Bootåº”ç”¨        SpringApplication.run(MyApplication.class, args);                /*         * è¿™ä¸€è¡Œä»£ç ä¼šï¼š         * 1. åˆ›å»ºSpringåº”ç”¨ä¸Šä¸‹æ–‡         * 2. æ‰«æå½“å‰åŒ…åŠå­åŒ…ä¸­çš„@Componentã€@Serviceç­‰æ³¨è§£         * 3. æ ¹æ®classpathä¸­çš„ä¾èµ–è‡ªåŠ¨é…ç½®Bean         * 4. å¯åŠ¨å†…åµŒçš„WebæœåŠ¡å™¨ï¼ˆå¦‚Tomcatï¼‰         * 5. éƒ¨ç½²åº”ç”¨åˆ°æœåŠ¡å™¨ä¸Š         */    &#125;&#125;// å¦‚æœéœ€è¦è‡ªå®šä¹‰é…ç½®ï¼Œå¯ä»¥åˆ†åˆ«ä½¿ç”¨ï¼š@Configuration@EnableAutoConfiguration@ComponentScan(basePackages = &#123;&quot;com.example.service&quot;, &quot;com.example.repository&quot;&#125;)public class CustomApplication &#123;    // è‡ªå®šä¹‰é…ç½®&#125;

REST APIæ³¨è§£ç³»åˆ—@RestController - RESTæ§åˆ¶å™¨æ³¨è§£/** * @RestController: REST APIæ§åˆ¶å™¨æ³¨è§£ * åŠŸèƒ½ï¼šç­‰ä»·äº @Controller + @ResponseBody * ç‰¹ç‚¹ï¼šæ–¹æ³•è¿”å›çš„å¯¹è±¡ä¼šè‡ªåŠ¨è½¬æ¢ä¸ºJSONæ ¼å¼è¿”å›ç»™å®¢æˆ·ç«¯ * ç”¨é€”ï¼šæ„å»ºRESTful WebæœåŠ¡ */@RestController@RequestMapping(&quot;/api/v1&quot;) // åŸºç¡€è·¯å¾„public class UserRestController &#123;        @Autowired    private UserService userService;        /**     * GET /api/v1/users - è·å–æ‰€æœ‰ç”¨æˆ·     * è¿”å›JSONæ ¼å¼çš„ç”¨æˆ·åˆ—è¡¨     */    @GetMapping(&quot;/users&quot;)    public List&lt;User&gt; getAllUsers() &#123;        return userService.getAllUsers();        // Springä¼šè‡ªåŠ¨å°†List&lt;User&gt;è½¬æ¢ä¸ºJSONæ•°ç»„è¿”å›    &#125;        /**     * GET /api/v1/users/123 - æ ¹æ®IDè·å–ç”¨æˆ·     * @PathVariable: ä»URLè·¯å¾„ä¸­æå–å‚æ•°     */    @GetMapping(&quot;/users/&#123;id&#125;&quot;)    public ResponseEntity&lt;User&gt; getUserById(@PathVariable Long id) &#123;        try &#123;            User user = userService.findById(id);            return ResponseEntity.ok(user); // è¿”å›200çŠ¶æ€ç å’Œç”¨æˆ·æ•°æ®        &#125; catch (UserNotFoundException e) &#123;            return ResponseEntity.notFound().build(); // è¿”å›404çŠ¶æ€ç         &#125;    &#125;        /**     * POST /api/v1/users - åˆ›å»ºæ–°ç”¨æˆ·     * @RequestBody: å°†è¯·æ±‚ä½“ä¸­çš„JSONè½¬æ¢ä¸ºJavaå¯¹è±¡     */    @PostMapping(&quot;/users&quot;)    public ResponseEntity&lt;User&gt; createUser(@RequestBody CreateUserRequest request) &#123;        try &#123;            User user = userService.createUser(request.getUsername(), request.getEmail());            return ResponseEntity.status(HttpStatus.CREATED).body(user); // è¿”å›201çŠ¶æ€ç         &#125; catch (IllegalArgumentException e) &#123;            return ResponseEntity.badRequest().build(); // è¿”å›400çŠ¶æ€ç         &#125;    &#125;        /**     * PUT /api/v1/users/123 - æ›´æ–°ç”¨æˆ·ä¿¡æ¯     */    @PutMapping(&quot;/users/&#123;id&#125;&quot;)    public ResponseEntity&lt;User&gt; updateUser(@PathVariable Long id,                                          @RequestBody UpdateUserRequest request) &#123;        try &#123;            User user = userService.updateUser(id, request.getUsername(), request.getEmail());            return ResponseEntity.ok(user);        &#125; catch (UserNotFoundException e) &#123;            return ResponseEntity.notFound().build();        &#125;    &#125;        /**     * DELETE /api/v1/users/123 - åˆ é™¤ç”¨æˆ·     */    @DeleteMapping(&quot;/users/&#123;id&#125;&quot;)    public ResponseEntity&lt;Void&gt; deleteUser(@PathVariable Long id) &#123;        try &#123;            userService.deleteUser(id);            return ResponseEntity.noContent().build(); // è¿”å›204çŠ¶æ€ç         &#125; catch (UserNotFoundException e) &#123;            return ResponseEntity.notFound().build();        &#125;    &#125;        /**     * GET /api/v1/users?page=0&amp;size=10&amp;sort=username - åˆ†é¡µæŸ¥è¯¢     * @RequestParam: ä»URLæŸ¥è¯¢å‚æ•°ä¸­æå–å€¼     */    @GetMapping(&quot;/users&quot;)    public ResponseEntity&lt;Page&lt;User&gt;&gt; getUsers(            @RequestParam(defaultValue = &quot;0&quot;) int page,            @RequestParam(defaultValue = &quot;10&quot;) int size,            @RequestParam(defaultValue = &quot;id&quot;) String sort) &#123;                PageRequest pageRequest = PageRequest.of(page, size, Sort.by(sort));        Page&lt;User&gt; users = userService.getUsers(pageRequest);        return ResponseEntity.ok(users);    &#125;&#125;

HTTPæ–¹æ³•æ˜ å°„æ³¨è§£è¯¦è§£/** * HTTPæ–¹æ³•æ˜ å°„æ³¨è§£è¯¦è§£ */@RestController@RequestMapping(&quot;/api/products&quot;)public class ProductController &#123;        /**     * @GetMapping: å¤„ç†GETè¯·æ±‚     * ç”¨é€”ï¼šè·å–èµ„æºï¼Œä¸ä¼šä¿®æ”¹æœåŠ¡å™¨çŠ¶æ€     * ç‰¹ç‚¹ï¼šå¹‚ç­‰ï¼ˆå¤šæ¬¡è°ƒç”¨ç»“æœç›¸åŒï¼‰ã€å¯ç¼“å­˜     */    @GetMapping // ç­‰ä»·äº @RequestMapping(method = RequestMethod.GET)    public List&lt;Product&gt; getAllProducts() &#123;        return productService.findAll();    &#125;        @GetMapping(&quot;/&#123;id&#125;&quot;)    public Product getProduct(@PathVariable Long id) &#123;        return productService.findById(id);    &#125;        /**     * @PostMapping: å¤„ç†POSTè¯·æ±‚     * ç”¨é€”ï¼šåˆ›å»ºæ–°èµ„æº     * ç‰¹ç‚¹ï¼šéå¹‚ç­‰ï¼ˆå¤šæ¬¡è°ƒç”¨å¯èƒ½äº§ç”Ÿä¸åŒç»“æœï¼‰     */    @PostMapping    public ResponseEntity&lt;Product&gt; createProduct(@RequestBody Product product) &#123;        Product created = productService.save(product);        return ResponseEntity.status(HttpStatus.CREATED).body(created);    &#125;        /**     * @PutMapping: å¤„ç†PUTè¯·æ±‚     * ç”¨é€”ï¼šå®Œæ•´æ›´æ–°èµ„æºï¼ˆæ›¿æ¢æ•´ä¸ªèµ„æºï¼‰     * ç‰¹ç‚¹ï¼šå¹‚ç­‰     */    @PutMapping(&quot;/&#123;id&#125;&quot;)    public ResponseEntity&lt;Product&gt; updateProduct(@PathVariable Long id,                                                @RequestBody Product product) &#123;        product.setId(id);        Product updated = productService.save(product);        return ResponseEntity.ok(updated);    &#125;        /**     * @PatchMapping: å¤„ç†PATCHè¯·æ±‚     * ç”¨é€”ï¼šéƒ¨åˆ†æ›´æ–°èµ„æºï¼ˆåªæ›´æ–°æŒ‡å®šå­—æ®µï¼‰     * ç‰¹ç‚¹ï¼šå¹‚ç­‰     */    @PatchMapping(&quot;/&#123;id&#125;&quot;)    public ResponseEntity&lt;Product&gt; patchProduct(@PathVariable Long id,                                               @RequestBody Map&lt;String, Object&gt; updates) &#123;        Product updated = productService.partialUpdate(id, updates);        return ResponseEntity.ok(updated);    &#125;        /**     * @DeleteMapping: å¤„ç†DELETEè¯·æ±‚     * ç”¨é€”ï¼šåˆ é™¤èµ„æº     * ç‰¹ç‚¹ï¼šå¹‚ç­‰     */    @DeleteMapping(&quot;/&#123;id&#125;&quot;)    public ResponseEntity&lt;Void&gt; deleteProduct(@PathVariable Long id) &#123;        productService.delete(id);        return ResponseEntity.noContent().build();    &#125;&#125;

å‚æ•°ç»‘å®šæ³¨è§£è¯¦è§£@RestController@RequestMapping(&quot;/api/search&quot;)public class SearchController &#123;        /**     * @PathVariable: ä»URLè·¯å¾„ä¸­æå–å˜é‡     * URLç¤ºä¾‹: /api/search/users/123/orders/456     */    @GetMapping(&quot;/users/&#123;userId&#125;/orders/&#123;orderId&#125;&quot;)    public Order getUserOrder(@PathVariable Long userId,                             @PathVariable Long orderId) &#123;        return orderService.findByUserIdAndOrderId(userId, orderId);    &#125;        // è·¯å¾„å˜é‡åç§°ä¸å‚æ•°åä¸åŒæ—¶    @GetMapping(&quot;/products/&#123;productId&#125;&quot;)    public Product getProduct(@PathVariable(&quot;productId&quot;) Long id) &#123;        return productService.findById(id);    &#125;        /**     * @RequestParam: ä»URLæŸ¥è¯¢å‚æ•°ä¸­æå–å€¼     * URLç¤ºä¾‹: /api/search/products?keyword=æ‰‹æœº&amp;category=ç”µå­&amp;minPrice=1000&amp;maxPrice=5000     */    @GetMapping(&quot;/products&quot;)    public List&lt;Product&gt; searchProducts(            @RequestParam String keyword,                    // å¿…éœ€å‚æ•°            @RequestParam(required = false) String category, // å¯é€‰å‚æ•°            @RequestParam(defaultValue = &quot;0&quot;) BigDecimal minPrice, // æœ‰é»˜è®¤å€¼            @RequestParam(defaultValue = &quot;999999&quot;) BigDecimal maxPrice) &#123;                return productService.search(keyword, category, minPrice, maxPrice);    &#125;        /**     * @RequestHeader: ä»HTTPè¯·æ±‚å¤´ä¸­æå–å€¼     */    @GetMapping(&quot;/secure-data&quot;)    public ResponseEntity&lt;String&gt; getSecureData(            @RequestHeader(&quot;Authorization&quot;) String authToken,            @RequestHeader(value = &quot;User-Agent&quot;, required = false) String userAgent,            @RequestHeader(defaultValue = &quot;application/json&quot;) String accept) &#123;                if (!isValidToken(authToken)) &#123;            return ResponseEntity.status(HttpStatus.UNAUTHORIZED).build();        &#125;                return ResponseEntity.ok(&quot;å®‰å…¨æ•°æ®&quot;);    &#125;        /**     * @RequestBody: å°†è¯·æ±‚ä½“å†…å®¹ç»‘å®šåˆ°å¯¹è±¡     * å¸¸ç”¨äºPOST/PUTè¯·æ±‚ï¼Œè‡ªåŠ¨å°†JSONè½¬æ¢ä¸ºJavaå¯¹è±¡     */    @PostMapping(&quot;/users&quot;)    public User createUser(@RequestBody CreateUserRequest request) &#123;        // Springè‡ªåŠ¨å°†è¯·æ±‚ä½“ä¸­çš„JSONè½¬æ¢ä¸ºCreateUserRequestå¯¹è±¡        return userService.createUser(request);    &#125;        /**     * @ModelAttribute: å°†è¯·æ±‚å‚æ•°ç»‘å®šåˆ°å¯¹è±¡ï¼ˆé€‚ç”¨äºè¡¨å•æäº¤ï¼‰     * é€‚ç”¨äºä¼ ç»Ÿçš„è¡¨å•æäº¤ï¼Œå‚æ•°ä»¥key=valueå½¢å¼æäº¤     */    @PostMapping(&quot;/users/form&quot;)    public String createUserForm(@ModelAttribute User user, Model model) &#123;        User created = userService.save(user);        model.addAttribute(&quot;user&quot;, created);        return &quot;user-created&quot;; // è¿”å›è§†å›¾åç§°    &#125;&#125;

REST APIå®Œæ•´ç¤ºä¾‹/** * å®Œæ•´çš„REST APIç¤ºä¾‹ï¼šç”¨æˆ·ç®¡ç† * å±•ç¤ºäº†æ ‡å‡†çš„RESTfulè®¾è®¡æ¨¡å¼ */@RestController@RequestMapping(&quot;/api/v1/users&quot;)@Validated // å¯ç”¨å‚æ•°éªŒè¯public class UserApiController &#123;        @Autowired    private UserService userService;        // GET /api/v1/users - è·å–ç”¨æˆ·åˆ—è¡¨ï¼ˆæ”¯æŒåˆ†é¡µå’Œæœç´¢ï¼‰    @GetMapping    public ResponseEntity&lt;ApiResponse&lt;Page&lt;UserDto&gt;&gt;&gt; getUsers(            @RequestParam(defaultValue = &quot;0&quot;) int page,            @RequestParam(defaultValue = &quot;10&quot;) int size,            @RequestParam(defaultValue = &quot;id&quot;) String sort,            @RequestParam(defaultValue = &quot;asc&quot;) String direction,            @RequestParam(required = false) String search) &#123;                Sort.Direction sortDirection = &quot;desc&quot;.equalsIgnoreCase(direction) ?                                      Sort.Direction.DESC : Sort.Direction.ASC;        Pageable pageable = PageRequest.of(page, size, Sort.by(sortDirection, sort));                Page&lt;UserDto&gt; users = userService.findUsers(search, pageable);                ApiResponse&lt;Page&lt;UserDto&gt;&gt; response = ApiResponse.&lt;Page&lt;UserDto&gt;&gt;builder()            .success(true)            .message(&quot;ç”¨æˆ·åˆ—è¡¨è·å–æˆåŠŸ&quot;)            .data(users)            .timestamp(LocalDateTime.now())            .build();                    return ResponseEntity.ok(response);    &#125;        // GET /api/v1/users/123 - è·å–å•ä¸ªç”¨æˆ·    @GetMapping(&quot;/&#123;id&#125;&quot;)    public ResponseEntity&lt;ApiResponse&lt;UserDto&gt;&gt; getUser(@PathVariable Long id) &#123;        try &#123;            UserDto user = userService.findById(id);            return ResponseEntity.ok(ApiResponse.success(&quot;ç”¨æˆ·ä¿¡æ¯è·å–æˆåŠŸ&quot;, user));        &#125; catch (UserNotFoundException e) &#123;            return ResponseEntity.status(HttpStatus.NOT_FOUND)                .body(ApiResponse.error(&quot;ç”¨æˆ·ä¸å­˜åœ¨&quot;, null));        &#125;    &#125;        // POST /api/v1/users - åˆ›å»ºç”¨æˆ·    @PostMapping    public ResponseEntity&lt;ApiResponse&lt;UserDto&gt;&gt; createUser(            @Valid @RequestBody CreateUserRequest request) &#123;        try &#123;            UserDto user = userService.createUser(request);            return ResponseEntity.status(HttpStatus.CREATED)                .body(ApiResponse.success(&quot;ç”¨æˆ·åˆ›å»ºæˆåŠŸ&quot;, user));        &#125; catch (DuplicateUsernameException e) &#123;            return ResponseEntity.status(HttpStatus.CONFLICT)                .body(ApiResponse.error(&quot;ç”¨æˆ·åå·²å­˜åœ¨&quot;, null));        &#125;    &#125;        // PUT /api/v1/users/123 - æ›´æ–°ç”¨æˆ·    @PutMapping(&quot;/&#123;id&#125;&quot;)    public ResponseEntity&lt;ApiResponse&lt;UserDto&gt;&gt; updateUser(            @PathVariable Long id,            @Valid @RequestBody UpdateUserRequest request) &#123;        try &#123;            UserDto user = userService.updateUser(id, request);            return ResponseEntity.ok(ApiResponse.success(&quot;ç”¨æˆ·æ›´æ–°æˆåŠŸ&quot;, user));        &#125; catch (UserNotFoundException e) &#123;            return ResponseEntity.status(HttpStatus.NOT_FOUND)                .body(ApiResponse.error(&quot;ç”¨æˆ·ä¸å­˜åœ¨&quot;, null));        &#125;    &#125;        // DELETE /api/v1/users/123 - åˆ é™¤ç”¨æˆ·    @DeleteMapping(&quot;/&#123;id&#125;&quot;)    public ResponseEntity&lt;ApiResponse&lt;Void&gt;&gt; deleteUser(@PathVariable Long id) &#123;        try &#123;            userService.deleteUser(id);            return ResponseEntity.ok(ApiResponse.success(&quot;ç”¨æˆ·åˆ é™¤æˆåŠŸ&quot;, null));        &#125; catch (UserNotFoundException e) &#123;            return ResponseEntity.status(HttpStatus.NOT_FOUND)                .body(ApiResponse.error(&quot;ç”¨æˆ·ä¸å­˜åœ¨&quot;, null));        &#125;    &#125;        // POST /api/v1/users/123/avatar - ä¸Šä¼ ç”¨æˆ·å¤´åƒ    @PostMapping(&quot;/&#123;id&#125;/avatar&quot;)    public ResponseEntity&lt;ApiResponse&lt;String&gt;&gt; uploadAvatar(            @PathVariable Long id,            @RequestParam(&quot;file&quot;) MultipartFile file) &#123;        try &#123;            String avatarUrl = userService.uploadAvatar(id, file);            return ResponseEntity.ok(ApiResponse.success(&quot;å¤´åƒä¸Šä¼ æˆåŠŸ&quot;, avatarUrl));        &#125; catch (Exception e) &#123;            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR)                .body(ApiResponse.error(&quot;å¤´åƒä¸Šä¼ å¤±è´¥&quot;, null));        &#125;    &#125;&#125;// ç»Ÿä¸€çš„APIå“åº”æ ¼å¼@Data@Builderpublic class ApiResponse&lt;T&gt; &#123;    private boolean success;    private String message;    private T data;    private LocalDateTime timestamp;        public static &lt;T&gt; ApiResponse&lt;T&gt; success(String message, T data) &#123;        return ApiResponse.&lt;T&gt;builder()            .success(true)            .message(message)            .data(data)            .timestamp(LocalDateTime.now())            .build();    &#125;        public static &lt;T&gt; ApiResponse&lt;T&gt; error(String message, T data) &#123;        return ApiResponse.&lt;T&gt;builder()            .success(false)            .message(message)            .data(data)            .timestamp(LocalDateTime.now())            .build();    &#125;&#125;

6.3 JPA&#x2F;Hibernateæ³¨è§£è¯¦è§£**JPAï¼ˆJava Persistence APIï¼‰**æ˜¯Javaçš„æ•°æ®æŒä¹…åŒ–æ ‡å‡†ï¼ŒHibernateæ˜¯JPAçš„æœ€æµè¡Œå®ç°ã€‚è¿™äº›æ³¨è§£ç”¨äºå°†Javaå¯¹è±¡æ˜ å°„åˆ°æ•°æ®åº“è¡¨ã€‚
æ ¸å¿ƒå®ä½“æ³¨è§£@Entity - å®ä½“ç±»æ³¨è§£/** * @Entity: æ ‡è®°è¿™æ˜¯ä¸€ä¸ªJPAå®ä½“ç±» * åŠŸèƒ½ï¼šå‘Šè¯‰JPAè¿™ä¸ªç±»å¯¹åº”æ•°æ®åº“ä¸­çš„ä¸€å¼ è¡¨ * è¦æ±‚ï¼š * 1. å¿…é¡»æœ‰ä¸€ä¸ªæ— å‚æ„é€ å™¨ * 2. å¿…é¡»æœ‰ä¸€ä¸ªä¸»é”®å­—æ®µï¼ˆç”¨@Idæ ‡è®°ï¼‰ * 3. å­—æ®µä¸èƒ½æ˜¯finalçš„ */@Entity@Table(name = &quot;users&quot;) // å¯é€‰ï¼šæŒ‡å®šæ•°æ®åº“è¡¨åï¼Œä¸æŒ‡å®šåˆ™ä½¿ç”¨ç±»åpublic class User &#123;        @Id // æ ‡è®°ä¸»é”®å­—æ®µ    @GeneratedValue(strategy = GenerationType.IDENTITY) // ä¸»é”®ç”Ÿæˆç­–ç•¥    private Long id;        @Column(name = &quot;username&quot;, nullable = false, unique = true, length = 50)    private String username;        @Column(name = &quot;email&quot;)    private String email;        @Column(name = &quot;created_at&quot;)    private LocalDateTime createdAt;        // å¿…é¡»æœ‰æ— å‚æ„é€ å™¨    public User() &#123;&#125;        public User(String username, String email) &#123;        this.username = username;        this.email = email;        this.createdAt = LocalDateTime.now();    &#125;        // getterå’Œsetteræ–¹æ³•...&#125;

@Table - è¡¨æ˜ å°„æ³¨è§£/** * @Table: æŒ‡å®šå®ä½“å¯¹åº”çš„æ•°æ®åº“è¡¨çš„è¯¦ç»†ä¿¡æ¯ */@Entity@Table(    name = &quot;user_profiles&quot;,           // è¡¨å    catalog = &quot;myapp_db&quot;,            // æ•°æ®åº“åï¼ˆå¯é€‰ï¼‰    schema = &quot;public&quot;,               // æ¨¡å¼åï¼ˆå¯é€‰ï¼‰    uniqueConstraints = &#123;            // å”¯ä¸€çº¦æŸ        @UniqueConstraint(            name = &quot;uk_user_email&quot;,             columnNames = &#123;&quot;user_id&quot;, &quot;email&quot;&#125;        )    &#125;,    indexes = &#123;                      // ç´¢å¼•        @Index(name = &quot;idx_user_email&quot;, columnList = &quot;email&quot;),        @Index(name = &quot;idx_user_created&quot;, columnList = &quot;created_at&quot;)    &#125;)public class UserProfile &#123;    // å­—æ®µå®šä¹‰...&#125;

@Id å’Œä¸»é”®ç”Ÿæˆç­–ç•¥@Entitypublic class Product &#123;        /**     * @Id: æ ‡è®°ä¸»é”®å­—æ®µ     * @GeneratedValue: ä¸»é”®å€¼ç”Ÿæˆç­–ç•¥     */        // ç­–ç•¥1: AUTO - è®©JPAè‡ªåŠ¨é€‰æ‹©åˆé€‚çš„ç­–ç•¥    @Id    @GeneratedValue(strategy = GenerationType.AUTO)    private Long id;        // ç­–ç•¥2: IDENTITY - ä½¿ç”¨æ•°æ®åº“çš„è‡ªå¢å­—æ®µï¼ˆMySQLçš„AUTO_INCREMENTï¼‰    @Id    @GeneratedValue(strategy = GenerationType.IDENTITY)    private Long id;        // ç­–ç•¥3: SEQUENCE - ä½¿ç”¨æ•°æ®åº“åºåˆ—ï¼ˆOracleã€PostgreSQLï¼‰    @Id    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;product_seq&quot;)    @SequenceGenerator(name = &quot;product_seq&quot;, sequenceName = &quot;product_sequence&quot;, allocationSize = 1)    private Long id;        // ç­–ç•¥4: TABLE - ä½¿ç”¨å•ç‹¬çš„è¡¨æ¥ç”Ÿæˆä¸»é”®    @Id    @GeneratedValue(strategy = GenerationType.TABLE, generator = &quot;product_gen&quot;)    @TableGenerator(name = &quot;product_gen&quot;, table = &quot;id_generator&quot;,                    pkColumnName = &quot;gen_name&quot;, valueColumnName = &quot;gen_value&quot;,                   pkColumnValue = &quot;product_id&quot;, allocationSize = 1)    private Long id;        // å¤åˆä¸»é”®ï¼šä½¿ç”¨@IdClassæˆ–@EmbeddedId    // æ–¹å¼1: @IdClass    @Id    private Long userId;    @Id    private Long productId;        // å­—æ®µå®šä¹‰...&#125;// å¤åˆä¸»é”®ç±»@IdClass(UserProductId.class)@Entitypublic class UserProduct &#123;    @Id    private Long userId;    @Id    private Long productId;    private Integer quantity;    // ...&#125;// ä¸»é”®ç±»å¿…é¡»å®ç°Serializablepublic class UserProductId implements Serializable &#123;    private Long userId;    private Long productId;        // å¿…é¡»é‡å†™equalså’ŒhashCode    @Override    public boolean equals(Object o) &#123; /* ... */ &#125;        @Override    public int hashCode() &#123; /* ... */ &#125;&#125;

@Column - å­—æ®µæ˜ å°„æ³¨è§£@Entitypublic class User &#123;        /**     * @Column: æŒ‡å®šå­—æ®µæ˜ å°„åˆ°æ•°æ®åº“åˆ—çš„è¯¦ç»†ä¿¡æ¯     */        // åŸºæœ¬ç”¨æ³•    @Column(name = &quot;user_name&quot;)  // æŒ‡å®šæ•°æ®åº“åˆ—å    private String username;        // è¯¦ç»†é…ç½®    @Column(        name = &quot;email_address&quot;,      // åˆ—å        nullable = false,            // ä¸èƒ½ä¸ºnullï¼ˆç›¸å½“äºNOT NULLçº¦æŸï¼‰        unique = true,              // å”¯ä¸€çº¦æŸ        length = 255,               // å­—ç¬¦ä¸²é•¿åº¦ï¼ˆvarchar(255)ï¼‰        columnDefinition = &quot;TEXT&quot;   // è‡ªå®šä¹‰åˆ—å®šä¹‰    )    private String email;        // æ•°å­—ç±»å‹é…ç½®    @Column(        name = &quot;salary&quot;,        precision = 10,  // æ€»ä½æ•°        scale = 2        // å°æ•°ä½æ•°ï¼ˆdecimal(10,2)ï¼‰    )    private BigDecimal salary;        // ä¸éœ€è¦æ˜ å°„åˆ°æ•°æ®åº“çš„å­—æ®µ    @Transient    private String tempPassword; // è¿™ä¸ªå­—æ®µä¸ä¼šä¿å­˜åˆ°æ•°æ®åº“        // æ—¶é—´ç±»å‹    @Column(name = &quot;birth_date&quot;)    @Temporal(TemporalType.DATE)      // åªä¿å­˜æ—¥æœŸéƒ¨åˆ†    private Date birthDate;        @Column(name = &quot;created_at&quot;)    @Temporal(TemporalType.TIMESTAMP) // ä¿å­˜æ—¥æœŸå’Œæ—¶é—´    private Date createdAt;        @Column(name = &quot;login_time&quot;)    @Temporal(TemporalType.TIME)      // åªä¿å­˜æ—¶é—´éƒ¨åˆ†    private Date loginTime;        // æšä¸¾ç±»å‹    @Enumerated(EnumType.STRING)      // ä¿å­˜æšä¸¾çš„å­—ç¬¦ä¸²å€¼    private UserStatus status;        // å¦‚ï¼šACTIVE, INACTIVE, BANNED        @Enumerated(EnumType.ORDINAL)     // ä¿å­˜æšä¸¾çš„åºå·å€¼    private UserRole role;            // å¦‚ï¼š0, 1, 2        // å¤§å¯¹è±¡ç±»å‹    @Lob  // Large Objectï¼šç”¨äºå­˜å‚¨å¤§æ–‡æœ¬æˆ–äºŒè¿›åˆ¶æ•°æ®    @Column(name = &quot;profile_photo&quot;)    private byte[] photo;             // å­˜å‚¨å›¾ç‰‡        @Lob    @Column(name = &quot;description&quot;)    private String description;       // å­˜å‚¨é•¿æ–‡æœ¬&#125;// æšä¸¾ç±»å‹ç¤ºä¾‹public enum UserStatus &#123;    ACTIVE, INACTIVE, BANNED, SUSPENDED&#125;public enum UserRole &#123;    USER, ADMIN, MODERATOR&#125;

å…³è”å…³ç³»æ³¨è§£@OneToOne - ä¸€å¯¹ä¸€å…³ç³»/** * ä¸€å¯¹ä¸€å…³ç³»ï¼šä¸€ä¸ªç”¨æˆ·å¯¹åº”ä¸€ä¸ªç”¨æˆ·è¯¦æƒ… */// ä¸»è¡¨ï¼ˆæ‹¥æœ‰å¤–é”®çš„ä¸€æ–¹ï¼‰@Entitypublic class User &#123;    @Id    @GeneratedValue(strategy = GenerationType.IDENTITY)    private Long id;        private String username;        /**     * @OneToOne: ä¸€å¯¹ä¸€å…³ç³»     * @JoinColumn: æŒ‡å®šå¤–é”®åˆ—     */    @OneToOne(cascade = CascadeType.ALL, fetch = FetchType.LAZY)    @JoinColumn(name = &quot;profile_id&quot;, referencedColumnName = &quot;id&quot;)    private UserProfile profile;        // æ„é€ å™¨ã€getterã€setter...&#125;// ä»è¡¨@Entitypublic class UserProfile &#123;    @Id    @GeneratedValue(strategy = GenerationType.IDENTITY)    private Long id;        private String firstName;    private String lastName;    private String bio;    private String avatarUrl;        // åŒå‘å…³è”ï¼šä»UserProfileä¹Ÿèƒ½è®¿é—®User    @OneToOne(mappedBy = &quot;profile&quot;) // mappedByæŒ‡å‘Userç±»ä¸­çš„profileå­—æ®µ    private User user;        // æ„é€ å™¨ã€getterã€setter...&#125;// ä½¿ç”¨ç¤ºä¾‹@Servicepublic class UserService &#123;        @Autowired    private UserRepository userRepository;        public User createUserWithProfile(String username, String firstName, String lastName) &#123;        // åˆ›å»ºç”¨æˆ·è¯¦æƒ…        UserProfile profile = new UserProfile();        profile.setFirstName(firstName);        profile.setLastName(lastName);                // åˆ›å»ºç”¨æˆ·        User user = new User();        user.setUsername(username);        user.setProfile(profile);                // è®¾ç½®åŒå‘å…³è”        profile.setUser(user);                // ç”±äºè®¾ç½®äº†cascade = CascadeType.ALLï¼Œä¿å­˜useræ—¶ä¼šè‡ªåŠ¨ä¿å­˜profile        return userRepository.save(user);    &#125;&#125;

@OneToMany - ä¸€å¯¹å¤šå…³ç³»/** * ä¸€å¯¹å¤šå…³ç³»ï¼šä¸€ä¸ªç”¨æˆ·å¯ä»¥æœ‰å¤šä¸ªè®¢å• */// &quot;ä¸€&quot;çš„ä¸€æ–¹ï¼šUser@Entitypublic class User &#123;    @Id    @GeneratedValue(strategy = GenerationType.IDENTITY)    private Long id;        private String username;        /**     * @OneToMany: ä¸€å¯¹å¤šå…³ç³»     * mappedBy: æŒ‡å‘Orderç±»ä¸­çš„userå­—æ®µï¼ˆè¡¨ç¤ºå¤–é”®åœ¨Orderè¡¨ä¸­ï¼‰     * cascade: çº§è”æ“ä½œï¼ˆä¿å­˜ç”¨æˆ·æ—¶è‡ªåŠ¨å¤„ç†è®¢å•ï¼‰     * fetch: åŠ è½½ç­–ç•¥ï¼ˆLAZYè¡¨ç¤ºéœ€è¦æ—¶æ‰åŠ è½½è®¢å•åˆ—è¡¨ï¼‰     */    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)    private List&lt;Order&gt; orders = new ArrayList&lt;&gt;();        // ä¾¿åˆ©æ–¹æ³•ï¼šæ·»åŠ è®¢å•    public void addOrder(Order order) &#123;        orders.add(order);        order.setUser(this); // è®¾ç½®åŒå‘å…³è”    &#125;        // ä¾¿åˆ©æ–¹æ³•ï¼šç§»é™¤è®¢å•    public void removeOrder(Order order) &#123;        orders.remove(order);        order.setUser(null);    &#125;&#125;// &quot;å¤š&quot;çš„ä¸€æ–¹ï¼šOrder@Entitypublic class Order &#123;    @Id    @GeneratedValue(strategy = GenerationType.IDENTITY)    private Long id;        private BigDecimal totalAmount;    private LocalDateTime orderTime;        /**     * @ManyToOne: å¤šå¯¹ä¸€å…³ç³»ï¼ˆä»Orderçš„è§’åº¦çœ‹ï¼Œå¤šä¸ªè®¢å•å¯¹åº”ä¸€ä¸ªç”¨æˆ·ï¼‰     * @JoinColumn: æŒ‡å®šå¤–é”®åˆ—å     */    @ManyToOne(fetch = FetchType.LAZY)    @JoinColumn(name = &quot;user_id&quot;, nullable = false)    private User user;        // æ„é€ å™¨ã€getterã€setter...&#125;// ä½¿ç”¨ç¤ºä¾‹@Servicepublic class OrderService &#123;        public Order createOrder(Long userId, BigDecimal amount) &#123;        User user = userRepository.findById(userId)            .orElseThrow(() -&gt; new UserNotFoundException(&quot;ç”¨æˆ·ä¸å­˜åœ¨&quot;));                Order order = new Order();        order.setTotalAmount(amount);        order.setOrderTime(LocalDateTime.now());                // å»ºç«‹å…³è”å…³ç³»        user.addOrder(order);                return orderRepository.save(order);    &#125;        // è·å–ç”¨æˆ·çš„æ‰€æœ‰è®¢å•    public List&lt;Order&gt; getUserOrders(Long userId) &#123;        User user = userRepository.findById(userId)            .orElseThrow(() -&gt; new UserNotFoundException(&quot;ç”¨æˆ·ä¸å­˜åœ¨&quot;));                // ç”±äºä½¿ç”¨äº†LAZYåŠ è½½ï¼Œè¿™é‡Œä¼šè§¦å‘æ•°æ®åº“æŸ¥è¯¢        return user.getOrders();    &#125;&#125;

@ManyToMany - å¤šå¯¹å¤šå…³ç³»/** * å¤šå¯¹å¤šå…³ç³»ï¼šç”¨æˆ·å’Œè§’è‰²çš„å…³ç³»ï¼ˆä¸€ä¸ªç”¨æˆ·å¯ä»¥æœ‰å¤šä¸ªè§’è‰²ï¼Œä¸€ä¸ªè§’è‰²å¯ä»¥åˆ†é…ç»™å¤šä¸ªç”¨æˆ·ï¼‰ */// ä¸»æ§æ–¹ï¼šUser@Entitypublic class User &#123;    @Id    @GeneratedValue(strategy = GenerationType.IDENTITY)    private Long id;        private String username;        /**     * @ManyToMany: å¤šå¯¹å¤šå…³ç³»     * @JoinTable: æŒ‡å®šä¸­é—´è¡¨çš„ä¿¡æ¯     */    @ManyToMany(cascade = &#123;CascadeType.PERSIST, CascadeType.MERGE&#125;, fetch = FetchType.LAZY)    @JoinTable(        name = &quot;user_roles&quot;,                    // ä¸­é—´è¡¨å        joinColumns = @JoinColumn(name = &quot;user_id&quot;),     // å½“å‰å®ä½“çš„å¤–é”®åˆ—        inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;) // å…³è”å®ä½“çš„å¤–é”®åˆ—    )    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();        // ä¾¿åˆ©æ–¹æ³•ï¼šæ·»åŠ è§’è‰²    public void addRole(Role role) &#123;        roles.add(role);        role.getUsers().add(this);    &#125;        // ä¾¿åˆ©æ–¹æ³•ï¼šç§»é™¤è§’è‰²    public void removeRole(Role role) &#123;        roles.remove(role);        role.getUsers().remove(this);    &#125;&#125;// è¢«æ§æ–¹ï¼šRole@Entitypublic class Role &#123;    @Id    @GeneratedValue(strategy = GenerationType.IDENTITY)    private Long id;        private String name; // ADMIN, USER, MODERATORç­‰    private String description;        /**     * mappedBy: æŒ‡å‘Userç±»ä¸­çš„roleså­—æ®µï¼Œè¡¨ç¤ºè¿™æ˜¯å…³ç³»çš„è¢«æ§æ–¹     */    @ManyToMany(mappedBy = &quot;roles&quot;)    private Set&lt;User&gt; users = new HashSet&lt;&gt;();        // æ„é€ å™¨ã€getterã€setter...&#125;// å¸¦é¢å¤–ä¿¡æ¯çš„å¤šå¯¹å¤šå…³ç³»ï¼šç”¨æˆ·å’Œè¯¾ç¨‹çš„å…³ç³»ï¼ˆåŒ…å«æ³¨å†Œæ—¶é—´ã€æˆç»©ç­‰é¢å¤–ä¿¡æ¯ï¼‰@Entitypublic class User &#123;    @Id    private Long id;    private String username;        @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)    private Set&lt;UserCourse&gt; userCourses = new HashSet&lt;&gt;();&#125;@Entitypublic class Course &#123;    @Id    private Long id;    private String name;        @OneToMany(mappedBy = &quot;course&quot;, cascade = CascadeType.ALL)    private Set&lt;UserCourse&gt; userCourses = new HashSet&lt;&gt;();&#125;// ä¸­é—´å®ä½“ï¼šåŒ…å«é¢å¤–ä¿¡æ¯@Entity@Table(name = &quot;user_courses&quot;)public class UserCourse &#123;        @EmbeddedId    private UserCourseId id;        @ManyToOne    @MapsId(&quot;userId&quot;) // æ˜ å°„åˆ°å¤åˆä¸»é”®çš„userIdéƒ¨åˆ†    @JoinColumn(name = &quot;user_id&quot;)    private User user;        @ManyToOne    @MapsId(&quot;courseId&quot;) // æ˜ å°„åˆ°å¤åˆä¸»é”®çš„courseIdéƒ¨åˆ†    @JoinColumn(name = &quot;course_id&quot;)    private Course course;        // é¢å¤–ä¿¡æ¯    private LocalDateTime enrollmentDate;    private BigDecimal grade;    private String status; // ENROLLED, COMPLETED, DROPPED        // æ„é€ å™¨ã€getterã€setter...&#125;// å¤åˆä¸»é”®@Embeddablepublic class UserCourseId implements Serializable &#123;    private Long userId;    private Long courseId;        // å¿…é¡»é‡å†™equalså’ŒhashCode    @Override    public boolean equals(Object o) &#123; /* ... */ &#125;        @Override    public int hashCode() &#123; /* ... */ &#125;&#125;

çº§è”æ“ä½œå’Œè·å–ç­–ç•¥çº§è”æ“ä½œï¼ˆCascadeï¼‰@Entitypublic class User &#123;        /**     * çº§è”æ“ä½œç±»å‹ï¼š     * CascadeType.PERSIST: ä¿å­˜ç”¨æˆ·æ—¶ï¼Œè‡ªåŠ¨ä¿å­˜å…³è”çš„è®¢å•     * CascadeType.MERGE: æ›´æ–°ç”¨æˆ·æ—¶ï¼Œè‡ªåŠ¨æ›´æ–°å…³è”çš„è®¢å•     * CascadeType.REMOVE: åˆ é™¤ç”¨æˆ·æ—¶ï¼Œè‡ªåŠ¨åˆ é™¤å…³è”çš„è®¢å•     * CascadeType.REFRESH: åˆ·æ–°ç”¨æˆ·æ—¶ï¼Œè‡ªåŠ¨åˆ·æ–°å…³è”çš„è®¢å•     * CascadeType.DETACH: åˆ†ç¦»ç”¨æˆ·æ—¶ï¼Œè‡ªåŠ¨åˆ†ç¦»å…³è”çš„è®¢å•     * CascadeType.ALL: åŒ…å«æ‰€æœ‰ä¸Šè¿°æ“ä½œ     */        // åˆ é™¤ç”¨æˆ·æ—¶ä¸ä¼šåˆ é™¤è®¢å•ï¼ˆä¸šåŠ¡éœ€è¦ä¿ç•™è®¢å•è®°å½•ï¼‰    @OneToMany(mappedBy = &quot;user&quot;, cascade = &#123;CascadeType.PERSIST, CascadeType.MERGE&#125;)    private List&lt;Order&gt; orders;        // åˆ é™¤ç”¨æˆ·æ—¶ä¼šåˆ é™¤ç”¨æˆ·è¯¦æƒ…ï¼ˆå› ä¸ºè¯¦æƒ…æ²¡æœ‰ç‹¬ç«‹å­˜åœ¨çš„æ„ä¹‰ï¼‰    @OneToOne(cascade = CascadeType.ALL)    private UserProfile profile;        // ä¸ä¼šåˆ é™¤è§’è‰²ï¼ˆè§’è‰²æ˜¯ç‹¬ç«‹çš„å®ä½“ï¼Œå¯èƒ½è¢«å…¶ä»–ç”¨æˆ·ä½¿ç”¨ï¼‰    @ManyToMany(cascade = &#123;CascadeType.PERSIST, CascadeType.MERGE&#125;)    private Set&lt;Role&gt; roles;&#125;

è·å–ç­–ç•¥ï¼ˆFetchï¼‰@Entitypublic class User &#123;        /**     * è·å–ç­–ç•¥ï¼š     * FetchType.LAZYï¼ˆæ‡’åŠ è½½ï¼‰: éœ€è¦æ—¶æ‰ä»æ•°æ®åº“åŠ è½½     * FetchType.EAGERï¼ˆæ€¥åŠ è½½ï¼‰: ç«‹å³ä»æ•°æ®åº“åŠ è½½     */        // æ‡’åŠ è½½ï¼šè·å–ç”¨æˆ·æ—¶ä¸ç«‹å³åŠ è½½è®¢å•åˆ—è¡¨ï¼Œåªæœ‰è®¿é—®ordersæ—¶æ‰æŸ¥è¯¢æ•°æ®åº“    @OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.LAZY)    private List&lt;Order&gt; orders;        // æ€¥åŠ è½½ï¼šè·å–ç”¨æˆ·æ—¶ç«‹å³åŠ è½½ç”¨æˆ·è¯¦æƒ…    @OneToOne(fetch = FetchType.EAGER)    private UserProfile profile;        // é»˜è®¤çš„è·å–ç­–ç•¥ï¼š    // @OneToOne, @ManyToOne: é»˜è®¤æ˜¯EAGER    // @OneToMany, @ManyToMany: é»˜è®¤æ˜¯LAZY&#125;// è§£å†³N+1æŸ¥è¯¢é—®é¢˜çš„æ–¹æ³•@Repositorypublic class UserRepository extends JpaRepository&lt;User, Long&gt; &#123;        // ä½¿ç”¨JOIN FETCHé¿å…N+1é—®é¢˜    @Query(&quot;SELECT u FROM User u JOIN FETCH u.orders WHERE u.id = :id&quot;)    Optional&lt;User&gt; findByIdWithOrders(@Param(&quot;id&quot;) Long id);        // ä½¿ç”¨@EntityGraph    @EntityGraph(attributePaths = &#123;&quot;orders&quot;, &quot;profile&quot;&#125;)    @Query(&quot;SELECT u FROM User u WHERE u.id = :id&quot;)    Optional&lt;User&gt; findByIdWithOrdersAndProfile(@Param(&quot;id&quot;) Long id);&#125;

å®Œæ•´çš„JPAå®ä½“ç¤ºä¾‹/** * å®Œæ•´çš„JPAå®ä½“ç¤ºä¾‹ï¼šç”µå•†ç³»ç»Ÿçš„è®¢å•å®ä½“ */@Entity@Table(name = &quot;orders&quot;)@EntityListeners(AuditingEntityListener.class) // å¯ç”¨å®¡è®¡åŠŸèƒ½public class Order &#123;        @Id    @GeneratedValue(strategy = GenerationType.IDENTITY)    private Long id;        @Column(name = &quot;order_number&quot;, nullable = false, unique = true, length = 50)    private String orderNumber;        @Column(name = &quot;total_amount&quot;, nullable = false, precision = 10, scale = 2)    private BigDecimal totalAmount;        @Enumerated(EnumType.STRING)    @Column(name = &quot;status&quot;, nullable = false)    private OrderStatus status;        @ManyToOne(fetch = FetchType.LAZY)    @JoinColumn(name = &quot;user_id&quot;, nullable = false)    private User user;        @OneToMany(mappedBy = &quot;order&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)    private List&lt;OrderItem&gt; orderItems = new ArrayList&lt;&gt;();        @Embedded    private Address shippingAddress;        // å®¡è®¡å­—æ®µ    @CreatedDate    @Column(name = &quot;created_at&quot;, nullable = false, updatable = false)    private LocalDateTime createdAt;        @LastModifiedDate    @Column(name = &quot;updated_at&quot;)    private LocalDateTime updatedAt;        @CreatedBy    @Column(name = &quot;created_by&quot;, updatable = false)    private String createdBy;        @LastModifiedBy    @Column(name = &quot;updated_by&quot;)    private String updatedBy;        // ç”Ÿå‘½å‘¨æœŸå›è°ƒæ–¹æ³•    @PrePersist    protected void onCreate() &#123;        if (orderNumber == null) &#123;            orderNumber = generateOrderNumber();        &#125;        if (status == null) &#123;            status = OrderStatus.PENDING;        &#125;    &#125;        @PreUpdate    protected void onUpdate() &#123;        // æ›´æ–°å‰çš„é€»è¾‘    &#125;        private String generateOrderNumber() &#123;        return &quot;ORD&quot; + System.currentTimeMillis();    &#125;        // ä¾¿åˆ©æ–¹æ³•    public void addOrderItem(OrderItem item) &#123;        orderItems.add(item);        item.setOrder(this);    &#125;        public void removeOrderItem(OrderItem item) &#123;        orderItems.remove(item);        item.setOrder(null);    &#125;        // æ„é€ å™¨ã€getterã€setter...&#125;// åµŒå…¥å¼å€¼å¯¹è±¡@Embeddablepublic class Address &#123;    @Column(name = &quot;street&quot;)    private String street;        @Column(name = &quot;city&quot;)    private String city;        @Column(name = &quot;state&quot;)    private String state;        @Column(name = &quot;zip_code&quot;)    private String zipCode;        @Column(name = &quot;country&quot;)    private String country;        // æ„é€ å™¨ã€getterã€setter...&#125;// æšä¸¾ç±»å‹public enum OrderStatus &#123;    PENDING(&quot;å¾…å¤„ç†&quot;),    CONFIRMED(&quot;å·²ç¡®è®¤&quot;),    SHIPPED(&quot;å·²å‘è´§&quot;),    DELIVERED(&quot;å·²é€è¾¾&quot;),    CANCELLED(&quot;å·²å–æ¶ˆ&quot;);        private final String description;        OrderStatus(String description) &#123;        this.description = description;    &#125;        public String getDescription() &#123;        return description;    &#125;&#125;

6.4 Bean Validationï¼ˆæ•°æ®éªŒè¯ï¼‰æ³¨è§£è¯¦è§£Bean Validationæ˜¯Javaçš„æ•°æ®éªŒè¯æ ‡å‡†ï¼Œç”¨äºéªŒè¯Javaå¯¹è±¡çš„å­—æ®µå€¼æ˜¯å¦ç¬¦åˆé¢„æœŸã€‚Spring Booté»˜è®¤é›†æˆäº†Hibernate Validatorï¼ˆBean Validationçš„å®ç°ï¼‰ã€‚
åŸºç¡€éªŒè¯æ³¨è§£ç©ºå€¼æ£€æŸ¥æ³¨è§£/** * æ•°æ®éªŒè¯æ³¨è§£ç¤ºä¾‹ï¼šç”¨æˆ·æ³¨å†Œè¡¨å• */public class UserRegistrationDto &#123;        /**     * @NotNull: å€¼ä¸èƒ½ä¸ºnull     * @NotEmpty: å€¼ä¸èƒ½ä¸ºnullä¸”é•¿åº¦å¤§äº0ï¼ˆç”¨äºå­—ç¬¦ä¸²ã€é›†åˆã€æ•°ç»„ï¼‰     * @NotBlank: å€¼ä¸èƒ½ä¸ºnullã€ç©ºå­—ç¬¦ä¸²æˆ–åªåŒ…å«ç©ºç™½å­—ç¬¦ï¼ˆåªç”¨äºå­—ç¬¦ä¸²ï¼‰     */        @NotNull(message = &quot;ç”¨æˆ·åä¸èƒ½ä¸ºç©º&quot;)    @NotBlank(message = &quot;ç”¨æˆ·åä¸èƒ½ä¸ºç©ºç™½&quot;)    @Size(min = 3, max = 20, message = &quot;ç”¨æˆ·åé•¿åº¦å¿…é¡»åœ¨3-20ä¸ªå­—ç¬¦ä¹‹é—´&quot;)    private String username;        @NotEmpty(message = &quot;å¯†ç ä¸èƒ½ä¸ºç©º&quot;)    @Size(min = 6, max = 50, message = &quot;å¯†ç é•¿åº¦å¿…é¡»åœ¨6-50ä¸ªå­—ç¬¦ä¹‹é—´&quot;)    private String password;        @NotBlank(message = &quot;ç¡®è®¤å¯†ç ä¸èƒ½ä¸ºç©º&quot;)    private String confirmPassword;        @NotNull(message = &quot;é‚®ç®±ä¸èƒ½ä¸ºç©º&quot;)    @NotBlank(message = &quot;é‚®ç®±ä¸èƒ½ä¸ºç©ºç™½&quot;)    @Email(message = &quot;é‚®ç®±æ ¼å¼ä¸æ­£ç¡®&quot;)    private String email;        // æ„é€ å™¨ã€getterã€setter...&#125;// éªŒè¯ç¤ºä¾‹@RestController@RequestMapping(&quot;/api/auth&quot;)@Validated // å¯ç”¨æ–¹æ³•çº§åˆ«çš„éªŒè¯public class AuthController &#123;        @PostMapping(&quot;/register&quot;)    public ResponseEntity&lt;String&gt; register(@Valid @RequestBody UserRegistrationDto dto) &#123;        // @Valid ä¼šè‡ªåŠ¨è§¦å‘éªŒè¯ï¼Œå¦‚æœéªŒè¯å¤±è´¥ä¼šæŠ›å‡ºMethodArgumentNotValidException                // éªŒè¯é€šè¿‡åçš„ä¸šåŠ¡é€»è¾‘        userService.registerUser(dto);        return ResponseEntity.ok(&quot;æ³¨å†ŒæˆåŠŸ&quot;);    &#125;        // æ–¹æ³•å‚æ•°éªŒè¯    @GetMapping(&quot;/check-username&quot;)    public ResponseEntity&lt;Boolean&gt; checkUsername(            @RequestParam @NotBlank @Size(min = 3, max = 20) String username) &#123;        boolean available = userService.isUsernameAvailable(username);        return ResponseEntity.ok(available);    &#125;&#125;

æ•°å€¼èŒƒå›´éªŒè¯æ³¨è§£public class ProductDto &#123;        @NotBlank(message = &quot;å•†å“åç§°ä¸èƒ½ä¸ºç©º&quot;)    @Size(max = 100, message = &quot;å•†å“åç§°ä¸èƒ½è¶…è¿‡100ä¸ªå­—ç¬¦&quot;)    private String name;        /**     * æ•°å€¼éªŒè¯æ³¨è§£ï¼š     * @Min: æœ€å°å€¼     * @Max: æœ€å¤§å€¼     * @DecimalMin: æœ€å°å°æ•°å€¼     * @DecimalMax: æœ€å¤§å°æ•°å€¼     * @Positive: æ­£æ•°ï¼ˆå¤§äº0ï¼‰     * @PositiveOrZero: æ­£æ•°æˆ–0     * @Negative: è´Ÿæ•°ï¼ˆå°äº0ï¼‰     * @NegativeOrZero: è´Ÿæ•°æˆ–0     */        @NotNull(message = &quot;ä»·æ ¼ä¸èƒ½ä¸ºç©º&quot;)    @DecimalMin(value = &quot;0.01&quot;, message = &quot;ä»·æ ¼å¿…é¡»å¤§äº0.01&quot;)    @DecimalMax(value = &quot;999999.99&quot;, message = &quot;ä»·æ ¼ä¸èƒ½è¶…è¿‡999999.99&quot;)    @Digits(integer = 6, fraction = 2, message = &quot;ä»·æ ¼æ ¼å¼ä¸æ­£ç¡®ï¼Œæœ€å¤š6ä½æ•´æ•°å’Œ2ä½å°æ•°&quot;)    private BigDecimal price;        @Min(value = 0, message = &quot;åº“å­˜æ•°é‡ä¸èƒ½ä¸ºè´Ÿæ•°&quot;)    @Max(value = 10000, message = &quot;åº“å­˜æ•°é‡ä¸èƒ½è¶…è¿‡10000&quot;)    private Integer stockQuantity;        @Positive(message = &quot;é‡é‡å¿…é¡»ä¸ºæ­£æ•°&quot;)    private Double weight;        @PositiveOrZero(message = &quot;æŠ˜æ‰£ä¸èƒ½ä¸ºè´Ÿæ•°&quot;)    @DecimalMax(value = &quot;1.0&quot;, message = &quot;æŠ˜æ‰£ä¸èƒ½è¶…è¿‡1.0&quot;)    private BigDecimal discount;        // æ„é€ å™¨ã€getterã€setter...&#125;

å­—ç¬¦ä¸²æ ¼å¼éªŒè¯æ³¨è§£public class ContactDto &#123;        /**     * å­—ç¬¦ä¸²æ ¼å¼éªŒè¯æ³¨è§£ï¼š     * @Email: é‚®ç®±æ ¼å¼     * @Pattern: æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…     * @Size: å­—ç¬¦ä¸²é•¿åº¦     */        @NotBlank(message = &quot;å§“åä¸èƒ½ä¸ºç©º&quot;)    @Size(min = 2, max = 50, message = &quot;å§“åé•¿åº¦å¿…é¡»åœ¨2-50ä¸ªå­—ç¬¦ä¹‹é—´&quot;)    @Pattern(regexp = &quot;^[\\u4e00-\\u9fa5a-zA-Z\\s]+$&quot;, message = &quot;å§“ååªèƒ½åŒ…å«ä¸­æ–‡ã€è‹±æ–‡å­—æ¯å’Œç©ºæ ¼&quot;)    private String name;        @Email(message = &quot;é‚®ç®±æ ¼å¼ä¸æ­£ç¡®&quot;)    @NotBlank(message = &quot;é‚®ç®±ä¸èƒ½ä¸ºç©º&quot;)    private String email;        // ä¸­å›½æ‰‹æœºå·éªŒè¯    @Pattern(regexp = &quot;^1[3-9]\\d&#123;9&#125;$&quot;, message = &quot;æ‰‹æœºå·æ ¼å¼ä¸æ­£ç¡®&quot;)    @NotBlank(message = &quot;æ‰‹æœºå·ä¸èƒ½ä¸ºç©º&quot;)    private String phoneNumber;        // èº«ä»½è¯å·éªŒè¯    @Pattern(regexp = &quot;^[1-9]\\d&#123;5&#125;(18|19|20)\\d&#123;2&#125;((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\\d&#123;3&#125;[0-9Xx]$&quot;,              message = &quot;èº«ä»½è¯å·æ ¼å¼ä¸æ­£ç¡®&quot;)    private String idCard;        // URLéªŒè¯    @Pattern(regexp = &quot;^https?://.+&quot;, message = &quot;ç½‘å€æ ¼å¼ä¸æ­£ç¡®&quot;)    private String website;        // é‚®æ”¿ç¼–ç éªŒè¯    @Pattern(regexp = &quot;^\\d&#123;6&#125;$&quot;, message = &quot;é‚®æ”¿ç¼–ç å¿…é¡»æ˜¯6ä½æ•°å­—&quot;)    private String zipCode;        // æ„é€ å™¨ã€getterã€setter...&#125;

æ—¶é—´æ—¥æœŸéªŒè¯æ³¨è§£public class EventDto &#123;        @NotBlank(message = &quot;æ´»åŠ¨åç§°ä¸èƒ½ä¸ºç©º&quot;)    private String name;        /**     * æ—¶é—´éªŒè¯æ³¨è§£ï¼š     * @Past: è¿‡å»çš„æ—¶é—´     * @PastOrPresent: è¿‡å»æˆ–ç°åœ¨çš„æ—¶é—´     * @Future: æœªæ¥çš„æ—¶é—´     * @FutureOrPresent: æœªæ¥æˆ–ç°åœ¨çš„æ—¶é—´     */        @NotNull(message = &quot;ç”Ÿæ—¥ä¸èƒ½ä¸ºç©º&quot;)    @Past(message = &quot;ç”Ÿæ—¥å¿…é¡»æ˜¯è¿‡å»çš„æ—¥æœŸ&quot;)    private LocalDate birthday;        @NotNull(message = &quot;å¼€å§‹æ—¶é—´ä¸èƒ½ä¸ºç©º&quot;)    @FutureOrPresent(message = &quot;å¼€å§‹æ—¶é—´ä¸èƒ½æ—©äºå½“å‰æ—¶é—´&quot;)    private LocalDateTime startTime;        @NotNull(message = &quot;ç»“æŸæ—¶é—´ä¸èƒ½ä¸ºç©º&quot;)    @Future(message = &quot;ç»“æŸæ—¶é—´å¿…é¡»æ˜¯æœªæ¥çš„æ—¶é—´&quot;)    private LocalDateTime endTime;        @PastOrPresent(message = &quot;åˆ›å»ºæ—¶é—´ä¸èƒ½æ˜¯æœªæ¥æ—¶é—´&quot;)    private LocalDateTime createdAt;        // æ„é€ å™¨ã€getterã€setter...&#125;

é«˜çº§éªŒè¯åŠŸèƒ½è‡ªå®šä¹‰éªŒè¯æ³¨è§£/** * è‡ªå®šä¹‰éªŒè¯æ³¨è§£ï¼šå¯†ç å¼ºåº¦éªŒè¯ */@Target(&#123;ElementType.FIELD, ElementType.PARAMETER&#125;)@Retention(RetentionPolicy.RUNTIME)@Constraint(validatedBy = PasswordValidator.class)@Documentedpublic @interface ValidPassword &#123;    String message() default &quot;å¯†ç å¼ºåº¦ä¸å¤Ÿï¼šè‡³å°‘8ä½ï¼ŒåŒ…å«å¤§å°å†™å­—æ¯ã€æ•°å­—å’Œç‰¹æ®Šå­—ç¬¦&quot;;    Class&lt;?&gt;[] groups() default &#123;&#125;;    Class&lt;? extends Payload&gt;[] payload() default &#123;&#125;;&#125;// éªŒè¯å™¨å®ç°public class PasswordValidator implements ConstraintValidator&lt;ValidPassword, String&gt; &#123;        private static final String PASSWORD_PATTERN =         &quot;^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&amp;])[A-Za-z\\d@$!%*?&amp;]&#123;8,&#125;$&quot;;        private Pattern pattern;        @Override    public void initialize(ValidPassword constraintAnnotation) &#123;        pattern = Pattern.compile(PASSWORD_PATTERN);    &#125;        @Override    public boolean isValid(String password, ConstraintValidatorContext context) &#123;        if (password == null) &#123;            return false;        &#125;                Matcher matcher = pattern.matcher(password);        if (!matcher.matches()) &#123;            // è‡ªå®šä¹‰é”™è¯¯æ¶ˆæ¯            context.disableDefaultConstraintViolation();                        List&lt;String&gt; errors = new ArrayList&lt;&gt;();            if (password.length() &lt; 8) &#123;                errors.add(&quot;å¯†ç é•¿åº¦è‡³å°‘8ä½&quot;);            &#125;            if (!password.matches(&quot;.*[a-z].*&quot;)) &#123;                errors.add(&quot;å¿…é¡»åŒ…å«å°å†™å­—æ¯&quot;);            &#125;            if (!password.matches(&quot;.*[A-Z].*&quot;)) &#123;                errors.add(&quot;å¿…é¡»åŒ…å«å¤§å†™å­—æ¯&quot;);            &#125;            if (!password.matches(&quot;.*\\d.*&quot;)) &#123;                errors.add(&quot;å¿…é¡»åŒ…å«æ•°å­—&quot;);            &#125;            if (!password.matches(&quot;.*[@$!%*?&amp;].*&quot;)) &#123;                errors.add(&quot;å¿…é¡»åŒ…å«ç‰¹æ®Šå­—ç¬¦(@$!%*?&amp;)&quot;);            &#125;                        String errorMessage = &quot;å¯†ç è¦æ±‚ï¼š&quot; + String.join(&quot;ã€&quot;, errors);            context.buildConstraintViolationWithTemplate(errorMessage)                   .addConstraintViolation();                        return false;        &#125;                return true;    &#125;&#125;// ä½¿ç”¨è‡ªå®šä¹‰éªŒè¯æ³¨è§£public class ChangePasswordDto &#123;        @NotBlank(message = &quot;å½“å‰å¯†ç ä¸èƒ½ä¸ºç©º&quot;)    private String currentPassword;        @ValidPassword // ä½¿ç”¨è‡ªå®šä¹‰éªŒè¯æ³¨è§£    @NotBlank(message = &quot;æ–°å¯†ç ä¸èƒ½ä¸ºç©º&quot;)    private String newPassword;        @NotBlank(message = &quot;ç¡®è®¤å¯†ç ä¸èƒ½ä¸ºç©º&quot;)    private String confirmPassword;        // æ„é€ å™¨ã€getterã€setter...&#125;

ç±»çº§åˆ«éªŒè¯ï¼ˆè·¨å­—æ®µéªŒè¯ï¼‰/** * ç±»çº§åˆ«éªŒè¯æ³¨è§£ï¼šç¡®ä¿ä¸¤ä¸ªå­—æ®µç›¸ç­‰ */@Target(&#123;ElementType.TYPE&#125;)@Retention(RetentionPolicy.RUNTIME)@Constraint(validatedBy = FieldMatchValidator.class)@Documentedpublic @interface FieldMatch &#123;    String message() default &quot;å­—æ®µä¸åŒ¹é…&quot;;    String first();    String second();    Class&lt;?&gt;[] groups() default &#123;&#125;;    Class&lt;? extends Payload&gt;[] payload() default &#123;&#125;;&#125;// éªŒè¯å™¨å®ç°public class FieldMatchValidator implements ConstraintValidator&lt;FieldMatch, Object&gt; &#123;        private String firstFieldName;    private String secondFieldName;        @Override    public void initialize(FieldMatch constraintAnnotation) &#123;        firstFieldName = constraintAnnotation.first();        secondFieldName = constraintAnnotation.second();    &#125;        @Override    public boolean isValid(Object value, ConstraintValidatorContext context) &#123;        try &#123;            Object firstObj = getFieldValue(value, firstFieldName);            Object secondObj = getFieldValue(value, secondFieldName);                        boolean valid = Objects.equals(firstObj, secondObj);                        if (!valid) &#123;                context.disableDefaultConstraintViolation();                context.buildConstraintViolationWithTemplate(                    String.format(&quot;%så’Œ%så¿…é¡»ç›¸åŒ&quot;, firstFieldName, secondFieldName))                       .addPropertyNode(secondFieldName)                       .addConstraintViolation();            &#125;                        return valid;        &#125; catch (Exception e) &#123;            return false;        &#125;    &#125;        private Object getFieldValue(Object object, String fieldName) throws Exception &#123;        Class&lt;?&gt; clazz = object.getClass();        Field field = clazz.getDeclaredField(fieldName);        field.setAccessible(true);        return field.get(object);    &#125;&#125;// ä½¿ç”¨ç±»çº§åˆ«éªŒè¯@FieldMatch(first = &quot;password&quot;, second = &quot;confirmPassword&quot;, message = &quot;å¯†ç å’Œç¡®è®¤å¯†ç å¿…é¡»ç›¸åŒ&quot;)@FieldMatch(first = &quot;email&quot;, second = &quot;confirmEmail&quot;, message = &quot;é‚®ç®±å’Œç¡®è®¤é‚®ç®±å¿…é¡»ç›¸åŒ&quot;)public class UserRegistrationDto &#123;        @NotBlank(message = &quot;ç”¨æˆ·åä¸èƒ½ä¸ºç©º&quot;)    @Size(min = 3, max = 20, message = &quot;ç”¨æˆ·åé•¿åº¦å¿…é¡»åœ¨3-20ä¸ªå­—ç¬¦ä¹‹é—´&quot;)    private String username;        @ValidPassword    @NotBlank(message = &quot;å¯†ç ä¸èƒ½ä¸ºç©º&quot;)    private String password;        @NotBlank(message = &quot;ç¡®è®¤å¯†ç ä¸èƒ½ä¸ºç©º&quot;)    private String confirmPassword;        @Email(message = &quot;é‚®ç®±æ ¼å¼ä¸æ­£ç¡®&quot;)    @NotBlank(message = &quot;é‚®ç®±ä¸èƒ½ä¸ºç©º&quot;)    private String email;        @NotBlank(message = &quot;ç¡®è®¤é‚®ç®±ä¸èƒ½ä¸ºç©º&quot;)    private String confirmEmail;        // æ„é€ å™¨ã€getterã€setter...&#125;

éªŒè¯ç»„ï¼ˆValidation Groupsï¼‰/** * éªŒè¯ç»„ï¼šåœ¨ä¸åŒåœºæ™¯ä¸‹åº”ç”¨ä¸åŒçš„éªŒè¯è§„åˆ™ */// å®šä¹‰éªŒè¯ç»„æ¥å£public interface CreateGroup &#123;&#125;public interface UpdateGroup &#123;&#125;public class UserDto &#123;        // IDåªåœ¨æ›´æ–°æ—¶éœ€è¦    @NotNull(groups = UpdateGroup.class, message = &quot;æ›´æ–°æ—¶IDä¸èƒ½ä¸ºç©º&quot;)    @Null(groups = CreateGroup.class, message = &quot;åˆ›å»ºæ—¶IDå¿…é¡»ä¸ºç©º&quot;)    private Long id;        // ç”¨æˆ·ååœ¨åˆ›å»ºå’Œæ›´æ–°æ—¶éƒ½éœ€è¦éªŒè¯    @NotBlank(groups = &#123;CreateGroup.class, UpdateGroup.class&#125;, message = &quot;ç”¨æˆ·åä¸èƒ½ä¸ºç©º&quot;)    @Size(min = 3, max = 20, groups = &#123;CreateGroup.class, UpdateGroup.class&#125;,           message = &quot;ç”¨æˆ·åé•¿åº¦å¿…é¡»åœ¨3-20ä¸ªå­—ç¬¦ä¹‹é—´&quot;)    private String username;        // å¯†ç åªåœ¨åˆ›å»ºæ—¶éœ€è¦    @NotBlank(groups = CreateGroup.class, message = &quot;åˆ›å»ºæ—¶å¯†ç ä¸èƒ½ä¸ºç©º&quot;)    @ValidPassword(groups = CreateGroup.class)    private String password;        // é‚®ç®±åœ¨åˆ›å»ºå’Œæ›´æ–°æ—¶éƒ½éœ€è¦éªŒè¯    @Email(groups = &#123;CreateGroup.class, UpdateGroup.class&#125;, message = &quot;é‚®ç®±æ ¼å¼ä¸æ­£ç¡®&quot;)    @NotBlank(groups = &#123;CreateGroup.class, UpdateGroup.class&#125;, message = &quot;é‚®ç®±ä¸èƒ½ä¸ºç©º&quot;)    private String email;        // æ„é€ å™¨ã€getterã€setter...&#125;// åœ¨æ§åˆ¶å™¨ä¸­ä½¿ç”¨éªŒè¯ç»„@RestController@RequestMapping(&quot;/api/users&quot;)public class UserController &#123;        @PostMapping    public ResponseEntity&lt;User&gt; createUser(@Validated(CreateGroup.class) @RequestBody UserDto dto) &#123;        // åªéªŒè¯CreateGroupç»„çš„æ³¨è§£        User user = userService.createUser(dto);        return ResponseEntity.status(HttpStatus.CREATED).body(user);    &#125;        @PutMapping(&quot;/&#123;id&#125;&quot;)    public ResponseEntity&lt;User&gt; updateUser(@PathVariable Long id,                                          @Validated(UpdateGroup.class) @RequestBody UserDto dto) &#123;        // åªéªŒè¯UpdateGroupç»„çš„æ³¨è§£        dto.setId(id);        User user = userService.updateUser(dto);        return ResponseEntity.ok(user);    &#125;&#125;

å…¨å±€å¼‚å¸¸å¤„ç†/** * å…¨å±€å¼‚å¸¸å¤„ç†ï¼šç»Ÿä¸€å¤„ç†éªŒè¯é”™è¯¯ */@RestControllerAdvicepublic class GlobalExceptionHandler &#123;        /**     * å¤„ç†@ValidéªŒè¯å¤±è´¥çš„å¼‚å¸¸ï¼ˆè¯·æ±‚ä½“éªŒè¯ï¼‰     */    @ExceptionHandler(MethodArgumentNotValidException.class)    public ResponseEntity&lt;ValidationErrorResponse&gt; handleValidationException(            MethodArgumentNotValidException ex) &#123;                ValidationErrorResponse errorResponse = new ValidationErrorResponse();        errorResponse.setMessage(&quot;è¯·æ±‚å‚æ•°éªŒè¯å¤±è´¥&quot;);        errorResponse.setTimestamp(LocalDateTime.now());                // æ”¶é›†æ‰€æœ‰éªŒè¯é”™è¯¯        Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();        ex.getBindingResult().getFieldErrors().forEach(error -&gt; &#123;            errors.put(error.getField(), error.getDefaultMessage());        &#125;);                // æ”¶é›†ç±»çº§åˆ«éªŒè¯é”™è¯¯        ex.getBindingResult().getGlobalErrors().forEach(error -&gt; &#123;            errors.put(error.getObjectName(), error.getDefaultMessage());        &#125;);                errorResponse.setErrors(errors);                return ResponseEntity.badRequest().body(errorResponse);    &#125;        /**     * å¤„ç†@ValidatedéªŒè¯å¤±è´¥çš„å¼‚å¸¸ï¼ˆæ–¹æ³•å‚æ•°éªŒè¯ï¼‰     */    @ExceptionHandler(ConstraintViolationException.class)    public ResponseEntity&lt;ValidationErrorResponse&gt; handleConstraintViolationException(            ConstraintViolationException ex) &#123;                ValidationErrorResponse errorResponse = new ValidationErrorResponse();        errorResponse.setMessage(&quot;å‚æ•°éªŒè¯å¤±è´¥&quot;);        errorResponse.setTimestamp(LocalDateTime.now());                Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();        ex.getConstraintViolations().forEach(violation -&gt; &#123;            String propertyPath = violation.getPropertyPath().toString();            String message = violation.getMessage();            errors.put(propertyPath, message);        &#125;);                errorResponse.setErrors(errors);                return ResponseEntity.badRequest().body(errorResponse);    &#125;&#125;// éªŒè¯é”™è¯¯å“åº”ç±»@Datapublic class ValidationErrorResponse &#123;    private String message;    private LocalDateTime timestamp;    private Map&lt;String, String&gt; errors;&#125;

6.5 æµ‹è¯•æ³¨è§£è¯¦è§£ï¼ˆJUnit 5 + Spring Boot Testï¼‰JUnit 5æ˜¯Javaçš„æ ‡å‡†æµ‹è¯•æ¡†æ¶ï¼ŒSpring Boot Testæä¾›äº†Springåº”ç”¨çš„æµ‹è¯•æ”¯æŒã€‚
JUnit 5 æ ¸å¿ƒæ³¨è§£åŸºç¡€æµ‹è¯•æ³¨è§£/** * JUnit 5 åŸºç¡€æµ‹è¯•ç¤ºä¾‹ */class CalculatorTest &#123;        private Calculator calculator;        /**     * @BeforeAll: åœ¨æ‰€æœ‰æµ‹è¯•æ–¹æ³•ä¹‹å‰æ‰§è¡Œä¸€æ¬¡ï¼ˆå¿…é¡»æ˜¯staticæ–¹æ³•ï¼‰     * ç”¨é€”ï¼šåˆå§‹åŒ–æ˜‚è´µçš„èµ„æºï¼Œå¦‚æ•°æ®åº“è¿æ¥æ± ã€æ–‡ä»¶è¯»å–ç­‰     */    @BeforeAll    static void setUpClass() &#123;        System.out.println(&quot;åˆå§‹åŒ–æµ‹è¯•ç±»èµ„æº&quot;);        // ä¾‹å¦‚ï¼šåˆå§‹åŒ–æ•°æ®åº“è¿æ¥æ±         // DatabasePool.initialize();    &#125;        /**     * @AfterAll: åœ¨æ‰€æœ‰æµ‹è¯•æ–¹æ³•ä¹‹åæ‰§è¡Œä¸€æ¬¡ï¼ˆå¿…é¡»æ˜¯staticæ–¹æ³•ï¼‰     * ç”¨é€”ï¼šæ¸…ç†æ˜‚è´µçš„èµ„æº     */    @AfterAll    static void tearDownClass() &#123;        System.out.println(&quot;æ¸…ç†æµ‹è¯•ç±»èµ„æº&quot;);        // ä¾‹å¦‚ï¼šå…³é—­æ•°æ®åº“è¿æ¥æ±         // DatabasePool.close();    &#125;        /**     * @BeforeEach: åœ¨æ¯ä¸ªæµ‹è¯•æ–¹æ³•ä¹‹å‰æ‰§è¡Œ     * ç”¨é€”ï¼šä¸ºæ¯ä¸ªæµ‹è¯•åˆ›å»ºå¹²å‡€çš„ç¯å¢ƒ     */    @BeforeEach    void setUp() &#123;        calculator = new Calculator();        System.out.println(&quot;ä¸ºæµ‹è¯•æ–¹æ³•å‡†å¤‡Calculatorå®ä¾‹&quot;);    &#125;        /**     * @AfterEach: åœ¨æ¯ä¸ªæµ‹è¯•æ–¹æ³•ä¹‹åæ‰§è¡Œ     * ç”¨é€”ï¼šæ¸…ç†æ¯ä¸ªæµ‹è¯•äº§ç”Ÿçš„å‰¯ä½œç”¨     */    @AfterEach    void tearDown() &#123;        calculator = null;        System.out.println(&quot;æ¸…ç†Calculatorå®ä¾‹&quot;);    &#125;        /**     * @Test: æ ‡è®°è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•æ–¹æ³•     * @DisplayName: ä¸ºæµ‹è¯•æä¾›å¯è¯»çš„åç§°ï¼ˆåœ¨æµ‹è¯•æŠ¥å‘Šä¸­æ˜¾ç¤ºï¼‰     */    @Test    @DisplayName(&quot;æµ‹è¯•ä¸¤ä¸ªæ­£æ•°ç›¸åŠ &quot;)    void testAddPositiveNumbers() &#123;        // Givenï¼ˆå‡†å¤‡ï¼‰        int a = 5;        int b = 3;        int expected = 8;                // Whenï¼ˆæ‰§è¡Œï¼‰        int actual = calculator.add(a, b);                // Thenï¼ˆéªŒè¯ï¼‰        assertEquals(expected, actual, &quot;5 + 3 åº”è¯¥ç­‰äº 8&quot;);    &#125;        @Test    @DisplayName(&quot;æµ‹è¯•é™¤æ³•æ“ä½œ&quot;)    void testDivision() &#123;        assertEquals(2.0, calculator.divide(10, 5), 0.001, &quot;10 / 5 åº”è¯¥ç­‰äº 2.0&quot;);    &#125;        /**     * @Testæ³¨è§£çš„å¼‚å¸¸æµ‹è¯•     */    @Test    @DisplayName(&quot;æµ‹è¯•é™¤é›¶å¼‚å¸¸&quot;)    void testDivisionByZero() &#123;        // éªŒè¯æ˜¯å¦æŠ›å‡ºé¢„æœŸçš„å¼‚å¸¸        ArithmeticException exception = assertThrows(            ArithmeticException.class,             () -&gt; calculator.divide(10, 0),            &quot;é™¤é›¶åº”è¯¥æŠ›å‡ºArithmeticException&quot;        );                // éªŒè¯å¼‚å¸¸æ¶ˆæ¯        assertEquals(&quot;/ by zero&quot;, exception.getMessage());    &#125;        /**     * @Disabled: ç¦ç”¨æµ‹è¯•ï¼ˆç±»ä¼¼äºJUnit 4çš„@Ignoreï¼‰     */    @Test    @Disabled(&quot;æš‚æ—¶ç¦ç”¨ï¼Œç­‰å¾…ä¿®å¤bug #123&quot;)    void testComplexCalculation() &#123;        // è¿™ä¸ªæµ‹è¯•ä¸ä¼šæ‰§è¡Œ    &#125;&#125;

å‚æ•°åŒ–æµ‹è¯•æ³¨è§£/** * å‚æ•°åŒ–æµ‹è¯•ï¼šä½¿ç”¨ä¸åŒçš„å‚æ•°è¿è¡ŒåŒä¸€ä¸ªæµ‹è¯• */class ParameterizedTestExample &#123;        /**     * @ParameterizedTest: å‚æ•°åŒ–æµ‹è¯•     * @ValueSource: æä¾›ç®€å•ç±»å‹çš„å‚æ•°å€¼     */    @ParameterizedTest    @DisplayName(&quot;æµ‹è¯•å­—ç¬¦ä¸²é•¿åº¦éªŒè¯&quot;)    @ValueSource(strings = &#123;&quot;&quot;, &quot;   &quot;, &quot;test&quot;, &quot;hello world&quot;&#125;)    void testStringLength(String input) &#123;        if (input.trim().isEmpty()) &#123;            assertTrue(input.trim().length() == 0);        &#125; else &#123;            assertTrue(input.length() &gt; 0);        &#125;    &#125;        @ParameterizedTest    @DisplayName(&quot;æµ‹è¯•æ•°å­—æ˜¯å¦ä¸ºå¶æ•°&quot;)    @ValueSource(ints = &#123;2, 4, 6, 8, 10&#125;)    void testEvenNumbers(int number) &#123;        assertTrue(number % 2 == 0, number + &quot; åº”è¯¥æ˜¯å¶æ•°&quot;);    &#125;        /**     * @CsvSource: æä¾›CSVæ ¼å¼çš„å‚æ•°     */    @ParameterizedTest    @DisplayName(&quot;æµ‹è¯•åŠ æ³•è¿ç®—&quot;)    @CsvSource(&#123;        &quot;1, 2, 3&quot;,        &quot;5, 7, 12&quot;,         &quot;-2, 3, 1&quot;,        &quot;0, 0, 0&quot;    &#125;)    void testAddition(int a, int b, int expected) &#123;        Calculator calculator = new Calculator();        assertEquals(expected, calculator.add(a, b));    &#125;        /**     * @CsvFileSource: ä»CSVæ–‡ä»¶è¯»å–å‚æ•°     */    @ParameterizedTest    @DisplayName(&quot;ä»æ–‡ä»¶æµ‹è¯•ç”¨æˆ·æ•°æ®&quot;)    @CsvFileSource(resources = &quot;/test-users.csv&quot;, numLinesToSkip = 1)    void testUserValidation(String username, String email, boolean expectedValid) &#123;        User user = new User(username, email);        assertEquals(expectedValid, UserValidator.isValid(user));    &#125;        /**     * @MethodSource: ä½¿ç”¨æ–¹æ³•æä¾›å‚æ•°     */    @ParameterizedTest    @DisplayName(&quot;æµ‹è¯•å¯†ç å¼ºåº¦&quot;)    @MethodSource(&quot;providePasswordTestCases&quot;)    void testPasswordStrength(String password, boolean expectedStrong) &#123;        assertEquals(expectedStrong, PasswordValidator.isStrong(password));    &#125;        // æä¾›æµ‹è¯•å‚æ•°çš„é™æ€æ–¹æ³•    static Stream&lt;Arguments&gt; providePasswordTestCases() &#123;        return Stream.of(            Arguments.of(&quot;123456&quot;, false),            Arguments.of(&quot;Password123!&quot;, true),            Arguments.of(&quot;weakpass&quot;, false),            Arguments.of(&quot;Strong@Pass123&quot;, true)        );    &#125;        /**     * @EnumSource: ä½¿ç”¨æšä¸¾å€¼ä½œä¸ºå‚æ•°     */    @ParameterizedTest    @DisplayName(&quot;æµ‹è¯•ç”¨æˆ·çŠ¶æ€&quot;)    @EnumSource(UserStatus.class)    void testUserStatus(UserStatus status) &#123;        assertNotNull(status);        assertNotNull(status.getDescription());    &#125;        /**     * @ArgumentsSource: ä½¿ç”¨è‡ªå®šä¹‰å‚æ•°æä¾›è€…     */    @ParameterizedTest    @DisplayName(&quot;æµ‹è¯•è‡ªå®šä¹‰å‚æ•°&quot;)    @ArgumentsSource(CustomArgumentsProvider.class)    void testWithCustomProvider(String input, int expectedLength) &#123;        assertEquals(expectedLength, input.length());    &#125;&#125;// è‡ªå®šä¹‰å‚æ•°æä¾›è€…class CustomArgumentsProvider implements ArgumentsProvider &#123;    @Override    public Stream&lt;? extends Arguments&gt; provideArguments(ExtensionContext context) &#123;        return Stream.of(            Arguments.of(&quot;hello&quot;, 5),            Arguments.of(&quot;world&quot;, 5),            Arguments.of(&quot;test&quot;, 4)        );    &#125;&#125;

Spring Boot æµ‹è¯•æ³¨è§£å®Œæ•´åº”ç”¨ä¸Šä¸‹æ–‡æµ‹è¯•/** * @SpringBootTest: åŠ è½½å®Œæ•´çš„Springåº”ç”¨ä¸Šä¸‹æ–‡ * ç”¨é€”ï¼šé›†æˆæµ‹è¯•ï¼Œæµ‹è¯•æ•´ä¸ªåº”ç”¨çš„äº¤äº’ */@SpringBootTest(    webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT, // éšæœºç«¯å£å¯åŠ¨WebæœåŠ¡å™¨    properties = &#123;&quot;spring.profiles.active=test&quot;&#125; // æ¿€æ´»testé…ç½®æ–‡ä»¶)@TestPropertySource(locations = &quot;classpath:application-test.properties&quot;) // é¢å¤–çš„æµ‹è¯•é…ç½®@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD) // æ¯ä¸ªæµ‹è¯•åé‡å»ºä¸Šä¸‹æ–‡class UserServiceIntegrationTest &#123;        @Autowired    private UserService userService;        @Autowired    private UserRepository userRepository;        @Autowired    private TestRestTemplate restTemplate; // ç”¨äºHTTPè¯·æ±‚æµ‹è¯•        @LocalServerPort    private int port; // è·å–éšæœºåˆ†é…çš„ç«¯å£å·        @Test    @DisplayName(&quot;é›†æˆæµ‹è¯•ï¼šåˆ›å»ºç”¨æˆ·çš„å®Œæ•´æµç¨‹&quot;)    void testCreateUserIntegration() &#123;        // Given        String username = &quot;testuser&quot;;        String email = &quot;test@example.com&quot;;                // When        User user = userService.createUser(username, email);                // Then        assertNotNull(user.getId());        assertEquals(username, user.getUsername());        assertEquals(email, user.getEmail());                // éªŒè¯æ•°æ®ç¡®å®ä¿å­˜åˆ°æ•°æ®åº“        Optional&lt;User&gt; savedUser = userRepository.findById(user.getId());        assertTrue(savedUser.isPresent());        assertEquals(username, savedUser.get().getUsername());    &#125;        @Test    @DisplayName(&quot;HTTPæ¥å£é›†æˆæµ‹è¯•&quot;)    void testUserApiEndpoint() &#123;        // Given        CreateUserRequest request = new CreateUserRequest(&quot;apiuser&quot;, &quot;api@example.com&quot;);                // When        ResponseEntity&lt;User&gt; response = restTemplate.postForEntity(            &quot;http://localhost:&quot; + port + &quot;/api/users&quot;,            request,            User.class        );                // Then        assertEquals(HttpStatus.CREATED, response.getStatusCode());        assertNotNull(response.getBody());        assertEquals(&quot;apiuser&quot;, response.getBody().getUsername());    &#125;&#125;

Webå±‚æµ‹è¯•/** * @WebMvcTest: åªåŠ è½½Webå±‚ç»„ä»¶ï¼ˆControllerã€Filterã€WebMvcConfigurerç­‰ï¼‰ * ä¼˜ç‚¹ï¼šå¯åŠ¨é€Ÿåº¦å¿«ï¼Œåªæµ‹è¯•Webå±‚é€»è¾‘ */@WebMvcTest(UserController.class) // åªåŠ è½½UserControllerclass UserControllerTest &#123;        @Autowired    private MockMvc mockMvc; // æ¨¡æ‹ŸHTTPè¯·æ±‚        @MockBean    private UserService userService; // æ¨¡æ‹ŸServiceå±‚        @Autowired    private ObjectMapper objectMapper; // JSONåºåˆ—åŒ–å·¥å…·        @Test    @DisplayName(&quot;æµ‹è¯•è·å–ç”¨æˆ·API - æˆåŠŸæ¡ˆä¾‹&quot;)    void testGetUser_Success() throws Exception &#123;        // Given        Long userId = 1L;        User mockUser = new User(&quot;testuser&quot;, &quot;test@example.com&quot;);        mockUser.setId(userId);                when(userService.findById(userId)).thenReturn(mockUser);                // When &amp; Then        mockMvc.perform(get(&quot;/api/users/&#123;id&#125;&quot;, userId)                .contentType(MediaType.APPLICATION_JSON))                .andExpect(status().isOk())                .andExpect(jsonPath(&quot;$.id&quot;).value(userId))                .andExpect(jsonPath(&quot;$.username&quot;).value(&quot;testuser&quot;))                .andExpect(jsonPath(&quot;$.email&quot;).value(&quot;test@example.com&quot;))                .andDo(print()); // æ‰“å°è¯·æ±‚å’Œå“åº”è¯¦æƒ…                // éªŒè¯Serviceæ–¹æ³•è¢«è°ƒç”¨        verify(userService, times(1)).findById(userId);    &#125;        @Test    @DisplayName(&quot;æµ‹è¯•è·å–ç”¨æˆ·API - ç”¨æˆ·ä¸å­˜åœ¨&quot;)    void testGetUser_NotFound() throws Exception &#123;        // Given        Long userId = 999L;        when(userService.findById(userId)).thenThrow(new UserNotFoundException(&quot;ç”¨æˆ·ä¸å­˜åœ¨&quot;));                // When &amp; Then        mockMvc.perform(get(&quot;/api/users/&#123;id&#125;&quot;, userId)                .contentType(MediaType.APPLICATION_JSON))                .andExpect(status().isNotFound());                verify(userService, times(1)).findById(userId);    &#125;        @Test    @DisplayName(&quot;æµ‹è¯•åˆ›å»ºç”¨æˆ·API - æˆåŠŸæ¡ˆä¾‹&quot;)    void testCreateUser_Success() throws Exception &#123;        // Given        CreateUserRequest request = new CreateUserRequest(&quot;newuser&quot;, &quot;new@example.com&quot;);        User createdUser = new User(&quot;newuser&quot;, &quot;new@example.com&quot;);        createdUser.setId(1L);                when(userService.createUser(anyString(), anyString())).thenReturn(createdUser);                // When &amp; Then        mockMvc.perform(post(&quot;/api/users&quot;)                .contentType(MediaType.APPLICATION_JSON)                .content(objectMapper.writeValueAsString(request)))                .andExpect(status().isCreated())                .andExpect(jsonPath(&quot;$.id&quot;).exists())                .andExpect(jsonPath(&quot;$.username&quot;).value(&quot;newuser&quot;))                .andExpect(jsonPath(&quot;$.email&quot;).value(&quot;new@example.com&quot;));                verify(userService, times(1)).createUser(&quot;newuser&quot;, &quot;new@example.com&quot;);    &#125;        @Test    @DisplayName(&quot;æµ‹è¯•åˆ›å»ºç”¨æˆ·API - éªŒè¯å¤±è´¥&quot;)    void testCreateUser_ValidationError() throws Exception &#123;        // Given: æ— æ•ˆçš„è¯·æ±‚æ•°æ®        CreateUserRequest request = new CreateUserRequest(&quot;&quot;, &quot;invalid-email&quot;);                // When &amp; Then        mockMvc.perform(post(&quot;/api/users&quot;)                .contentType(MediaType.APPLICATION_JSON)                .content(objectMapper.writeValueAsString(request)))                .andExpect(status().isBadRequest())                .andExpect(jsonPath(&quot;$.errors&quot;).exists())                .andExpect(jsonPath(&quot;$.errors.username&quot;).exists())                .andExpect(jsonPath(&quot;$.errors.email&quot;).exists());                // éªŒè¯Serviceæ–¹æ³•æ²¡æœ‰è¢«è°ƒç”¨        verify(userService, never()).createUser(anyString(), anyString());    &#125;&#125;

æ•°æ®å±‚æµ‹è¯•/** * @DataJpaTest: åªåŠ è½½JPAç›¸å…³ç»„ä»¶ * ç‰¹ç‚¹ï¼šä½¿ç”¨å†…å­˜æ•°æ®åº“ï¼Œäº‹åŠ¡è‡ªåŠ¨å›æ»š */@DataJpaTestclass UserRepositoryTest &#123;        @Autowired    private TestEntityManager entityManager; // ç”¨äºæµ‹è¯•çš„EntityManager        @Autowired    private UserRepository userRepository;        @Test    @DisplayName(&quot;æµ‹è¯•æ ¹æ®ç”¨æˆ·åæŸ¥æ‰¾ç”¨æˆ·&quot;)    void testFindByUsername() &#123;        // Given        User user = new User(&quot;testuser&quot;, &quot;test@example.com&quot;);        entityManager.persistAndFlush(user); // ç«‹å³ä¿å­˜åˆ°æ•°æ®åº“                // When        Optional&lt;User&gt; found = userRepository.findByUsername(&quot;testuser&quot;);                // Then        assertTrue(found.isPresent());        assertEquals(&quot;testuser&quot;, found.get().getUsername());        assertEquals(&quot;test@example.com&quot;, found.get().getEmail());    &#125;        @Test    @DisplayName(&quot;æµ‹è¯•æ ¹æ®é‚®ç®±æŸ¥æ‰¾ç”¨æˆ·&quot;)    void testFindByEmail() &#123;        // Given        User user1 = new User(&quot;user1&quot;, &quot;user1@example.com&quot;);        User user2 = new User(&quot;user2&quot;, &quot;user2@example.com&quot;);        entityManager.persist(user1);        entityManager.persist(user2);        entityManager.flush();                // When        Optional&lt;User&gt; found = userRepository.findByEmail(&quot;user1@example.com&quot;);                // Then        assertTrue(found.isPresent());        assertEquals(&quot;user1&quot;, found.get().getUsername());    &#125;        @Test    @DisplayName(&quot;æµ‹è¯•ç”¨æˆ·åæ˜¯å¦å­˜åœ¨&quot;)    void testExistsByUsername() &#123;        // Given        User user = new User(&quot;existinguser&quot;, &quot;existing@example.com&quot;);        entityManager.persistAndFlush(user);                // When &amp; Then        assertTrue(userRepository.existsByUsername(&quot;existinguser&quot;));        assertFalse(userRepository.existsByUsername(&quot;nonexistentuser&quot;));    &#125;        @Test    @DisplayName(&quot;æµ‹è¯•è‡ªå®šä¹‰æŸ¥è¯¢æ–¹æ³•&quot;)    void testFindActiveUsers() &#123;        // Given        User activeUser = new User(&quot;activeuser&quot;, &quot;active@example.com&quot;);        activeUser.setStatus(UserStatus.ACTIVE);                User inactiveUser = new User(&quot;inactiveuser&quot;, &quot;inactive@example.com&quot;);        inactiveUser.setStatus(UserStatus.INACTIVE);                entityManager.persist(activeUser);        entityManager.persist(inactiveUser);        entityManager.flush();                // When        List&lt;User&gt; activeUsers = userRepository.findByStatus(UserStatus.ACTIVE);                // Then        assertEquals(1, activeUsers.size());        assertEquals(&quot;activeuser&quot;, activeUsers.get(0).getUsername());    &#125;&#125;

æœåŠ¡å±‚æµ‹è¯•ï¼ˆä½¿ç”¨Mockï¼‰/** * çº¯å•å…ƒæµ‹è¯•ï¼šä¸åŠ è½½Springä¸Šä¸‹æ–‡ï¼Œä½¿ç”¨Mockå¯¹è±¡ */@ExtendWith(MockitoExtension.class) // JUnit 5 + Mockitoclass UserServiceTest &#123;        @Mock    private UserRepository userRepository; // Mockçš„Repository        @Mock    private EmailService emailService; // Mockçš„é‚®ä»¶æœåŠ¡        @Mock    private PasswordEncoder passwordEncoder; // Mockçš„å¯†ç ç¼–ç å™¨        @InjectMocks    private UserService userService; // è¢«æµ‹è¯•çš„æœåŠ¡ï¼ˆè‡ªåŠ¨æ³¨å…¥Mockå¯¹è±¡ï¼‰        @Test    @DisplayName(&quot;æµ‹è¯•åˆ›å»ºç”¨æˆ· - æˆåŠŸæ¡ˆä¾‹&quot;)    void testCreateUser_Success() &#123;        // Given        String username = &quot;newuser&quot;;        String email = &quot;new@example.com&quot;;        String rawPassword = &quot;password123&quot;;        String encodedPassword = &quot;encoded_password&quot;;                User savedUser = new User(username, email);        savedUser.setId(1L);        savedUser.setPassword(encodedPassword);                // Mockè¡Œä¸ºè®¾ç½®        when(userRepository.existsByUsername(username)).thenReturn(false);        when(userRepository.existsByEmail(email)).thenReturn(false);        when(passwordEncoder.encode(rawPassword)).thenReturn(encodedPassword);        when(userRepository.save(any(User.class))).thenReturn(savedUser);                // When        User result = userService.createUser(username, email, rawPassword);                // Then        assertNotNull(result);        assertEquals(1L, result.getId());        assertEquals(username, result.getUsername());        assertEquals(email, result.getEmail());        assertEquals(encodedPassword, result.getPassword());                // éªŒè¯Mockå¯¹è±¡çš„è°ƒç”¨        verify(userRepository, times(1)).existsByUsername(username);        verify(userRepository, times(1)).existsByEmail(email);        verify(passwordEncoder, times(1)).encode(rawPassword);        verify(userRepository, times(1)).save(any(User.class));        verify(emailService, times(1)).sendWelcomeEmail(email, username);    &#125;        @Test    @DisplayName(&quot;æµ‹è¯•åˆ›å»ºç”¨æˆ· - ç”¨æˆ·åå·²å­˜åœ¨&quot;)    void testCreateUser_UsernameExists() &#123;        // Given        String username = &quot;existinguser&quot;;        String email = &quot;new@example.com&quot;;                when(userRepository.existsByUsername(username)).thenReturn(true);                // When &amp; Then        DuplicateUsernameException exception = assertThrows(            DuplicateUsernameException.class,            () -&gt; userService.createUser(username, email, &quot;password&quot;)        );                assertEquals(&quot;ç”¨æˆ·åå·²å­˜åœ¨: &quot; + username, exception.getMessage());                // éªŒè¯åç»­æ–¹æ³•æ²¡æœ‰è¢«è°ƒç”¨        verify(userRepository, times(1)).existsByUsername(username);        verify(userRepository, never()).existsByEmail(anyString());        verify(userRepository, never()).save(any(User.class));        verify(emailService, never()).sendWelcomeEmail(anyString(), anyString());    &#125;        @Test    @DisplayName(&quot;æµ‹è¯•ç”¨æˆ·ç™»å½• - æˆåŠŸæ¡ˆä¾‹&quot;)    void testAuthenticate_Success() &#123;        // Given        String username = &quot;testuser&quot;;        String rawPassword = &quot;password123&quot;;        String encodedPassword = &quot;encoded_password&quot;;                User user = new User(username, &quot;test@example.com&quot;);        user.setPassword(encodedPassword);        user.setStatus(UserStatus.ACTIVE);                when(userRepository.findByUsername(username)).thenReturn(Optional.of(user));        when(passwordEncoder.matches(rawPassword, encodedPassword)).thenReturn(true);                // When        boolean result = userService.authenticate(username, rawPassword);                // Then        assertTrue(result);                verify(userRepository, times(1)).findByUsername(username);        verify(passwordEncoder, times(1)).matches(rawPassword, encodedPassword);    &#125;        @Test    @DisplayName(&quot;æµ‹è¯•ç”¨æˆ·ç™»å½• - å¯†ç é”™è¯¯&quot;)    void testAuthenticate_WrongPassword() &#123;        // Given        String username = &quot;testuser&quot;;        String rawPassword = &quot;wrongpassword&quot;;        String encodedPassword = &quot;encoded_password&quot;;                User user = new User(username, &quot;test@example.com&quot;);        user.setPassword(encodedPassword);                when(userRepository.findByUsername(username)).thenReturn(Optional.of(user));        when(passwordEncoder.matches(rawPassword, encodedPassword)).thenReturn(false);                // When        boolean result = userService.authenticate(username, rawPassword);                // Then        assertFalse(result);                verify(userRepository, times(1)).findByUsername(username);        verify(passwordEncoder, times(1)).matches(rawPassword, encodedPassword);    &#125;&#125;

7. è‡ªå®šä¹‰æ³¨è§£7.1 åˆ›å»ºè‡ªå®šä¹‰æ³¨è§£// å®šä¹‰æ³¨è§£@Target(ElementType.METHOD)@Retention(RetentionPolicy.RUNTIME)@Documentedpublic @interface LogExecutionTime &#123;    String value() default &quot;&quot;;    boolean enabled() default true;&#125;// ä½¿ç”¨æ³¨è§£public class BusinessService &#123;        @LogExecutionTime(&quot;ç”¨æˆ·æŸ¥è¯¢&quot;)    public User findUser(Long id) &#123;        // ä¸šåŠ¡é€»è¾‘        return userRepository.findById(id);    &#125;        @LogExecutionTime(value = &quot;æ•°æ®å¤„ç†&quot;, enabled = false)    public void processData() &#123;        // å¤„ç†é€»è¾‘    &#125;&#125;

7.2 æ³¨è§£å¤„ç†å™¨å®ç°@Component@Aspectpublic class LogExecutionTimeAspect &#123;        private static final Logger logger = LoggerFactory.getLogger(LogExecutionTimeAspect.class);        @Around(&quot;@annotation(logExecutionTime)&quot;)    public Object logExecutionTime(ProceedingJoinPoint joinPoint,                                   LogExecutionTime logExecutionTime) throws Throwable &#123;                if (!logExecutionTime.enabled()) &#123;            return joinPoint.proceed();        &#125;                long startTime = System.currentTimeMillis();        String operation = logExecutionTime.value().isEmpty() ?                           joinPoint.getSignature().getName() :                           logExecutionTime.value();                try &#123;            Object result = joinPoint.proceed();            long endTime = System.currentTimeMillis();            logger.info(&quot;æ“ä½œ [&#123;&#125;] æ‰§è¡Œæ—¶é—´: &#123;&#125;ms&quot;, operation, endTime - startTime);            return result;        &#125; catch (Exception e) &#123;            logger.error(&quot;æ“ä½œ [&#123;&#125;] æ‰§è¡Œå¤±è´¥&quot;, operation, e);            throw e;        &#125;    &#125;&#125;

7.3 é€šè¿‡åå°„å¤„ç†æ³¨è§£public class AnnotationProcessor &#123;        public static void processAnnotations(Object obj) &#123;        Class&lt;?&gt; clazz = obj.getClass();                // å¤„ç†ç±»çº§åˆ«æ³¨è§£        if (clazz.isAnnotationPresent(Component.class)) &#123;            Component component = clazz.getAnnotation(Component.class);            System.out.println(&quot;ç»„ä»¶åç§°: &quot; + component.value());        &#125;                // å¤„ç†æ–¹æ³•çº§åˆ«æ³¨è§£        Method[] methods = clazz.getDeclaredMethods();        for (Method method : methods) &#123;            if (method.isAnnotationPresent(LogExecutionTime.class)) &#123;                LogExecutionTime annotation = method.getAnnotation(LogExecutionTime.class);                System.out.println(&quot;æ–¹æ³• &quot; + method.getName() +                                  &quot; éœ€è¦è®°å½•æ‰§è¡Œæ—¶é—´: &quot; + annotation.value());            &#125;        &#125;                // å¤„ç†å­—æ®µçº§åˆ«æ³¨è§£        Field[] fields = clazz.getDeclaredFields();        for (Field field : fields) &#123;            if (field.isAnnotationPresent(Autowired.class)) &#123;                System.out.println(&quot;å­—æ®µ &quot; + field.getName() + &quot; éœ€è¦è‡ªåŠ¨æ³¨å…¥&quot;);            &#125;        &#125;    &#125;&#125;

8. æ³¨è§£çš„æœ€ä½³å®è·µ8.1 è®¾è®¡åŸåˆ™
å•ä¸€èŒè´£ï¼šæ¯ä¸ªæ³¨è§£åªåšä¸€ä»¶äº‹
å‘½åæ¸…æ™°ï¼šæ³¨è§£åç§°åº”è¯¥æ¸…æ¥šè¡¨è¾¾å…¶ç”¨é€”
å‚æ•°åˆç†ï¼šæä¾›åˆç†çš„é»˜è®¤å€¼ï¼Œå‡å°‘ä½¿ç”¨å¤æ‚åº¦
æ–‡æ¡£å®Œå–„ï¼šä¸ºæ³¨è§£å’Œå‚æ•°æä¾›è¯¦ç»†æ–‡æ¡£

8.2 ä½¿ç”¨å»ºè®®// âŒ ä¸å¥½çš„è®¾è®¡ - èŒè´£ä¸æ¸…@AllInOne(log = true, validate = true, cache = true, retry = 3)public void method() &#123;&#125;// âœ… å¥½çš„è®¾è®¡ - èŒè´£åˆ†ç¦»@Log@Validate@Cacheable@Retry(times = 3)public void method() &#123;&#125;

8.3 æ€§èƒ½è€ƒè™‘// åå°„æ“ä½œåº”è¯¥ç¼“å­˜public class AnnotationCache &#123;    private static final Map&lt;Class&lt;?&gt;, List&lt;Method&gt;&gt; methodCache = new ConcurrentHashMap&lt;&gt;();        public static List&lt;Method&gt; getAnnotatedMethods(Class&lt;?&gt; clazz, Class&lt;? extends Annotation&gt; annotation) &#123;        return methodCache.computeIfAbsent(clazz, k -&gt; &#123;            return Arrays.stream(k.getDeclaredMethods())                        .filter(m -&gt; m.isAnnotationPresent(annotation))                        .collect(Collectors.toList());        &#125;);    &#125;&#125;

9. å¸¸è§é”™è¯¯å’Œè§£å†³æ–¹æ¡ˆ9.1 æ³¨è§£ä¸¢å¤±é—®é¢˜// é—®é¢˜ï¼šè¿è¡Œæ—¶æ— æ³•è·å–æ³¨è§£@Target(ElementType.METHOD)// @Retention(RetentionPolicy.RUNTIME)  // å¿˜è®°æ·»åŠ public @interface MyAnnotation &#123;&#125;// è§£å†³ï¼šæ­£ç¡®è®¾ç½®ä¿ç•™ç­–ç•¥@Target(ElementType.METHOD)@Retention(RetentionPolicy.RUNTIME)public @interface MyAnnotation &#123;&#125;

9.2 ç»§æ‰¿é—®é¢˜// é—®é¢˜ï¼šå­ç±»æ— æ³•ç»§æ‰¿çˆ¶ç±»çš„æ³¨è§£@Inherited  // æ·»åŠ æ­¤æ³¨è§£ä½¿å¾—æ³¨è§£å¯ä»¥è¢«ç»§æ‰¿@Target(ElementType.TYPE)@Retention(RetentionPolicy.RUNTIME)public @interface Service &#123;&#125;

9.3 é‡å¤æ³¨è§£// Java 8+ æ”¯æŒé‡å¤æ³¨è§£@Repeatable(Schedules.class)public @interface Schedule &#123;    String time();&#125;public @interface Schedules &#123;    Schedule[] value();&#125;// ä½¿ç”¨@Schedule(time = &quot;morning&quot;)@Schedule(time = &quot;evening&quot;)public void task() &#123;&#125;

10. å­¦ä¹ å»ºè®®10.1 å¾ªåºæ¸è¿›
ç†è§£åŸºç¡€ï¼šå…ˆæŒæ¡å†…ç½®æ³¨è§£çš„ä½¿ç”¨
æ¡†æ¶åº”ç”¨ï¼šå­¦ä¹ Springç­‰æ¡†æ¶ä¸­æ³¨è§£çš„ä½¿ç”¨
è‡ªå®šä¹‰æ³¨è§£ï¼šå°è¯•åˆ›å»ºè‡ªå·±çš„æ³¨è§£
æ·±å…¥åŸç†ï¼šäº†è§£æ³¨è§£å¤„ç†å™¨å’Œåå°„æœºåˆ¶

10.2 å®è·µé¡¹ç›®
åˆ›å»ºä¸€ä¸ªç®€å•çš„Webé¡¹ç›®ï¼Œä½¿ç”¨Spring Bootæ³¨è§£
å®ç°ä¸€ä¸ªæ—¥å¿—è®°å½•çš„è‡ªå®šä¹‰æ³¨è§£
ç¼–å†™ä¸€ä¸ªæ•°æ®éªŒè¯çš„æ³¨è§£ç³»ç»Ÿ

10.3 è¿›é˜¶å­¦ä¹ 
å­¦ä¹ APTï¼ˆAnnotation Processing Toolï¼‰
äº†è§£ç¼–è¯‘æ—¶ä»£ç ç”Ÿæˆ
ç ”ç©¶ä¸»æµæ¡†æ¶çš„æ³¨è§£å®ç°åŸç†

æ€»ç»“Javaæ³¨è§£æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å…ƒç¼–ç¨‹å·¥å…·ï¼Œå®ƒè®©ä»£ç æ›´åŠ ç®€æ´ã€å¯è¯»æ€§æ›´å¼ºã€‚ç›¸æ¯”C++çš„å®ç³»ç»Ÿï¼ŒJavaæ³¨è§£æä¾›äº†æ›´å®‰å…¨ã€æ›´å¼ºå¤§çš„å…ƒæ•°æ®æœºåˆ¶ã€‚æŒæ¡æ³¨è§£çš„ä½¿ç”¨ä¸ä»…èƒ½è®©ä½ æ›´å¥½åœ°ä½¿ç”¨ç°æœ‰æ¡†æ¶ï¼Œè¿˜èƒ½å¸®ä½ è®¾è®¡å‡ºæ›´ä¼˜é›…çš„APIã€‚
æ³¨è§£æ˜¯å¯¹ä»£ç çš„æè¿°ï¼Œè€Œä¸æ˜¯ä»£ç æœ¬èº«ã€‚æ­£ç¡®ç†è§£å’Œä½¿ç”¨æ³¨è§£ï¼Œå°†å¤§å¤§æå‡Javaç¼–ç¨‹æ°´å¹³ã€‚

æ„Ÿè°¢é˜…è¯»ï¼å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹èµå’Œåˆ†äº«ã€‚
]]></content>
      <categories>
        <category>æŠ€æœ¯å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>JAVA</tag>
      </tags>
  </entry>
  <entry>
    <title>csnet æœŸæœ«å‘¨å¤ä¹ </title>
    <url>/2025/08/12/csnet%20%E6%9C%9F%E6%9C%AB%E5%91%A8%E5%A4%8D%E4%B9%A0/</url>
    <content><![CDATA[ğŸ“ csnet æœŸæœ«å‘¨å¤ä¹ 
æœŸæœ«å‘¨å¤ä¹ è‡ªç”¨ï¼Œç«™å»ºå¥½äº†ä¸Šä¼ ä¸€ä¸‹

è®¡ç®—æœºç½‘ç»œå¤ä¹ 1.äº”å±‚åè®®æ ˆåŠå…¶ä½œç”¨ï¼š

ç‰©ç†å±‚ï¼ˆPhysical Layerï¼‰ï¼šè´Ÿè´£æ¯”ç‰¹æµçš„ä¼ è¾“ï¼Œå®šä¹‰ç¡¬ä»¶è®¾å¤‡çš„ç”µæ°”ã€æœºæ¢°ã€è¿‡ç¨‹å’ŒåŠŸèƒ½è§„èŒƒã€‚
æ•°æ®é“¾è·¯å±‚ï¼ˆData Link Layerï¼‰ï¼šè´Ÿè´£åœ¨ç‰©ç†é“¾è·¯ä¸Šå¯é åœ°ä¼ è¾“æ•°æ®å¸§ï¼Œè¿›è¡Œå·®é”™æ£€æµ‹ä¸çº æ­£ã€‚
ç½‘ç»œå±‚ï¼ˆNetwork Layerï¼‰ï¼šè´Ÿè´£æ•°æ®åŒ…ä»æºåˆ°ç›®çš„åœ°çš„è·¯ç”±é€‰æ‹©å’Œè½¬å‘ï¼Œå®ç°ä¸åŒç½‘ç»œä¹‹é—´çš„äº’è”ã€‚
ä¼ è¾“å±‚ï¼ˆTransport Layerï¼‰ï¼šä¸ºä¸¤å°ä¸»æœºä¸Šçš„è¿›ç¨‹ä¹‹é—´æä¾›ç«¯åˆ°ç«¯çš„å¯é æˆ–ä¸å¯é çš„æ•°æ®ä¼ è¾“æœåŠ¡ã€‚
åº”ç”¨å±‚ï¼ˆApplication Layerï¼‰ï¼šä¸ºç”¨æˆ·çš„åº”ç”¨è¿›ç¨‹æä¾›ç½‘ç»œæœåŠ¡ï¼Œå¦‚HTTPã€FTPã€SMTPç­‰ã€‚

2.ISOä¸ƒå±‚æ¨¡å‹åŠå…¶ä½œç”¨ï¼š

ç‰©ç†å±‚ï¼ˆPhysical Layerï¼‰ï¼šè´Ÿè´£æ¯”ç‰¹æµçš„ä¼ è¾“ï¼Œå®šä¹‰ç‰©ç†è®¾å¤‡çš„ç”µæ°”ã€æœºæ¢°ã€è¿‡ç¨‹å’ŒåŠŸèƒ½è§„èŒƒã€‚
æ•°æ®é“¾è·¯å±‚ï¼ˆData Link Layerï¼‰ï¼šè´Ÿè´£åœ¨ç‰©ç†é“¾è·¯ä¸Šå¯é åœ°ä¼ è¾“æ•°æ®å¸§ï¼Œè¿›è¡Œå·®é”™æ£€æµ‹ä¸çº æ­£ã€‚
ç½‘ç»œå±‚ï¼ˆNetwork Layerï¼‰ï¼šè´Ÿè´£æ•°æ®åŒ…çš„è·¯ç”±é€‰æ‹©å’Œè½¬å‘ï¼Œå®ç°ä¸åŒç½‘ç»œä¹‹é—´çš„äº’è”ã€‚
ä¼ è¾“å±‚ï¼ˆTransport Layerï¼‰ï¼šä¸ºä¸»æœºé—´è¿›ç¨‹æä¾›ç«¯åˆ°ç«¯çš„å¯é æˆ–ä¸å¯é çš„æ•°æ®ä¼ è¾“æœåŠ¡ã€‚
ä¼šè¯å±‚ï¼ˆSession Layerï¼‰ï¼šç®¡ç†ä¼šè¯ï¼Œå»ºç«‹ã€ç®¡ç†å’Œç»ˆæ­¢è¿›ç¨‹é—´çš„ä¼šè¯ã€‚
è¡¨ç¤ºå±‚ï¼ˆPresentation Layerï¼‰ï¼šå¤„ç†æ•°æ®çš„è¡¨ç¤ºã€åŠ å¯†ã€è§£å¯†å’Œå‹ç¼©ï¼Œä¿è¯æ•°æ®èƒ½è¢«åº”ç”¨å±‚æ­£ç¡®è¯†åˆ«ã€‚
åº”ç”¨å±‚ï¼ˆApplication Layerï¼‰ï¼šä¸ºç”¨æˆ·çš„åº”ç”¨è¿›ç¨‹æä¾›ç½‘ç»œæœåŠ¡ï¼Œå¦‚HTTPã€FTPã€SMTPç­‰ã€‚

3.ä¸ƒå±‚ä¸äº”å±‚åè®®çš„å¯¹åº”å…³ç³»ï¼š

ç‰©ç†å±‚ã€æ•°æ®é“¾è·¯å±‚ã€ç½‘ç»œå±‚ã€ä¼ è¾“å±‚ã€åº”ç”¨å±‚ï¼šåœ¨äº”å±‚åè®®ä¸­ä¸OSIæ¨¡å‹çš„åŒåå±‚ç›´æ¥å¯¹åº”ã€‚
OSIçš„ä¼šè¯å±‚å’Œè¡¨ç¤ºå±‚çš„åŠŸèƒ½ï¼Œåœ¨äº”å±‚åè®®ä¸­è¢«åˆå¹¶åˆ°åº”ç”¨å±‚ä¸­ã€‚


äº¤æ¢æœºä¸è·¯ç”±å™¨ï¼ˆè·¯ç”±è¡¨ï¼‰çš„åŠŸèƒ½æ¯”è¾ƒï¼š


äº¤æ¢æœºï¼ˆSwitchï¼‰ï¼šä¸»è¦å·¥ä½œåœ¨æ•°æ®é“¾è·¯å±‚ï¼ˆç¬¬äºŒå±‚ï¼‰ï¼Œæ ¹æ®MACåœ°å€è½¬å‘æ•°æ®å¸§ï¼Œé€šè¿‡ç»´æŠ¤MACåœ°å€è¡¨å®ç°å±€åŸŸç½‘å†…çš„æ•°æ®è½¬å‘ã€‚
è·¯ç”±å™¨ï¼ˆRouterï¼‰ï¼šä¸»è¦å·¥ä½œåœ¨ç½‘ç»œå±‚ï¼ˆç¬¬ä¸‰å±‚ï¼‰ï¼Œæ ¹æ®IPåœ°å€è½¬å‘æ•°æ®åŒ…ï¼Œé€šè¿‡ç»´æŠ¤è·¯ç”±è¡¨å®ç°ä¸åŒç½‘ç»œä¹‹é—´çš„æ•°æ®è½¬å‘ã€‚
ç›¸åŒç‚¹ï¼šäºŒè€…éƒ½å®ç°äº†æ•°æ®çš„è½¬å‘å’Œè·¯å¾„é€‰æ‹©ã€‚
ä¸åŒç‚¹ï¼šäº¤æ¢æœºåŸºäºMACåœ°å€ã€å·¥ä½œåœ¨äºŒå±‚ï¼Œä½œç”¨äºå±€åŸŸç½‘ï¼›è·¯ç”±å™¨åŸºäºIPåœ°å€ã€å·¥ä½œåœ¨ä¸‰å±‚ï¼Œä½œç”¨äºä¸åŒç½‘ç»œä¹‹é—´ã€‚


TCPæµé‡æ§åˆ¶ä¸çª—å£æœºåˆ¶ï¼š

(1) TCPæ¥æ”¶æ–¹RecvBufferã€LastByteReadã€LastByteRecvï¼Œå‘é€æ–¹LastByteSentã€LastByteAckï¼Œè¿™äº›å‚æ•°éœ€æ»¡è¶³ä»€ä¹ˆå…³ç³»ï¼Ÿ

æ¥æ”¶æ–¹ï¼šLastByteRead &lt; LastByteRecv â‰¤ RecvBuffer
å‘é€æ–¹ï¼šLastByteAck &lt; LastByteSent

(2) å‘é€æ–¹æ€ä¹ˆçŸ¥é“rwndå¤§å°ï¼Œrwnd&#x3D;0æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆï¼ŒTCPå¦‚ä½•è§£å†³ï¼Ÿ

å‘é€æ–¹é€šè¿‡ACKæŠ¥æ–‡ä¸­çš„çª—å£å­—æ®µè·çŸ¥rwndã€‚
rwnd&#x3D;0æ—¶ï¼Œå‘é€æ–¹ä¸èƒ½å†å‘é€æ•°æ®ï¼Œè¿›å…¥é›¶çª—å£çŠ¶æ€ã€‚
å‘é€æ–¹ä¼šå‘¨æœŸæ€§å‘é€çª—å£æ¢æµ‹æŠ¥æ–‡ï¼ˆZero Window Probeï¼‰ä»¥æ¢æµ‹çª—å£æ˜¯å¦æ‰“å¼€ã€‚

(3) è¿™ä¸ªé—®é¢˜æ¶‰åŠåˆ°TCPçš„ä»€ä¹ˆåŠŸèƒ½ï¼Ÿæœ‰ä½•ä½œç”¨ï¼Ÿ

æ¶‰åŠTCPçš„æµé‡æ§åˆ¶åŠŸèƒ½ã€‚
ä½œç”¨ï¼šé˜²æ­¢å‘é€æ–¹å‘é€è¿‡å¿«å¯¼è‡´æ¥æ”¶æ–¹ç¼“å­˜æº¢å‡ºï¼Œä¿è¯æ•°æ®å¯é ä¼ è¾“ã€‚

(4) æœ‰åè®®è§„å®šå¤ªå°çš„æŠ¥æ–‡ä¸å‘ï¼Œç­‰æ‰€æœ‰æŠ¥æ–‡éƒ½æ”¶åˆ°ackåå†ä¸€èµ·å‘å°æŠ¥æ–‡ï¼Œè¿™æ ·åšçš„ç›®çš„å’Œè´Ÿé¢å½±å“ï¼Ÿ

ç›®çš„ï¼šå‡å°‘å°æŠ¥æ–‡æ•°é‡ï¼Œé™ä½ç½‘ç»œå¼€é”€ï¼Œæé«˜å¸¦å®½åˆ©ç”¨ç‡ã€‚
è´Ÿé¢å½±å“ï¼šå¢åŠ æ—¶å»¶ï¼Œé™ä½å®æ—¶æ€§ï¼Œåº”ç”¨å±‚ç­‰å¾…æ—¶é—´å˜é•¿ã€‚


æ‹¥å¡æ§åˆ¶æ€»ç»“ï¼š

(1) æ‹¥å¡æ§åˆ¶çš„å››ä¸ªé˜¶æ®µï¼š

æ…¢å¯åŠ¨ï¼ˆSlow Startï¼‰ï¼šCWNDï¼ˆæ‹¥å¡çª—å£ï¼‰ä»¥æŒ‡æ•°æ–¹å¼å¢é•¿ï¼Œç›´åˆ°è¾¾åˆ°ssthreshï¼ˆæ…¢å¯åŠ¨é˜ˆå€¼ï¼‰ã€‚
æ‹¥å¡é¿å…ï¼ˆCongestion Avoidanceï¼‰ï¼šCWNDä»¥çº¿æ€§æ–¹å¼å¢é•¿ï¼Œæ¯æ”¶åˆ°ä¸€ä¸ªACKï¼ŒCWNDå¢åŠ 1&#x2F;CWNDã€‚
å¿«é€Ÿé‡ä¼ ï¼ˆFast Retransmitï¼‰ï¼šæ”¶åˆ°3ä¸ªå†—ä½™ACKæ—¶ï¼Œç«‹å³é‡ä¼ ä¸¢å¤±çš„æ•°æ®åŒ…ã€‚
å¿«é€Ÿæ¢å¤ï¼ˆFast Recoveryï¼‰ï¼šssthreshè®¾ç½®ä¸ºå½“å‰CWNDçš„ä¸€åŠï¼ŒCWNDè°ƒæ•´ä¸ºssthresh+3ï¼Œè¿›å…¥æ‹¥å¡é¿å…ã€‚

(2) æ‹¥å¡çª—å£CWNDå’Œssthreshçš„å˜åŒ–ï¼š

æ…¢å¯åŠ¨é˜¶æ®µCWNDæŒ‡æ•°å¢é•¿ï¼Œè¾¾åˆ°ssthreshåè¿›å…¥æ‹¥å¡é¿å…ã€‚
æ‹¥å¡é¿å…é˜¶æ®µCWNDçº¿æ€§å¢é•¿ã€‚
ä¸¢åŒ…ï¼ˆè¶…æ—¶æˆ–3ä¸ªå†—ä½™ACKï¼‰æ—¶ï¼Œssthresh&#x3D;å½“å‰CWND&#x2F;2ï¼ŒCWNDé‡ç½®ï¼ˆè¶…æ—¶ä¸º1ï¼Œ3å†—ä½™ACKä¸ºssthresh+3ï¼‰ã€‚

(3) æ‹¥å¡æ§åˆ¶äº‹ä»¶ï¼š

ä¸¢åŒ…äº‹ä»¶ï¼ˆå¦‚ç¬¬16&#x2F;22 RTTï¼‰ï¼šCWNDéª¤é™ï¼Œssthreshè°ƒæ•´ã€‚
å¿«é€Ÿæ¢å¤åCWNDå’Œssthreshçš„å˜åŒ–ï¼šCWND&#x3D;ssthresh+3ï¼Œssthresh&#x3D;åŸCWND&#x2F;2ã€‚

(4) TCP-BICï¼ˆBinary Increase Congestion controlï¼‰ï¼š

æ‹¥å¡çª—å£é‡‡ç”¨äºŒåˆ†æ³•å¿«é€Ÿæ¢æµ‹å¸¦å®½ä¸Šé™ï¼Œçª—å£æ”¶ç¼©åä»¥äºŒåˆ†æœç´¢æ–¹å¼å¿«é€Ÿæ¢å¤ã€‚
ä¼˜åŠ¿ï¼šå¸¦å®½åˆ©ç”¨ç‡é«˜ï¼Œæ”¶æ•›é€Ÿåº¦å¿«ï¼Œé€‚åˆé«˜å¸¦å®½é«˜å»¶è¿Ÿç½‘ç»œï¼Œé¿å…äº†TCP-Renoçº¿æ€§å¢é•¿æ…¢ã€å¸¦å®½åˆ©ç”¨ç‡ä½çš„é—®é¢˜ã€‚
æœºåˆ¶ï¼šä¸¢åŒ…åçª—å£æ”¶ç¼©åˆ°Wminï¼Œç„¶åä»¥äºŒåˆ†æ³•æ¢æµ‹Wmaxï¼Œçª—å£å¢é•¿æ›´å¿«ä¸”æ›´å¹³æ»‘ã€‚


è·ç¦»å‘é‡ï¼ˆDVï¼‰ç®—æ³•ä¸æ¯’æ€§é€†è½¬ï¼š

(1) è·ç¦»å‘é‡ï¼ˆDistance Vector, DVï¼‰ç®—æ³•ï¼š

æ¯ä¸ªè·¯ç”±å™¨ç»´æŠ¤ä¸€å¼ åˆ°æ‰€æœ‰ç›®çš„ç½‘ç»œçš„è·ç¦»å‘é‡è¡¨ï¼ˆå³åˆ°æ¯ä¸ªç›®çš„åœ°çš„æœ€çŸ­è·ç¦»å’Œä¸‹ä¸€è·³ï¼‰ã€‚
è·¯ç”±å™¨å®šæœŸå°†è‡ªå·±çš„è·ç¦»å‘é‡è¡¨å‘é€ç»™ç›¸é‚»çš„è·¯ç”±å™¨ã€‚
è·¯ç”±å™¨æ”¶åˆ°é‚»å±…çš„è·ç¦»å‘é‡åï¼Œåˆ©ç”¨Bellman-Fordç®—æ³•æ›´æ–°è‡ªå·±çš„è·¯ç”±è¡¨ã€‚
è·¯ç”±å™¨åªçŸ¥é“ä¸è‡ªå·±ç›´æ¥ç›¸è¿çš„é‚»å±…ä¿¡æ¯ï¼Œä¸çŸ¥é“å…¨ç½‘çš„æ‹“æ‰‘ç»“æ„ã€‚
å…¸å‹åè®®ï¼šRIPï¼ˆRouting Information Protocolï¼‰å°±æ˜¯åŸºäºDVç®—æ³•çš„ã€‚
ä¼˜ç‚¹ï¼šå®ç°ç®€å•ï¼Œé€‚åˆå°å‹ç½‘ç»œã€‚
ç¼ºç‚¹ï¼šæ”¶æ•›æ…¢ï¼Œå®¹æ˜“å‡ºç°â€œè·¯ç”±ç¯è·¯â€å’Œâ€œè®¡æ•°åˆ°æ— ç©·â€ç­‰é—®é¢˜ã€‚

(2) æ¯’æ€§é€†è½¬ï¼ˆPoison Reverseï¼‰ï¼š

æ˜¯DVç®—æ³•ä¸­ä¸ºé˜²æ­¢è·¯ç”±ç¯è·¯å’Œâ€œè®¡æ•°åˆ°æ— ç©·â€é—®é¢˜è€Œé‡‡ç”¨çš„ä¸€ç§æœºåˆ¶ã€‚
å½“è·¯ç”±å™¨Aé€šè¿‡è·¯ç”±å™¨Båˆ°è¾¾æŸä¸ªç›®çš„ç½‘ç»œæ—¶ï¼ŒAä¼šå‘Bå£°æ˜è¯¥ç›®çš„ç½‘ç»œçš„è·ç¦»ä¸ºâ€œæ— ç©·å¤§â€ï¼ˆé€šå¸¸ç”¨16è¡¨ç¤ºï¼‰ï¼Œå³â€œæ¯’æ€§â€ä¿¡æ¯ã€‚
è¿™æ ·Bå°±ä¸ä¼šå†æŠŠåˆ°è¯¥ç›®çš„ç½‘ç»œçš„è·¯ç”±ä¿¡æ¯ä¼ å›Aï¼Œé¿å…äº†ç¯è·¯å’Œé”™è¯¯ä¿¡æ¯çš„ä¼ æ’­ã€‚
æ¯’æ€§é€†è½¬èƒ½åŠ å¿«é”™è¯¯è·¯ç”±çš„æ”¶æ•›é€Ÿåº¦ï¼Œä½†ä¸èƒ½å®Œå…¨æ¶ˆé™¤æ‰€æœ‰ç¯è·¯é—®é¢˜ã€‚


IGPã€EGPã€BGPè¯¦è§£ï¼š

(1) IGPï¼ˆInterior Gateway Protocolï¼Œå†…éƒ¨ç½‘å…³åè®®ï¼‰ï¼š

IGPæ˜¯æŒ‡åœ¨åŒä¸€ä¸ªè‡ªæ²»ç³»ç»Ÿï¼ˆASï¼‰å†…éƒ¨ä½¿ç”¨çš„è·¯ç”±åè®®ï¼Œä¸»è¦ç”¨äºASå†…éƒ¨å„è·¯ç”±å™¨ä¹‹é—´çš„è·¯ç”±ä¿¡æ¯äº¤æ¢å’Œæœ€ä¼˜è·¯å¾„é€‰æ‹©ã€‚
å¸¸è§çš„IGPåè®®æœ‰ï¼š
RIPï¼ˆRouting Information Protocolï¼‰ï¼šåŸºäºè·ç¦»å‘é‡ç®—æ³•ï¼Œé€‚åˆå°å‹ç½‘ç»œï¼Œæ”¶æ•›æ…¢ã€‚
OSPFï¼ˆOpen Shortest Path Firstï¼‰ï¼šåŸºäºé“¾è·¯çŠ¶æ€ç®—æ³•ï¼Œæ”¯æŒå¤§è§„æ¨¡ç½‘ç»œï¼Œæ”¶æ•›å¿«ï¼Œå¹¿æ³›åº”ç”¨äºä¼ä¸šå’Œè¿è¥å•†ç½‘ç»œã€‚
IS-ISï¼ˆIntermediate System to Intermediate Systemï¼‰ï¼šä¸OSPFç±»ä¼¼ï¼ŒåŸºäºé“¾è·¯çŠ¶æ€ï¼Œå¸¸ç”¨äºå¤§å‹ISPå’Œè¿è¥å•†ç½‘ç»œã€‚


IGPçš„ç‰¹ç‚¹æ˜¯ï¼šåªåœ¨ASå†…éƒ¨ä¼ æ’­è·¯ç”±ä¿¡æ¯ï¼Œä¸è´Ÿè´£ASä¹‹é—´çš„è·¯ç”±ã€‚

(2) EGPï¼ˆExterior Gateway Protocolï¼Œå¤–éƒ¨ç½‘å…³åè®®ï¼‰ï¼š

EGPæ˜¯æŒ‡ç”¨äºä¸åŒè‡ªæ²»ç³»ç»Ÿï¼ˆASï¼‰ä¹‹é—´çš„è·¯ç”±é€‰æ‹©å’Œä¿¡æ¯äº¤æ¢çš„åè®®ã€‚
æ—©æœŸçš„EGPåè®®æ˜¯EGPï¼ˆExterior Gateway Protocolï¼‰ï¼Œä½†å·²è¢«BGPå–ä»£ã€‚
ç›®å‰å®é™…åº”ç”¨ä¸­ï¼Œå”¯ä¸€å¹¿æ³›ä½¿ç”¨çš„EGPåè®®æ˜¯BGPï¼ˆè¾¹ç•Œç½‘å…³åè®®ï¼‰ã€‚
EGPçš„ä½œç”¨æ˜¯å®ç°äº’è”ç½‘èŒƒå›´çš„è·¯ç”±å¯è¾¾æ€§ï¼Œè´Ÿè´£ASä¹‹é—´çš„è·¯ç”±ä¼ æ’­å’Œç­–ç•¥æ§åˆ¶ã€‚

(3) BGPï¼ˆBorder Gateway Protocolï¼Œè¾¹ç•Œç½‘å…³åè®®ï¼‰ï¼š

BGPæ˜¯ç›®å‰äº’è”ç½‘ä¸­å”¯ä¸€å¹¿æ³›ä½¿ç”¨çš„EGPåè®®ï¼Œå±äºè·¯å¾„å‘é‡è·¯ç”±åè®®ã€‚
ä¸»è¦ç”¨äºä¸åŒASä¹‹é—´çš„è·¯ç”±ä¿¡æ¯äº¤æ¢ï¼Œæ˜¯äº’è”ç½‘çš„â€œä¸»å¹²â€åè®®ã€‚
BGPé€šè¿‡ç»´æŠ¤ASè·¯å¾„ï¼ˆAS Pathï¼‰ç­‰å±æ€§ï¼Œå®ç°è·¯ç”±é€‰æ‹©å’Œç¯è·¯é¿å…ã€‚
æ”¯æŒè·¯ç”±ç­–ç•¥æ§åˆ¶ï¼Œå¯ä»¥æ ¹æ®è¿è¥å•†ã€ä¸šåŠ¡éœ€æ±‚ç­‰çµæ´»é€‰æ‹©è·¯ç”±ã€‚
BGPåˆ†ä¸ºeBGPï¼ˆå¤–éƒ¨BGPï¼Œç”¨äºASä¹‹é—´ï¼‰å’ŒiBGPï¼ˆå†…éƒ¨BGPï¼Œç”¨äºASå†…éƒ¨è·¯ç”±å™¨ä¹‹é—´åŒæ­¥BGPä¿¡æ¯ï¼‰ã€‚
BGPçš„ç‰¹ç‚¹ï¼šå¯æ‰©å±•æ€§å¼ºï¼Œæ”¯æŒè·¯ç”±èšåˆå’Œç­–ç•¥æ§åˆ¶ï¼Œé€‚åˆå¤§è§„æ¨¡äº’è”ç½‘ç¯å¢ƒã€‚


IGPä¸EGPçš„åŠŸèƒ½åŠé…åˆï¼š

(1) IGPï¼ˆInterior Gateway Protocolï¼Œå†…éƒ¨ç½‘å…³åè®®ï¼‰ï¼š

ç”¨äºè‡ªæ²»ç³»ç»Ÿï¼ˆASï¼‰å†…éƒ¨çš„è·¯ç”±é€‰æ‹©ã€‚
å¸¸è§åè®®æœ‰RIPã€OSPFã€IS-ISç­‰ã€‚
ä¸»è¦è´Ÿè´£ASå†…éƒ¨å„è·¯ç”±å™¨ä¹‹é—´çš„è·¯ç”±ä¿¡æ¯äº¤æ¢å’Œæœ€ä¼˜è·¯å¾„é€‰æ‹©ã€‚

(2) EGPï¼ˆExterior Gateway Protocolï¼Œå¤–éƒ¨ç½‘å…³åè®®ï¼‰ï¼š

ç”¨äºä¸åŒè‡ªæ²»ç³»ç»Ÿï¼ˆASï¼‰ä¹‹é—´çš„è·¯ç”±é€‰æ‹©ã€‚
ç›®å‰å®é™…åº”ç”¨ä¸­ä¸»è¦æ˜¯BGPï¼ˆè¾¹ç•Œç½‘å…³åè®®ï¼‰ã€‚
è´Ÿè´£ASä¹‹é—´çš„è·¯ç”±ä¿¡æ¯äº¤æ¢ï¼Œå®ç°äº’è”ç½‘èŒƒå›´çš„è·¯ç”±å¯è¾¾æ€§ã€‚

(3) IGPä¸EGPçš„é…åˆæ–¹å¼ï¼š

IGPè´Ÿè´£ASå†…éƒ¨çš„è·¯ç”±æ”¶æ•›å’Œæœ€ä¼˜è·¯å¾„ï¼ŒEGPè´Ÿè´£ASä¹‹é—´çš„è·¯ç”±ä¼ æ’­å’Œç­–ç•¥æ§åˆ¶ã€‚
è·¯ç”±å™¨åœ¨ASå†…éƒ¨é€šè¿‡IGPå­¦ä¹ å’Œç»´æŠ¤æœ¬åœ°è·¯ç”±è¡¨ï¼Œåœ¨ASè¾¹ç•Œé€šè¿‡EGPï¼ˆå¦‚BGPï¼‰ä¸å…¶ä»–ASäº¤æ¢è·¯ç”±ä¿¡æ¯ã€‚
é€šå¸¸ASå†…éƒ¨çš„è·¯ç”±ä¿¡æ¯é€šè¿‡æ±‡æ€»åç”±EGPå‘å¤–é€šå‘Šï¼ŒEGPå­¦åˆ°çš„å¤–éƒ¨è·¯ç”±ä¹Ÿä¼šæ³¨å…¥åˆ°IGPä¸­ä¾›å†…éƒ¨ä¸»æœºè®¿é—®å¤–éƒ¨ç½‘ç»œã€‚


RIPä¸OSPFè¯¦è§£ï¼š

(1) RIPï¼ˆRouting Information Protocolï¼Œè·¯ç”±ä¿¡æ¯åè®®ï¼‰ï¼š

åŸºäºè·ç¦»å‘é‡ï¼ˆDistance Vectorï¼‰ç®—æ³•çš„å†…éƒ¨ç½‘å…³åè®®ï¼ˆIGPï¼‰ã€‚
è·¯ç”±å™¨å®šæœŸå‘ç›¸é‚»è·¯ç”±å™¨å¹¿æ’­è‡ªå·±çš„è·¯ç”±è¡¨ï¼Œåº¦é‡å€¼ä¸ºâ€œè·³æ•°â€ï¼ˆHop Countï¼‰ï¼Œæœ€å¤§è·³æ•°ä¸º15ï¼Œ16è¡¨ç¤ºä¸å¯è¾¾ã€‚
æ¯30ç§’å‘¨æœŸæ€§æ›´æ–°ï¼Œé€‚åˆå°å‹ç½‘ç»œï¼Œé…ç½®ç®€å•ã€‚
ä¼˜ç‚¹ï¼šå®ç°ç®€å•ï¼Œæ˜“äºé…ç½®å’Œç®¡ç†ã€‚
ç¼ºç‚¹ï¼šæ”¶æ•›æ…¢ï¼Œå®¹æ˜“äº§ç”Ÿè·¯ç”±ç¯è·¯ï¼Œæœ€å¤§è·³æ•°é™åˆ¶å¯¼è‡´ä¸é€‚åˆå¤§å‹ç½‘ç»œï¼Œå¸¦å®½åˆ©ç”¨ç‡ä½ã€‚
å…¸å‹åº”ç”¨ï¼šæ—©æœŸä¼ä¸šå±€åŸŸç½‘ã€å°å‹ç½‘ç»œã€‚

(2) OSPFï¼ˆOpen Shortest Path Firstï¼Œå¼€æ”¾æœ€çŸ­è·¯å¾„ä¼˜å…ˆï¼‰ï¼š

åŸºäºé“¾è·¯çŠ¶æ€ï¼ˆLink Stateï¼‰ç®—æ³•çš„å†…éƒ¨ç½‘å…³åè®®ï¼ˆIGPï¼‰ã€‚
è·¯ç”±å™¨é€šè¿‡æ´ªæ³›æ–¹å¼å‘æ‰€æœ‰è·¯ç”±å™¨é€šå‘Šé“¾è·¯çŠ¶æ€ä¿¡æ¯ï¼Œæ‰€æœ‰è·¯ç”±å™¨è·å¾—å®Œæ•´çš„ç½‘ç»œæ‹“æ‰‘ã€‚
ä½¿ç”¨Dijkstraç®—æ³•è®¡ç®—æœ€çŸ­è·¯å¾„ï¼Œåº¦é‡å€¼ä¸ºâ€œæˆæœ¬â€ï¼ˆCostï¼‰ï¼Œå¯æ ¹æ®å¸¦å®½ç­‰çµæ´»è®¾å®šã€‚
æ”¯æŒåˆ†å±‚è®¾è®¡ï¼ˆåŒºåŸŸAreaï¼‰ï¼Œé€‚åˆå¤§è§„æ¨¡ç½‘ç»œï¼Œæ”¶æ•›é€Ÿåº¦å¿«ã€‚
æ”¯æŒè®¤è¯ã€å®‰å…¨ã€è´Ÿè½½å‡è¡¡ã€VLSMç­‰é«˜çº§ç‰¹æ€§ã€‚
ä¼˜ç‚¹ï¼šæ”¶æ•›å¿«ï¼Œæ‰©å±•æ€§å¼ºï¼Œé€‚åˆå¤§å‹å¤æ‚ç½‘ç»œï¼Œæ”¯æŒå¤šç§ç½‘ç»œç±»å‹ã€‚
ç¼ºç‚¹ï¼šå®ç°å’Œé…ç½®è¾ƒå¤æ‚ï¼Œå¯¹ç¡¬ä»¶èµ„æºè¦æ±‚è¾ƒé«˜ã€‚
å…¸å‹åº”ç”¨ï¼šä¼ä¸šã€è¿è¥å•†çš„å¤§å‹ç½‘ç»œç¯å¢ƒã€‚


Internetåˆ†å±‚çš„ä½œç”¨ï¼š


ç®€åŒ–ç½‘ç»œè®¾è®¡ï¼šå°†å¤æ‚çš„ç½‘ç»œé€šä¿¡è¿‡ç¨‹åˆ†ä¸ºå¤šä¸ªå±‚æ¬¡ï¼Œæ¯å±‚åªå…³æ³¨è‡ªèº«åŠŸèƒ½ï¼Œé™ä½è®¾è®¡å’Œå®ç°éš¾åº¦ã€‚
ä¾¿äºæ ‡å‡†åŒ–å’Œäº’æ“ä½œï¼šæ¯ä¸€å±‚æœ‰æ˜ç¡®çš„æ¥å£å’Œåè®®æ ‡å‡†ï¼Œä¸åŒå‚å•†çš„è®¾å¤‡å’Œåè®®å¯ä»¥äº’é€šã€‚
æ˜“äºç»´æŠ¤å’Œæ‰©å±•ï¼šæŸä¸€å±‚çš„æŠ€æœ¯å‡çº§æˆ–æ›´æ¢ä¸ä¼šå½±å“åˆ°å…¶ä»–å±‚ï¼Œå¢å¼ºäº†ç½‘ç»œçš„çµæ´»æ€§å’Œå¯æ‰©å±•æ€§ã€‚
ä¿ƒè¿›æŠ€æœ¯åˆ›æ–°ï¼šå„å±‚å¯ä»¥ç‹¬ç«‹å‘å±•æ–°æŠ€æœ¯ï¼Œæ¨åŠ¨ç½‘ç»œæ•´ä½“è¿›æ­¥ã€‚
æœ‰åŠ©äºæ•…éšœå®šä½å’Œç®¡ç†ï¼šåˆ†å±‚ç»“æ„ä¾¿äºå®šä½å’Œæ’æŸ¥ç½‘ç»œé—®é¢˜ï¼Œæé«˜ç½‘ç»œç®¡ç†æ•ˆç‡ã€‚
åè®®åˆ†å±‚æœ‰æ¦‚å¿µåŒ–å’Œç»“æ„åŒ–çš„ä¼˜ç‚¹ã€‚
é™ä½å¤æ‚åº¦ã€æé«˜çµæ´»æ€§ã€‚

æ²™æ¼ç»“æ„ï¼ˆhourglassï¼‰çš„æ„ä¹‰ï¼š

é‡‡ç”¨å•ä¸€çš„ç½‘ç»œå±‚åè®®ï¼ˆIPï¼‰ï¼Œæ‰€æœ‰ç½‘ç»œéƒ½é€šè¿‡IPåè®®äº’è”ã€‚
å…è®¸ä»»æ„ç½‘ç»œäº’é€šï¼šåªè¦æ”¯æŒIPçš„ç½‘ç»œéƒ½èƒ½äº¤æ¢æ•°æ®åŒ…ã€‚
åº”ç”¨ä¸åº•å±‚ç½‘ç»œæŠ€æœ¯è§£è€¦ï¼šåº”ç”¨ç¨‹åºä¸ä¾èµ–äºåº•å±‚ç½‘ç»œç±»å‹ï¼Œèƒ½åœ¨æ‰€æœ‰ç½‘ç»œä¸Šè¿è¡Œã€‚
æ”¯æŒIPå±‚ä¸Šä¸‹çš„åŒæ—¶åˆ›æ–°ï¼šIPä¹‹ä¸Šï¼ˆå¦‚åº”ç”¨å±‚åè®®ï¼‰å’ŒIPä¹‹ä¸‹ï¼ˆå¦‚é“¾è·¯å±‚æŠ€æœ¯ï¼‰éƒ½å¯ä»¥ç‹¬ç«‹å‘å±•æ–°æŠ€æœ¯ã€‚
ä½†IPåè®®æœ¬èº«éš¾ä»¥æ›´æ”¹ï¼ˆå¦‚IPv4å‡çº§åˆ°IPv6éå¸¸å›°éš¾ï¼‰ï¼Œå› ä¸ºæ•´ä¸ªäº’è”ç½‘éƒ½ä¾èµ–äºIPåè®®ã€‚


å¸¸è§æŠ¥æ–‡æ ¼å¼UDPï¼šTCPï¼šIPv4ï¼šIPv6ï¼š

NATä¸IP-in-IPéš§é“è¯¦è§£ï¼š


(1) NATï¼ˆNetwork Address Translationï¼Œç½‘ç»œåœ°å€è½¬æ¢ï¼‰ï¼š

NATæ˜¯ä¸€ç§åœ¨è·¯ç”±å™¨æˆ–ç½‘å…³è®¾å¤‡ä¸Šå®ç°çš„åœ°å€è½¬æ¢æŠ€æœ¯ï¼Œç”¨äºåœ¨ç§æœ‰ç½‘ç»œå’Œå…¬ç½‘ä¹‹é—´è½¬æ¢IPåœ°å€ã€‚
ä¸»è¦ç±»å‹ï¼š
é™æ€NATï¼šä¸€ä¸€æ˜ å°„ï¼Œç§æœ‰IPå’Œå…¬ç½‘IPå›ºå®šå¯¹åº”ã€‚
åŠ¨æ€NATï¼šä»å…¬ç½‘IPæ± ä¸­åŠ¨æ€åˆ†é…å…¬ç½‘åœ°å€ç»™ç§æœ‰IPã€‚
NAPTï¼ˆç«¯å£åœ°å€è½¬æ¢ï¼ŒPAT&#x2F;ç«¯å£å¤ç”¨ï¼‰ï¼šå¤šä¸ªç§æœ‰IPé€šè¿‡åŒä¸€ä¸ªå…¬ç½‘IPå‡ºç½‘ï¼Œé ç«¯å£å·åŒºåˆ†ä¸åŒè¿æ¥ã€‚


ä½œç”¨ï¼š
èŠ‚çœå…¬ç½‘IPåœ°å€ï¼Œå®ç°å±€åŸŸç½‘ä¸»æœºå…±äº«ä¸Šç½‘ã€‚
éšè—å†…éƒ¨ç½‘ç»œç»“æ„ï¼Œæé«˜å®‰å…¨æ€§ã€‚
æ”¯æŒåœ°å€é‡ç”¨å’Œç½‘ç»œç»“æ„çµæ´»è°ƒæ•´ã€‚


NATçš„å®ç°åªéœ€ä¿®æ”¹IPåŒ…å¤´çš„æº&#x2F;ç›®çš„åœ°å€å’Œç«¯å£ï¼Œä¸éœ€è¦å°è£…é¢å¤–çš„IPå¤´ã€‚

(2) IP-in-IPéš§é“ï¼š

IP-in-IPéš§é“æ˜¯ä¸€ç§éš§é“åè®®ï¼Œå°†ä¸€ä¸ªIPæ•°æ®åŒ…ä½œä¸ºâ€œæ•°æ®â€å°è£…è¿›å¦ä¸€ä¸ªIPåŒ…ä¸­ã€‚
å®ç°æ–¹å¼ï¼š
éš§é“å…¥å£ï¼ˆå°è£…ç«¯ï¼‰æ”¶åˆ°åŸå§‹IPåŒ…åï¼ŒåŠ ä¸Šæ–°çš„å¤–å±‚IPå¤´ï¼ˆæº&#x2F;ç›®çš„åœ°å€ä¸ºéš§é“ä¸¤ç«¯å…¬ç½‘IPï¼‰ï¼Œå†å‘é€åˆ°ç½‘ç»œã€‚
éš§é“å‡ºå£ï¼ˆè§£å°ç«¯ï¼‰æ”¶åˆ°åï¼Œå»æ‰å¤–å±‚IPå¤´ï¼Œè¿˜åŸå‡ºåŸå§‹IPåŒ…å¹¶ç»§ç»­è½¬å‘ã€‚


ä½œç”¨ï¼š
å®ç°ä¸åŒç½‘ç»œæˆ–åè®®ä¹‹é—´çš„äº’è”ï¼Œå¦‚IPv6 over IPv4ã€VPNã€ç§»åŠ¨IPç­‰ã€‚
å¯ç©¿è¶Šä¸æ”¯æŒæŸäº›åè®®æˆ–åœ°å€çš„ä¸­é—´ç½‘ç»œï¼Œå®ç°ç§æœ‰ç½‘ç»œäº’é€šã€‚
æä¾›è™šæ‹Ÿä¸“ç”¨é€šé“ï¼Œå¢å¼ºæ•°æ®ä¼ è¾“çš„çµæ´»æ€§å’Œå®‰å…¨æ€§ã€‚


IP-in-IPéš§é“æœ¬è´¨æ˜¯â€œIPåŒ…å¥—IPåŒ…â€ï¼Œä¸NATä¸åŒï¼ŒNATä¸éœ€è¦ä½¿ç”¨IP-in-IPéš§é“ã€‚


SMTPï¼ˆSimple Mail Transfer Protocolï¼Œç®€å•é‚®ä»¶ä¼ è¾“åè®®ï¼‰æ˜¯ä¸€ç§åº”ç”¨å±‚åè®®ï¼Œç”¨äºåœ¨ç”µå­é‚®ä»¶ç³»ç»Ÿä¸­ä¼ è¾“é‚®ä»¶ã€‚å®ƒè´Ÿè´£é‚®ä»¶çš„å‘é€å’Œè½¬å‘ï¼Œå¸¸ç”¨äºé‚®ä»¶å®¢æˆ·ç«¯ä¸é‚®ä»¶æœåŠ¡å™¨ã€é‚®ä»¶æœåŠ¡å™¨ä¹‹é—´çš„é‚®ä»¶ä¼ é€’ã€‚SMTPä½¿ç”¨TCPç«¯å£25ï¼Œä¿è¯é‚®ä»¶å¯é é€è¾¾ç›®æ ‡æœåŠ¡å™¨ï¼Œä½†æœ¬èº«ä¸è´Ÿè´£é‚®ä»¶çš„æ¥æ”¶å’Œå­˜å‚¨ï¼Œæ¥æ”¶é€šå¸¸ç”±POP3æˆ–IMAPåè®®å®Œæˆã€‚


ä¾‹é¢˜ï¼šDNSæ¬ºéª—æ”»å‡»ä¸åŠ å¯†è®¤è¯ã€RSAç§é’¥æ±‚è§£é¢˜ç›®æè¿°å¦‚ä¸‹å›¾æ‰€ç¤ºï¼ŒDNSï¼Œè®¾è®¡ä¸€ä¸ªæ”»å‡»ï¼Œæ”»å‡»è€…ç”¨ä¸»åŠ¨æ”»å‡»è®© Alice æ”¶åˆ°å‡çš„ response ã€‚

DNSï¼Œè®¾è®¡ä¸€ä¸ªæ”»å‡»ï¼Œæ”»å‡»è€…ç”¨ä¸»åŠ¨æ”»å‡»è®© alice æ”¶åˆ°å‡çš„ response ã€‚

æœåŠ¡å™¨æ”¶åˆ°ï¼ˆm, Ks-(H(m))ï¼‰é—®æ€ä¹ˆåˆ¤æ–­æ˜¯ s å‘çš„ï¼Ÿ

ä¸Šé¢ç”¨çš„æ˜¯ç§é’¥ï¼Œé—®å¯ä¸å¯ä»¥ç”¨å…¬é’¥åŠ å¯†ï¼Ÿ

è¿™ä¸ªåŠ å¯†ç®—æ³•å¯ä¸å¯ä»¥é˜²æ­¢ç¬¬ä¸€é—®é‡Œé¢ä½ å†™çš„æ”»å‡»æ–¹æ³•ï¼Ÿ

æœ€åä¸€é¢˜ RSA ç®—æ³•ï¼šNa&#x3D;55ï¼Œea&#x3D;3ï¼ŒNb&#x3D;33ï¼Œeb&#x3D;13ï¼Œæ±‚ aã€b ç§é’¥ã€‚



ç­”æ¡ˆè§£æ1. DNSæ¬ºéª—æ”»å‡»è®¾è®¡

æ”»å‡»è€…å¯ä»¥é€šè¿‡ä¼ªé€  DNS å“åº”åŒ…ï¼ŒæŠ¢åœ¨çœŸå® DNS æœåŠ¡å™¨ä¹‹å‰å°†å‡çš„ response å‘ç»™ Aliceï¼Œä½¿å…¶ç¼“å­˜é”™è¯¯çš„åŸŸå-IP æ˜ å°„ã€‚
å…·ä½“æ–¹æ³•ï¼šæ”»å‡»è€…ç›‘å¬ Alice çš„ DNS æŸ¥è¯¢è¯·æ±‚ï¼ŒçŒœæµ‹æˆ–è·å–äº‹åŠ¡IDï¼ˆTransaction IDï¼‰ï¼Œå¹¶ä¼ªé€ ä¸€ä¸ªå¸¦æœ‰ç›¸åŒäº‹åŠ¡IDçš„å“åº”åŒ…ï¼Œæå‰è¿”å›ç»™ Aliceã€‚
è¿™æ · Alice ä¼šå°†æ”»å‡»è€…ä¼ªé€ çš„ IP åœ°å€ä½œä¸ºç›®æ ‡åŸŸåçš„è§£æç»“æœï¼Œå¯¼è‡´æµé‡è¢«åŠ«æŒæˆ–é‡å®šå‘ã€‚

2. æœåŠ¡å™¨æ”¶åˆ°ï¼ˆm, Ks-(H(m))ï¼‰å¦‚ä½•åˆ¤æ–­æ˜¯ s å‘çš„ï¼Ÿ

Ks- è¡¨ç¤ºç”¨ s çš„ç§é’¥å¯¹æ¶ˆæ¯æ‘˜è¦ H(m) è¿›è¡Œç­¾åã€‚
æœåŠ¡å™¨æ”¶åˆ°åï¼Œç”¨ s çš„å…¬é’¥ Ks+ éªŒè¯ç­¾åï¼šç”¨ Ks+ è§£å¯† Ks-(H(m))ï¼Œå¾—åˆ° H(m)â€™ï¼Œå†ä¸æœ¬åœ°è®¡ç®—çš„ H(m) æ¯”è¾ƒã€‚
è‹¥ä¸€è‡´ï¼Œåˆ™è¯´æ˜æ¶ˆæ¯ç¡®å®ç”± s å‘å‡ºä¸”æœªè¢«ç¯¡æ”¹ã€‚

3. ä¸Šé¢ç”¨çš„æ˜¯ç§é’¥ï¼Œèƒ½å¦ç”¨å…¬é’¥åŠ å¯†ï¼Ÿ

ä¸èƒ½ã€‚å…¬é’¥åŠ å¯†ç”¨äºåŠ å¯†æ¶ˆæ¯ï¼Œä¿è¯æœºå¯†æ€§ï¼›ç§é’¥åŠ å¯†ï¼ˆç­¾åï¼‰ç”¨äºè®¤è¯èº«ä»½å’Œå®Œæ•´æ€§ã€‚
è‹¥ç”¨å…¬é’¥åŠ å¯†ï¼Œä»»ä½•äººéƒ½èƒ½ç”¨å…¬é’¥åŠ å¯†æ¶ˆæ¯ï¼Œæ— æ³•è¯æ˜æ¶ˆæ¯æ˜¯ s å‘å‡ºçš„ã€‚
æ•°å­—ç­¾åå¿…é¡»ç”¨ç§é’¥åŠ å¯†ï¼ˆç­¾åï¼‰ï¼Œå…¬é’¥éªŒè¯ã€‚

4. è¯¥åŠ å¯†ç®—æ³•èƒ½å¦é˜²æ­¢ç¬¬ä¸€é—®çš„æ”»å‡»ï¼Ÿ

å¯ä»¥é˜²æ­¢ã€‚
å› ä¸ºåªæœ‰åˆæ³•çš„ s æ‹¥æœ‰ç§é’¥ï¼Œæ”»å‡»è€…æ— æ³•ä¼ªé€ åˆæ³•ç­¾åï¼ŒæœåŠ¡å™¨å¯é€šè¿‡å…¬é’¥éªŒè¯ç­¾åï¼Œé˜²æ­¢ä¼ªé€ å“åº”ã€‚
å³ä½¿æ”»å‡»è€…èƒ½ä¼ªé€  DNS å“åº”ï¼Œä¹Ÿæ— æ³•ç”Ÿæˆåˆæ³•ç­¾åã€‚

5. RSAç§é’¥æ±‚è§£

Na&#x3D;55ï¼Œea&#x3D;3ï¼ŒNb&#x3D;33ï¼Œeb&#x3D;13ã€‚
æ±‚ aã€b çš„ç§é’¥ï¼š

ï¼ˆ1ï¼‰Na&#x3D;55ï¼Œåˆ†è§£è´¨å› æ•°ï¼š55&#x3D;5Ã—11ã€‚

Ï†(Na) &#x3D; (5-1)Ã—(11-1) &#x3D; 4Ã—10 &#x3D; 40ã€‚
ea&#x3D;3ï¼Œæ±‚ daï¼Œä½¿ 3Ã—da â‰¡ 1 (mod 40)ã€‚
3Ã—da&#x3D;1+40kï¼Œda&#x3D;27ï¼ˆå› ä¸º3Ã—27&#x3D;81ï¼Œ81-2Ã—40&#x3D;1ï¼‰ã€‚
açš„ç§é’¥ä¸º (Na&#x3D;55, da&#x3D;27)ã€‚

ï¼ˆ2ï¼‰Nb&#x3D;33ï¼Œåˆ†è§£è´¨å› æ•°ï¼š33&#x3D;3Ã—11ã€‚

Ï†(Nb) &#x3D; (3-1)Ã—(11-1) &#x3D; 2Ã—10 &#x3D; 20ã€‚
eb&#x3D;13ï¼Œæ±‚ dbï¼Œä½¿ 13Ã—db â‰¡ 1 (mod 20)ã€‚
13Ã—db&#x3D;1+20kï¼Œdb&#x3D;17ï¼ˆå› ä¸º13Ã—17&#x3D;221ï¼Œ221-11Ã—20&#x3D;1ï¼‰ã€‚
bçš„ç§é’¥ä¸º (Nb&#x3D;33, db&#x3D;17)ã€‚


ä¾‹é¢˜ï¼šäº”å±‚åè®®â€œæ²™æ¼â€ç»“æ„ä¸ç›¸å…³çŸ¥è¯†ç‚¹é¢˜ç›®
æ²™æ¼ä¸­é—´çš„åè®®æ˜¯ï¼ˆ ï¼‰
åè®®åˆ†å±‚çš„å¥½å¤„
äº’è”ç½‘â€œæ²™æ¼â€å‹çš„å¥½å¤„
TCPå’ŒUDPçš„åŒºåˆ«
ç”µå­é‚®ä»¶ä½¿ç”¨çš„åº”ç”¨å±‚åè®®

ç­”æ¡ˆä¸è§£æ1. æ²™æ¼ä¸­é—´çš„åè®®æ˜¯ï¼ˆ ï¼‰

ç­”æ¡ˆï¼šIPåè®®ï¼ˆInternet Protocolï¼‰ã€‚
è§£æï¼šäº”å±‚åè®®æ ˆçš„â€œæ²™æ¼â€ç»“æ„ä¸­ï¼Œæœ€çª„å¤„æ˜¯ç½‘ç»œå±‚çš„IPåè®®ï¼Œæ‰€æœ‰ä¸Šå±‚åè®®ï¼ˆå¦‚TCPã€UDPã€ICMPç­‰ï¼‰å’Œä¸‹å±‚é“¾è·¯åè®®ï¼ˆå¦‚ä»¥å¤ªç½‘ã€PPPç­‰ï¼‰éƒ½é€šè¿‡IPåè®®è¿›è¡Œæ•°æ®ä¼ é€’ã€‚

2. åè®®åˆ†å±‚çš„å¥½å¤„

é™ä½å¤æ‚åº¦ï¼šæ¯å±‚åªå…³æ³¨æœ¬å±‚åŠŸèƒ½ï¼Œç®€åŒ–è®¾è®¡ä¸å®ç°ã€‚
æ˜“äºæ ‡å‡†åŒ–ï¼šå„å±‚æ¥å£æ˜ç¡®ï¼Œä¾¿äºä¸åŒå‚å•†è®¾å¤‡äº’é€šã€‚
ä¾¿äºç»´æŠ¤å’Œå‡çº§ï¼šæŸä¸€å±‚æŠ€æœ¯å‡çº§æ—¶ï¼Œåªè¦æ¥å£ä¸å˜ï¼Œä¸å½±å“å…¶ä»–å±‚ã€‚
ä¿ƒè¿›äº’æ“ä½œæ€§ï¼šä¸åŒå®ç°å¯å…¼å®¹ï¼Œä¿ƒè¿›ç½‘ç»œå‘å±•ã€‚

3. äº’è”ç½‘â€œæ²™æ¼â€å‹çš„å¥½å¤„

ç»Ÿä¸€ä¸­é—´å±‚ï¼ˆIPï¼‰ï¼Œç®€åŒ–äº’è”ï¼šå„ç§ä¸åŒçš„ç‰©ç†ç½‘ç»œå’Œå¤šæ ·çš„åº”ç”¨åè®®éƒ½èƒ½é€šè¿‡IPäº’è”ã€‚
ä¿ƒè¿›åˆ›æ–°ï¼šä¸Šå±‚åº”ç”¨åè®®å’Œä¸‹å±‚é“¾è·¯æŠ€æœ¯å¯ä»¥ç‹¬ç«‹å‘å±•ï¼Œæå¤§ä¿ƒè¿›äº†äº’è”ç½‘çš„æ‰©å±•æ€§å’Œå¤šæ ·æ€§ã€‚
é™ä½æˆæœ¬ï¼šåªéœ€å®ç°IPåè®®å³å¯æ¥å…¥äº’è”ç½‘ï¼Œæ— éœ€å…³å¿ƒæ‰€æœ‰ä¸Šå±‚æˆ–ä¸‹å±‚ç»†èŠ‚ã€‚

4. TCPå’ŒUDPçš„åŒºåˆ«



ç‰¹æ€§
TCP
UDP



è¿æ¥æ–¹å¼
é¢å‘è¿æ¥ï¼ˆä¸‰æ¬¡æ¡æ‰‹ï¼‰
æ— è¿æ¥


å¯é æ€§
å¯é ï¼Œä¿è¯æ•°æ®é¡ºåºå’Œå®Œæ•´æ€§
ä¸å¯é ï¼Œå¯èƒ½ä¸¢åŒ…ã€ä¹±åº


æµé‡æ§åˆ¶
æœ‰
æ— 


æ‹¥å¡æ§åˆ¶
æœ‰
æ— 


é€Ÿåº¦
è¾ƒæ…¢
è¾ƒå¿«


é€‚ç”¨åœºæ™¯
æ–‡ä»¶ä¼ è¾“ã€ç½‘é¡µã€é‚®ä»¶ç­‰
è§†é¢‘ã€è¯­éŸ³ã€DNSç­‰


5. ç”µå­é‚®ä»¶ä½¿ç”¨çš„åº”ç”¨å±‚åè®®

SMTPï¼ˆSimple Mail Transfer Protocolï¼‰ï¼šé‚®ä»¶å‘é€åè®®ã€‚
POP3ï¼ˆPost Office Protocol 3ï¼‰ï¼šé‚®ä»¶æ¥æ”¶åè®®ï¼Œä¸‹è½½åˆ°æœ¬åœ°ã€‚
IMAPï¼ˆInternet Message Access Protocolï¼‰ï¼šé‚®ä»¶æ¥æ”¶åè®®ï¼Œæ”¯æŒæœåŠ¡å™¨ç«¯ç®¡ç†ã€‚


ä»¥å¤ªç½‘æœ€å°å¸§é•¿çš„è®¡ç®—é€»è¾‘ä»¥å¤ªç½‘é‡‡ç”¨CSMA&#x2F;CDï¼ˆè½½æ³¢ç›‘å¬å¤šè·¯è®¿é—®&#x2F;å†²çªæ£€æµ‹ï¼‰æœºåˆ¶ã€‚ä¸ºäº†ä¿è¯å‘é€ç«¯åœ¨æ•°æ®å¸§è¿˜æœªå…¨éƒ¨å‘é€å®Œæ—¶èƒ½æ£€æµ‹åˆ°ç¢°æ’ï¼Œå¸§çš„å‘é€æ—¶é—´å¿…é¡»å¤§äºç­‰äºä¿¡å·åœ¨ç½‘ç»œä¸­å¾€è¿”ä¸€æ¬¡çš„ä¼ æ’­æ—¶å»¶ã€‚
ï¼ˆ1ï¼‰è®¡ç®—å…¬å¼æœ€å°å¸§é•¿ï¼ˆbitï¼‰ &#x3D; 2 Ã— æœ€å¤§ç‰©ç†è·ç¦» &#x2F; ä¿¡å·ä¼ æ’­é€Ÿç‡ Ã— å¸¦å®½
ç®€åŒ–ä¸ºï¼šæœ€å°å¸§é•¿ &#x3D; 2 Ã— ä¼ æ’­æ—¶å»¶ Ã— å¸¦å®½

ä¼ æ’­æ—¶å»¶ &#x3D; æœ€å¤§è·ç¦» &#x2F; ä¿¡å·ä¼ æ’­é€Ÿç‡
å¸¦å®½å•ä½éœ€ç»Ÿä¸€ï¼ˆå¦‚bit&#x2F;sï¼‰

ï¼ˆ2ï¼‰åŸç†è¯´æ˜

å¦‚æœå¸§å¤ªçŸ­ï¼Œå‘é€ç«¯å¯èƒ½åœ¨å¸§å‘å®Œåæ‰æ£€æµ‹åˆ°ç¢°æ’ï¼Œæ— æ³•é‡å‘ï¼Œå¯¼è‡´å†²çªæœªè¢«å‘ç°ã€‚
è§„å®šæœ€å°å¸§é•¿ï¼Œç¡®ä¿ç¢°æ’ä¸€å®šèƒ½è¢«æ£€æµ‹åˆ°ã€‚

ï¼ˆ3ï¼‰ä¾‹é¢˜åº”ç”¨

ä¾‹å¦‚æœ€å¤§è·ç¦»500mï¼Œä¿¡å·ä¼ æ’­é€Ÿç‡250m&#x2F;Î¼sï¼Œå¸¦å®½100Mbpsï¼š
ä¼ æ’­æ—¶å»¶ &#x3D; 500m &#x2F; 250m&#x2F;Î¼s &#x3D; 2Î¼s
æœ€å°å¸§é•¿ &#x3D; 2 Ã— 2Î¼s Ã— 100Mbps &#x3D; 4Î¼s Ã— 100Mbps &#x3D; 400bit &#x3D; 50å­—èŠ‚




CRCæ ¡éªŒè®¡ç®—ä¸¾ä¾‹å‡è®¾ï¼š

æ•°æ®D &#x3D; 1101011011ï¼ˆäºŒè¿›åˆ¶ï¼‰
ç”Ÿæˆå¤šé¡¹å¼G &#x3D; 10011ï¼ˆäºŒè¿›åˆ¶ï¼Œ4é˜¶ï¼‰

è®¡ç®—æ­¥éª¤ï¼š

åœ¨æ•°æ®Dåè¡¥4ä¸ª0ï¼ˆGä¸º4é˜¶ï¼Œå¤šè¡¥4ä½ï¼‰ï¼š1101011011 0000
ç”¨è¡¥0åçš„æ•°æ®ä¸GåšäºŒè¿›åˆ¶æ¨¡2é™¤æ³•ï¼ˆå¼‚æˆ–è¿ç®—ï¼‰ï¼š
11010 Ã· 10011 â†’ 01001
10011 Ã· 10011 â†’ 00000
10110 Ã· 10011 â†’ 00101
â€¦ï¼ˆä¾æ¬¡è¿›è¡Œï¼Œç›´åˆ°æœ€åä¸€ä½ï¼‰


æœ€ç»ˆä½™æ•°ä¸º4ä½ï¼ˆå‡è®¾ä¸ºRï¼‰ï¼Œå³ä¸ºCRCæ ¡éªŒç ã€‚
å‘é€æ—¶ï¼Œæ•°æ®Dä¸CRCæ ¡éªŒç æ‹¼æ¥ä¸€èµ·å‘é€ã€‚

ç»“æœè¯´æ˜ï¼š

æ¥æ”¶æ–¹æ”¶åˆ°åï¼Œç”¨ç›¸åŒçš„Gå¯¹æ”¶åˆ°çš„æ•°æ®ï¼ˆå«CRCï¼‰åšæ¨¡2é™¤æ³•ï¼Œè‹¥ä½™æ•°ä¸º0ï¼Œåˆ™æ— å·®é”™ã€‚

ç®€åŒ–ç¤ºä¾‹ï¼š

D &#x3D; 1101ï¼ŒG &#x3D; 1011ï¼ˆ3é˜¶ï¼‰
Dè¡¥0ï¼š1101000
1101 Ã· 1011 â†’ 0110
0110 Ã· 1011 â†’ 0110ï¼ˆä¸è¶³é™¤ï¼Œç§»ä¸‹ä¸€ä½ï¼‰
01100 Ã· 1011 â†’ 0101
01010 Ã· 1011 â†’ 0111
01110 Ã· 1011 â†’ 0105
01010 Ã· 1011 â†’ 0111
01110 Ã· 1011 â†’ 0105
æœ€ç»ˆä½™æ•°å‡è®¾ä¸º101
å‘é€æ•°æ®ï¼š1101 101


å¥‡å¶æ ¡éªŒï¼ˆParity Checkingï¼‰åŸç†å¥‡å¶æ ¡éªŒæ˜¯ä¸€ç§ç®€å•çš„æ•°æ®é“¾è·¯å±‚å·®é”™æ£€æµ‹æ–¹æ³•ï¼Œä¸»è¦ç”¨äºæ£€æµ‹å•æ¯”ç‰¹é”™è¯¯ã€‚
1. å•æ¯”ç‰¹å¥‡å¶æ ¡éªŒï¼ˆSingle Bit Parityï¼‰

åœ¨æ¯ç»„æ•°æ®åé¢åŠ 1ä½æ ¡éªŒä½ï¼ˆparity bitï¼‰ã€‚
å‘é€æ–¹æ ¹æ®æ•°æ®ä¸­1çš„ä¸ªæ•°å†³å®šæ ¡éªŒä½å–0æˆ–1ï¼Œä½¿å¾—æ•´ä¸ªæ¯”ç‰¹æµä¸­1çš„ä¸ªæ•°ä¸ºå¶æ•°ï¼ˆå¶æ ¡éªŒï¼‰æˆ–å¥‡æ•°ï¼ˆå¥‡æ ¡éªŒï¼‰ã€‚
æ¥æ”¶æ–¹æ”¶åˆ°æ•°æ®åï¼Œé‡æ–°è®¡ç®—1çš„ä¸ªæ•°ï¼Œè‹¥ä¸ç¬¦åˆ™è¯´æ˜å‘ç”Ÿäº†å•æ¯”ç‰¹é”™è¯¯ã€‚
åªèƒ½æ£€æµ‹å•ä¸ªæ¯”ç‰¹é”™è¯¯ï¼Œæ— æ³•çº æ­£é”™è¯¯ï¼Œä¹Ÿæ— æ³•æ£€æµ‹å¶æ•°ä¸ªæ¯”ç‰¹åŒæ—¶å‡ºé”™ã€‚

2. äºŒç»´å¥‡å¶æ ¡éªŒï¼ˆTwo Dimensional Bit Parityï¼‰

å°†æ•°æ®æŒ‰è¡Œå’Œåˆ—åˆ†åˆ«åŠ ä¸Šå¥‡å¶æ ¡éªŒä½ã€‚
æ¯ä¸€è¡Œå’Œæ¯ä¸€åˆ—éƒ½å¢åŠ ä¸€ä¸ªæ ¡éªŒä½ï¼Œå½¢æˆä¸€ä¸ªæ ¡éªŒçŸ©é˜µã€‚
èƒ½æ£€æµ‹å¹¶å®šä½å•æ¯”ç‰¹é”™è¯¯ï¼ˆå¯çº æ­£ï¼‰ï¼Œä¹Ÿèƒ½æ£€æµ‹éƒ¨åˆ†åŒæ¯”ç‰¹é”™è¯¯ã€‚
æ£€æµ‹èƒ½åŠ›æ¯”å•æ¯”ç‰¹å¥‡å¶æ ¡éªŒæ›´å¼ºã€‚

åº”ç”¨è¯´æ˜ï¼š

å¥‡å¶æ ¡éªŒå®ç°ç®€å•ï¼Œé€‚åˆå¯¹å¯é æ€§è¦æ±‚ä¸é«˜çš„åœºæ™¯ã€‚
ä¸»è¦ç”¨äºæ•°æ®é“¾è·¯å±‚çš„å·®é”™æ£€æµ‹ã€‚


ä¿¡é“åˆ’åˆ†åè®®è¯¦è§£ä¿¡é“åˆ’åˆ†åè®®ï¼ˆChannelization Protocolsï¼‰æ˜¯ä¸€ç±»å°†å…±äº«ä¿¡é“èµ„æºåœ¨å¤šä¸ªç”¨æˆ·ä¹‹é—´è¿›è¡Œç‰©ç†æˆ–é€»è¾‘åˆ’åˆ†ï¼Œä½¿å¤šä¸ªç”¨æˆ·å¯ä»¥åŒæ—¶æˆ–æœ‰åºåœ°ä½¿ç”¨ä¿¡é“çš„å¤šè·¯è®¿é—®åè®®ã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯å°†ä¿¡é“åˆ†å‰²ä¸ºè‹¥å¹²äº’ä¸å¹²æ‰°çš„å­ä¿¡é“ï¼Œæ¯ä¸ªç”¨æˆ·å ç”¨ä¸åŒçš„å­ä¿¡é“ï¼Œä»è€Œé¿å…å†²çªã€‚
å¸¸è§çš„ä¿¡é“åˆ’åˆ†åè®®æœ‰ï¼š
1. æ—¶åˆ†å¤šè·¯å¤ç”¨ï¼ˆTDMA, Time Division Multiple Accessï¼‰
å°†ä¿¡é“æŒ‰æ—¶é—´åˆ’åˆ†ä¸ºè‹¥å¹²æ—¶éš™ï¼Œæ¯ä¸ªç”¨æˆ·åœ¨åˆ†é…åˆ°çš„æ—¶éš™å†…ç‹¬å ä¿¡é“å‘é€æ•°æ®ã€‚
å„ç”¨æˆ·è½®æµå ç”¨ä¿¡é“ï¼Œäº’ä¸å¹²æ‰°ã€‚
é€‚åˆåŒæ­¥ç¯å¢ƒï¼Œæ—¶é’ŸåŒæ­¥è¦æ±‚é«˜ã€‚
ä¼˜ç‚¹ï¼šæ— å†²çªï¼Œæ—¶å»¶å¯æ§ï¼Œé€‚åˆå®æ—¶ä¸šåŠ¡ã€‚
ç¼ºç‚¹ï¼šä¿¡é“åˆ©ç”¨ç‡å—é™äºåˆ†é…ï¼Œç©ºé—²æ—¶éš™ä¼šæµªè´¹å¸¦å®½ã€‚

2. é¢‘åˆ†å¤šè·¯å¤ç”¨ï¼ˆFDMA, Frequency Division Multiple Accessï¼‰
å°†ä¿¡é“çš„é¢‘å¸¦åˆ’åˆ†ä¸ºè‹¥å¹²äº’ä¸é‡å çš„é¢‘æ®µï¼Œæ¯ä¸ªç”¨æˆ·å ç”¨ä¸åŒçš„é¢‘æ®µè¿›è¡Œé€šä¿¡ã€‚
å„ç”¨æˆ·å¯åŒæ—¶å‘é€ï¼Œäº’ä¸å¹²æ‰°ã€‚
å…¸å‹åº”ç”¨ï¼šä¼ ç»Ÿæ¨¡æ‹Ÿç”µè¯ã€æ— çº¿ç”µå¹¿æ’­ã€‚
ä¼˜ç‚¹ï¼šå®ç°ç®€å•ï¼Œäº’ä¸å¹²æ‰°ã€‚
ç¼ºç‚¹ï¼šé¢‘è°±åˆ©ç”¨ç‡æœ‰é™ï¼Œé¢‘å¸¦åˆ’åˆ†å›ºå®šï¼Œçµæ´»æ€§å·®ã€‚

3. ç åˆ†å¤šè·¯å¤ç”¨ï¼ˆCDMA, Code Division Multiple Accessï¼‰
æ‰€æœ‰ç”¨æˆ·åœ¨åŒä¸€æ—¶é—´ã€åŒä¸€é¢‘å¸¦ä¸Šå‘é€æ•°æ®ï¼Œä½†æ¯ä¸ªç”¨æˆ·ä½¿ç”¨ä¸åŒçš„æ­£äº¤ç å¯¹æ•°æ®è¿›è¡Œç¼–ç ã€‚
æ¥æ”¶æ–¹ç”¨ç›¸åŒçš„ç è§£ç ï¼Œèƒ½åŒºåˆ†ä¸åŒç”¨æˆ·çš„æ•°æ®ã€‚
å…¸å‹åº”ç”¨ï¼š3Gç§»åŠ¨é€šä¿¡ã€‚
ä¼˜ç‚¹ï¼šæŠ—å¹²æ‰°èƒ½åŠ›å¼ºï¼Œé¢‘è°±åˆ©ç”¨ç‡é«˜ï¼Œæ”¯æŒåŠ¨æ€æ¥å…¥ã€‚
ç¼ºç‚¹ï¼šå®ç°å¤æ‚ï¼Œå¯¹ç çš„æ­£äº¤æ€§è¦æ±‚é«˜ã€‚

4. å…¶ä»–ä¿¡é“åˆ’åˆ†æ–¹å¼
æ³¢åˆ†å¤šè·¯å¤ç”¨ï¼ˆWDMAï¼‰ï¼šç”¨äºå…‰çº¤é€šä¿¡ï¼Œå°†ä¸åŒæ³¢é•¿åˆ†é…ç»™ä¸åŒç”¨æˆ·ã€‚
ç©ºåˆ†å¤šè·¯å¤ç”¨ï¼ˆSDMAï¼‰ï¼šé€šè¿‡ç©ºé—´å®šå‘å¤©çº¿ç­‰æ‰‹æ®µåŒºåˆ†ç”¨æˆ·ã€‚

æ€»ç»“ï¼šä¿¡é“åˆ’åˆ†åè®®é€šè¿‡æ—¶é—´ã€é¢‘ç‡ã€ç ç­‰èµ„æºçš„åˆ†å‰²ï¼Œå®ç°å¤šä¸ªç”¨æˆ·é«˜æ•ˆã€æ— å†²çªåœ°å…±äº«ä¿¡é“ï¼Œå¹¿æ³›åº”ç”¨äºæœ‰çº¿å’Œæ— çº¿é€šä¿¡ç³»ç»Ÿã€‚

å®è·µåŸåˆ™ï¼šä¿æŒå„å±‚ç‹¬ç«‹ä¸»æœºå’Œè·¯ç”±å™¨æ¥å£é™¤äº†ç½‘ç»œå±‚åœ°å€ï¼ˆå¦‚IPåœ°å€ï¼‰ä¹‹å¤–è¿˜æœ‰MACåœ°å€ï¼Œè¿™æ ·è®¾è®¡æœ‰ä»¥ä¸‹åŸå› ï¼š

å±€åŸŸç½‘ä¸ºä»»æ„ç½‘ç»œå±‚åè®®è€Œè®¾è®¡ï¼ŒMACåœ°å€æ˜¯â€œä¸­æ€§â€çš„ï¼Œä¸ä¾èµ–äºIPæˆ–ç‰¹å®šåè®®ã€‚å¦‚æœé€‚é…å™¨åªç”¨IPåœ°å€è€Œæ²¡æœ‰MACåœ°å€ï¼Œå°±æ— æ³•æ”¯æŒå¦‚IPXã€DECnetç­‰å…¶ä»–ç½‘ç»œå±‚åè®®ã€‚
å¦‚æœé€‚é…å™¨ä½¿ç”¨ç½‘ç»œå±‚åœ°å€è€Œä¸æ˜¯MACåœ°å€ï¼Œç½‘ç»œå±‚åœ°å€å¿…é¡»å­˜å‚¨åœ¨é€‚é…å™¨RAMä¸­ï¼Œæ¯æ¬¡é€‚é…å™¨ç§»åŠ¨æˆ–æ–­ç”µéƒ½è¦é‡æ–°é…ç½®ï¼Œç®¡ç†å¤æ‚ã€‚
å¦ä¸€ç§åšæ³•æ˜¯é€‚é…å™¨ä¸ä½¿ç”¨ä»»ä½•åœ°å€ï¼Œè®©å…¶æ¥æ”¶æ‰€æœ‰å¸§å¹¶ä¸Šä¼ ï¼Œç”±ç½‘ç»œå±‚è½¯ä»¶åˆ¤æ–­æ˜¯å¦åŒ¹é…ï¼Œä½†è¿™æ ·ä¼šå¯¼è‡´ä¸»æœºå¤„ç†å¤§é‡æ— å…³å¸§ï¼Œæ•ˆç‡ä½ä¸‹ã€‚

å› æ­¤ï¼Œä¸ºäº†ä½¿ç½‘ç»œä½“ç³»ç»“æ„ä¸­å„å±‚æ¬¡æˆä¸ºç‹¬ç«‹æ¨¡å—ï¼Œä¸åŒå±‚æ¬¡éœ€è¦æœ‰å„è‡ªçš„å¯»å€æ–¹æ¡ˆï¼š

åº”ç”¨å±‚ï¼šä¸»æœºå
ç½‘ç»œå±‚ï¼šIPåœ°å€
æ•°æ®é“¾è·¯å±‚ï¼šMACåœ°å€

è¿™ç§åˆ†å±‚å¯»å€æ–¹æ¡ˆä¿è¯äº†å„å±‚çš„ç‹¬ç«‹æ€§å’Œçµæ´»æ€§ã€‚

æœ‰çº¿å±€åŸŸç½‘ä¸æ— çº¿å±€åŸŸç½‘çŸ¥è¯†æ€»ç»“ä¸€ã€æœ‰çº¿å±€åŸŸç½‘ï¼ˆWired LANï¼‰
å®šä¹‰ä¸å¸¸è§ç±»å‹

æœ‰çº¿å±€åŸŸç½‘æ˜¯æŒ‡é€šè¿‡ç‰©ç†ä»‹è´¨ï¼ˆå¦‚åŒç»çº¿ã€åŒè½´ç”µç¼†ã€å…‰çº¤ç­‰ï¼‰è¿æ¥çš„å±€éƒ¨èŒƒå›´å†…çš„è®¡ç®—æœºç½‘ç»œã€‚
å…¸å‹ä»£è¡¨ï¼šä»¥å¤ªç½‘ï¼ˆEthernetï¼‰ã€ä»¤ç‰Œç¯ï¼ˆToken Ringï¼‰ã€FDDIç­‰ã€‚


ä»¥å¤ªç½‘ï¼ˆEthernetï¼‰

æœ€å¸¸ç”¨çš„æœ‰çº¿å±€åŸŸç½‘æ ‡å‡†ï¼Œé‡‡ç”¨æ˜Ÿå‹æˆ–æ€»çº¿å‹æ‹“æ‰‘ç»“æ„ã€‚
é‡‡ç”¨MACåœ°å€å¯»å€ï¼Œæ•°æ®é“¾è·¯å±‚åè®®ã€‚
ä»‹è´¨è®¿é—®æ§åˆ¶ï¼šCSMA&#x2F;CDï¼ˆè½½æ³¢ç›‘å¬å¤šè·¯è®¿é—®&#x2F;å†²çªæ£€æµ‹ï¼‰ã€‚
æ ‡å‡†æœ€å°å¸§é•¿64å­—èŠ‚ï¼Œæœ€å¤§1518å­—èŠ‚ã€‚
é€Ÿç‡ï¼š10Mbpsã€100Mbpsã€1Gbpsã€10Gbpsç­‰ã€‚
ç‰©ç†ä»‹è´¨ï¼šåŒç»çº¿ã€å…‰çº¤ã€åŒè½´ç”µç¼†ã€‚
äº¤æ¢æœºï¼ˆSwitchï¼‰æ˜¯ç°ä»£ä»¥å¤ªç½‘çš„æ ¸å¿ƒè®¾å¤‡ã€‚


ä»¤ç‰Œç¯ï¼ˆToken Ringï¼‰

é‡‡ç”¨ç¯å½¢æ‹“æ‰‘ï¼Œä»¤ç‰Œä¼ é€’æœºåˆ¶é¿å…å†²çªã€‚
åªæœ‰æŒæœ‰ä»¤ç‰Œçš„èŠ‚ç‚¹æ‰èƒ½å‘é€æ•°æ®ã€‚
é€Ÿç‡å¸¸è§ä¸º4Mbpsã€16Mbpsã€‚
ç°å·²è¾ƒå°‘ä½¿ç”¨ã€‚


æœ‰çº¿å±€åŸŸç½‘çš„ä¼˜ç¼ºç‚¹

ä¼˜ç‚¹ï¼šå¸¦å®½é«˜ã€ç¨³å®šæ€§å¥½ã€æŠ—å¹²æ‰°èƒ½åŠ›å¼ºã€å®‰å…¨æ€§é«˜ã€‚
ç¼ºç‚¹ï¼šå¸ƒçº¿å¤æ‚ã€çµæ´»æ€§å·®ã€æ‰©å±•æ€§æœ‰é™ã€‚



äºŒã€æ— çº¿å±€åŸŸç½‘ï¼ˆWireless LAN, WLANï¼‰
å®šä¹‰ä¸æ ‡å‡†

æ— çº¿å±€åŸŸç½‘é€šè¿‡æ— çº¿ç”µæ³¢ï¼ˆå¦‚2.4GHzã€5GHzï¼‰å®ç°è®¾å¤‡é—´çš„é€šä¿¡ï¼Œæ— éœ€ç‰©ç†å¸ƒçº¿ã€‚
ä¸»è¦æ ‡å‡†ï¼šIEEE 802.11ç³»åˆ—ï¼ˆå³Wi-Fiï¼‰ã€‚


Wi-Fiï¼ˆIEEE 802.11ï¼‰

é‡‡ç”¨æ˜Ÿå‹æ‹“æ‰‘ï¼Œä¸­å¿ƒè®¾å¤‡ä¸ºæ— çº¿æ¥å…¥ç‚¹ï¼ˆAP, Access Pointï¼‰ã€‚
ç»ˆç«¯é€šè¿‡æ— çº¿æ–¹å¼ä¸APé€šä¿¡ï¼ŒAPå†ä¸æœ‰çº¿ç½‘ç»œè¿æ¥ã€‚
é€Ÿç‡ï¼š802.11bï¼ˆ11Mbpsï¼‰ã€802.11gï¼ˆ54Mbpsï¼‰ã€802.11nï¼ˆ600Mbpsï¼‰ã€802.11ac&#x2F;axï¼ˆä¸ŠåƒMbpsï¼‰ã€‚
é¢‘æ®µï¼š2.4GHzã€5GHzï¼Œéƒ¨åˆ†æ–°æ ‡å‡†æ”¯æŒ6GHzã€‚
ä»‹è´¨è®¿é—®æ§åˆ¶ï¼šCSMA&#x2F;CAï¼ˆè½½æ³¢ç›‘å¬å¤šè·¯è®¿é—®&#x2F;å†²çªé¿å…ï¼‰ï¼Œé‡‡ç”¨éšæœºé€€é¿ã€ACKç¡®è®¤ç­‰æœºåˆ¶ï¼Œé¿å…æ— çº¿ç¯å¢ƒä¸‹çš„å†²çªã€‚
æ”¯æŒæ¼«æ¸¸ã€åŠ å¯†ï¼ˆWEPã€WPAã€WPA2ã€WPA3ï¼‰ç­‰å®‰å…¨æœºåˆ¶ã€‚


æ— çº¿å±€åŸŸç½‘çš„ä¼˜ç¼ºç‚¹

ä¼˜ç‚¹ï¼šå¸ƒçº¿çµæ´»ã€æ˜“äºæ‰©å±•ã€æ”¯æŒç§»åŠ¨æ€§ã€éƒ¨ç½²æ–¹ä¾¿ã€‚
ç¼ºç‚¹ï¼šå¸¦å®½æœ‰é™ã€æ˜“å—å¹²æ‰°ã€å®‰å…¨æ€§ç›¸å¯¹è¾ƒå¼±ã€ä¿¡å·è¦†ç›–æœ‰é™ã€‚



ä¸‰ã€æœ‰çº¿ä¸æ— çº¿å±€åŸŸç½‘çš„å¯¹æ¯”


ç‰¹æ€§
æœ‰çº¿å±€åŸŸç½‘ï¼ˆEthernetç­‰ï¼‰
æ— çº¿å±€åŸŸç½‘ï¼ˆWi-Fiç­‰ï¼‰



ä»‹è´¨
åŒç»çº¿&#x2F;å…‰çº¤&#x2F;åŒè½´ç”µç¼†
æ— çº¿ç”µæ³¢


å¸¦å®½
é«˜ï¼ˆ10M~10Gbpsï¼‰
è¾ƒä½ï¼ˆå‡ åM~å‡ Gbpsï¼‰


ç¨³å®šæ€§
é«˜
æ˜“å—å¹²æ‰°


å®‰å…¨æ€§
é«˜
éœ€åŠ å¯†é˜²æŠ¤


çµæ´»æ€§
å·®
é«˜


ç»„ç½‘æ–¹å¼
æ˜Ÿå‹&#x2F;æ€»çº¿&#x2F;ç¯å‹
æ˜Ÿå‹ï¼ˆAPä¸ºä¸­å¿ƒï¼‰


ä»‹è´¨è®¿é—®åè®®
CSMA&#x2F;CDã€ä»¤ç‰Œç¯ç­‰
CSMA&#x2F;CA


å…¸å‹è®¾å¤‡
äº¤æ¢æœºã€ç½‘å¡ã€è·¯ç”±å™¨
æ— çº¿APã€æ— çº¿ç½‘å¡


å››ã€åº”ç”¨åœºæ™¯
æœ‰çº¿å±€åŸŸç½‘ï¼šä¼ä¸šã€æ•°æ®ä¸­å¿ƒã€å¯¹å¸¦å®½å’Œå®‰å…¨è¦æ±‚é«˜çš„åœºæ‰€ã€‚
æ— çº¿å±€åŸŸç½‘ï¼šå®¶åº­ã€åŠå…¬åŒºã€å…¬å…±åœºæ‰€ã€ç§»åŠ¨åŠå…¬ç­‰ã€‚


äº¤æ¢æœºçš„åŠŸèƒ½ç®€è¿°
äº¤æ¢æœºï¼ˆSwitchï¼‰æ˜¯å±€åŸŸç½‘ä¸­å¸¸ç”¨çš„æ•°æ®é“¾è·¯å±‚è®¾å¤‡ï¼Œä¸»è¦åŠŸèƒ½æ˜¯æ ¹æ®æ•°æ®å¸§çš„ç›®çš„MACåœ°å€ï¼Œåœ¨å±€åŸŸç½‘å†…å®ç°é«˜æ•ˆçš„æ•°æ®è½¬å‘ã€‚
ç»´æŠ¤MACåœ°å€è¡¨ï¼šè‡ªåŠ¨å­¦ä¹ å’Œè®°å½•å„ç«¯å£å¯¹åº”çš„MACåœ°å€ï¼Œå®ç°å¸§çš„å®šå‘è½¬å‘ã€‚
å¸§è½¬å‘ä¸è¿‡æ»¤ï¼šåªå°†æ•°æ®å¸§è½¬å‘åˆ°ç›®æ ‡ä¸»æœºæ‰€åœ¨ç«¯å£ï¼Œå‡å°‘å¹¿æ’­å’Œå†²çªï¼Œæé«˜ç½‘ç»œæ•ˆç‡ã€‚
æ”¯æŒå…¨åŒå·¥é€šä¿¡å’Œç«¯å£éš”ç¦»ï¼Œæå‡å¸¦å®½åˆ©ç”¨ç‡ã€‚
æ”¯æŒVLANåˆ’åˆ†ï¼Œå®ç°é€»è¾‘éš”ç¦»å’Œå®‰å…¨ç®¡ç†ã€‚
å¯è¿›è¡Œç¯è·¯æ£€æµ‹ä¸ç”Ÿæˆæ ‘åè®®ï¼ˆSTPï¼‰é˜²æ­¢å¹¿æ’­é£æš´ã€‚


å¹¿æ’­é£æš´è¯¦è§£1. æ¦‚å¿µ

å¹¿æ’­é£æš´ï¼ˆBroadcast Stormï¼‰æ˜¯æŒ‡åœ¨å±€åŸŸç½‘ä¸­ï¼Œå¹¿æ’­å¸§ï¼ˆå¦‚ARPè¯·æ±‚ã€æœªçŸ¥ç›®çš„MACçš„æ•°æ®å¸§ç­‰ï¼‰å¤§é‡æ³›æ»¥ï¼Œå¯¼è‡´ç½‘ç»œå¸¦å®½è¢«ä¸¥é‡å ç”¨ï¼Œç½‘ç»œæ€§èƒ½æ€¥å‰§ä¸‹é™ç”šè‡³ç˜«ç—ªçš„ç°è±¡ã€‚

2. äº§ç”ŸåŸå› 

ä»¥å¤ªç½‘äº¤æ¢æœºåœ¨æ”¶åˆ°ç›®çš„MACåœ°å€æœªçŸ¥çš„æ•°æ®å¸§æ—¶ï¼Œä¼šå°†è¯¥å¸§å¹¿æ’­åˆ°æ‰€æœ‰ç«¯å£ã€‚
å½“ç½‘ç»œä¸­å­˜åœ¨ç¯è·¯ï¼ˆå¦‚å¤šä¸ªäº¤æ¢æœºæˆ–ç½‘æ¡¥è¿æ¥æˆç¯ï¼‰ï¼Œå¹¿æ’­å¸§ä¼šåœ¨ç¯è·¯ä¸­ä¸æ–­å¾ªç¯ã€å¤åˆ¶ï¼Œæ•°é‡å‘ˆæŒ‡æ•°çº§å¢é•¿ã€‚
å¹¿æ’­é£æš´ä¹Ÿå¯èƒ½ç”±ç—…æ¯’ã€é”™è¯¯é…ç½®æˆ–å¤§é‡ARPè¯·æ±‚ç­‰å¼‚å¸¸æµé‡å¼•å‘ã€‚

3. å±å®³

å ç”¨å¤§é‡å¸¦å®½ï¼Œå¯¼è‡´æ­£å¸¸æ•°æ®æ— æ³•ä¼ è¾“ã€‚
äº¤æ¢æœºã€ä¸»æœºCPUèµ„æºè¢«å¤§é‡æ— ç”¨å¹¿æ’­å¸§æ¶ˆè€—ï¼Œç³»ç»Ÿå“åº”å˜æ…¢ç”šè‡³å´©æºƒã€‚
ç½‘ç»œå»¶è¿Ÿå‰§å¢ï¼Œä¸¢åŒ…ä¸¥é‡ï¼Œä¸šåŠ¡ä¸­æ–­ã€‚

4. å…¸å‹åœºæ™¯

å¤šå°äº¤æ¢æœºæˆ–ç½‘æ¡¥è¿æ¥æˆç¯ï¼Œæœªå¯ç”¨ç”Ÿæˆæ ‘åè®®ï¼ˆSTPï¼‰ã€‚
å±€åŸŸç½‘å†…å‡ºç°ç—…æ¯’æˆ–è •è™«ï¼Œç–¯ç‹‚å‘é€å¹¿æ’­åŒ…ã€‚
å¤§é‡ä¸»æœºåŒæ—¶å‘èµ·ARPè¯·æ±‚ï¼Œæˆ–ç½‘ç»œä¸­å­˜åœ¨ARPæ¬ºéª—æ”»å‡»ã€‚

5. é¢„é˜²ä¸è§£å†³æ–¹æ³•

å¯ç”¨ç”Ÿæˆæ ‘åè®®ï¼ˆSTPï¼‰ï¼Œè‡ªåŠ¨é˜»æ–­ç¯è·¯ï¼Œä¿è¯ç½‘ç»œæ‹“æ‰‘æ— ç¯ã€‚
åˆç†åˆ’åˆ†VLANï¼Œé™åˆ¶å¹¿æ’­åŸŸèŒƒå›´ã€‚
é…ç½®å¹¿æ’­é£æš´æŠ‘åˆ¶ï¼ˆBroadcast Storm Controlï¼‰åŠŸèƒ½ï¼Œé™åˆ¶ç«¯å£å¹¿æ’­æµé‡ã€‚
åŠ å¼ºç½‘ç»œå®‰å…¨ç®¡ç†ï¼Œé˜²æ­¢æ¶æ„å¹¿æ’­æµé‡ã€‚

6. æ€»ç»“

å¹¿æ’­é£æš´æ˜¯å±€åŸŸç½‘è®¾è®¡å’Œç®¡ç†ä¸­å¿…é¡»é‡ç‚¹é˜²èŒƒçš„é—®é¢˜ï¼Œåˆç†çš„ç½‘ç»œç»“æ„å’Œç®¡ç†æªæ–½æ˜¯é˜²æ­¢å¹¿æ’­é£æš´çš„å…³é”®ã€‚


DHCPåè®®ç®€ä»‹DHCPï¼ˆDynamic Host Configuration Protocolï¼ŒåŠ¨æ€ä¸»æœºé…ç½®åè®®ï¼‰æ˜¯ä¸€ç§åº”ç”¨å±‚åè®®ï¼Œç”¨äºåœ¨IPç½‘ç»œä¸­è‡ªåŠ¨ä¸ºä¸»æœºåˆ†é…IPåœ°å€åŠç›¸å…³ç½‘ç»œé…ç½®ä¿¡æ¯ï¼ˆå¦‚å­ç½‘æ©ç ã€ç½‘å…³ã€DNSæœåŠ¡å™¨ç­‰ï¼‰ã€‚
ä¸»è¦åŠŸèƒ½ï¼š

è‡ªåŠ¨åˆ†é…IPåœ°å€ï¼Œé¿å…æ‰‹åŠ¨é…ç½®ï¼Œæé«˜ç®¡ç†æ•ˆç‡ã€‚
æ”¯æŒIPåœ°å€çš„åŠ¨æ€åˆ†é…ã€è‡ªåŠ¨å›æ”¶å’Œç»­ç§Ÿã€‚
å¯é›†ä¸­ç®¡ç†æ•´ä¸ªç½‘ç»œçš„IPåœ°å€èµ„æºã€‚

å·¥ä½œæµç¨‹ï¼š

å‘ç°ï¼ˆDiscoverï¼‰ï¼š å®¢æˆ·ç«¯å¹¿æ’­DHCP DiscoveræŠ¥æ–‡ï¼Œå¯»æ‰¾DHCPæœåŠ¡å™¨ã€‚
æä¾›ï¼ˆOfferï¼‰ï¼š DHCPæœåŠ¡å™¨å“åº”ï¼Œæä¾›å¯ç”¨IPåœ°å€å’Œé…ç½®ä¿¡æ¯ã€‚
è¯·æ±‚ï¼ˆRequestï¼‰ï¼š å®¢æˆ·ç«¯é€‰æ‹©ä¸€ä¸ªæœåŠ¡å™¨ï¼Œå¹¿æ’­DHCP RequestæŠ¥æ–‡ï¼Œç”³è¯·è¯¥IPã€‚
ç¡®è®¤ï¼ˆACKï¼‰ï¼š æœåŠ¡å™¨ç¡®è®¤åˆ†é…ï¼Œå‘é€DHCP ACKæŠ¥æ–‡ï¼Œå®¢æˆ·ç«¯è·å¾—IPåœ°å€ã€‚

ä¼˜ç‚¹ï¼š

ç®€åŒ–ç½‘ç»œç®¡ç†ï¼Œé€‚åˆå¤§ä¸­å‹ç½‘ç»œã€‚
æ”¯æŒç§»åŠ¨è®¾å¤‡å’Œä¸´æ—¶æ¥å…¥ä¸»æœºçš„è‡ªåŠ¨é…ç½®ã€‚

åº”ç”¨åœºæ™¯ï¼š

ä¼ä¸šã€æ ¡å›­ã€å®¶åº­ç­‰å„ç§IPç½‘ç»œç¯å¢ƒã€‚


ARPä¸DHCPçš„å±‚æ¬¡ä¸ä½œç”¨å¯¹æ¯”
DHCPï¼ˆåŠ¨æ€ä¸»æœºé…ç½®åè®®ï¼‰ï¼šå±äºåº”ç”¨å±‚åè®®ï¼Œä¸»è¦ä½œç”¨æ˜¯ä¸ºä¸»æœºè‡ªåŠ¨åˆ†é…IPåœ°å€åŠç›¸å…³ç½‘ç»œå‚æ•°ï¼ˆå¦‚ç½‘å…³ã€DNSç­‰ï¼‰ã€‚

å…¸å‹æµç¨‹ï¼šä¸»æœºåˆšæ¥å…¥ç½‘ç»œæ—¶ï¼Œé€šè¿‡å¹¿æ’­æ–¹å¼å‘DHCPæœåŠ¡å™¨è¯·æ±‚åˆ†é…IPåœ°å€ã€‚
è§£å†³â€œä¸»æœºå¦‚ä½•è·å¾—IPåœ°å€â€çš„é—®é¢˜ã€‚


ARPï¼ˆåœ°å€è§£æåè®®ï¼‰ï¼šå±äºæ•°æ®é“¾è·¯å±‚ä¸ç½‘ç»œå±‚ä¹‹é—´çš„åè®®ï¼Œä¸»è¦ä½œç”¨æ˜¯å°†å·²çŸ¥çš„IPåœ°å€è§£æä¸ºå¯¹åº”çš„MACåœ°å€ã€‚

å…¸å‹æµç¨‹ï¼šä¸»æœºå·²çŸ¥ç›®æ ‡IPåœ°å€ï¼Œä½†ä¸çŸ¥é“å…¶MACåœ°å€æ—¶ï¼Œé€šè¿‡å¹¿æ’­ARPè¯·æ±‚ï¼Œè·å¾—ç›®æ ‡ä¸»æœºçš„MACåœ°å€ã€‚
è§£å†³â€œä¸»æœºå¦‚ä½•é€šè¿‡IPæ‰¾åˆ°MACåœ°å€â€çš„é—®é¢˜ã€‚



æ€»ç»“ï¼š

DHCPç”¨äºâ€œæ‰¾IPåœ°å€â€ï¼Œå±äºåº”ç”¨å±‚ï¼Œè´Ÿè´£ä¸»æœºçš„ç½‘ç»œå‚æ•°è‡ªåŠ¨é…ç½®ã€‚
ARPç”¨äºâ€œæ‰¾MACåœ°å€â€ï¼Œå±äºç½‘ç»œå±‚ä¸æ•°æ®é“¾è·¯å±‚ä¹‹é—´ï¼Œè´Ÿè´£IPåˆ°MACçš„æ˜ å°„ã€‚
ä¸¤è€…éƒ½é‡‡ç”¨å¹¿æ’­ã€ç¼“å­˜å’Œè½¯çŠ¶æ€ç­‰æœºåˆ¶ï¼Œä½†æœåŠ¡å¯¹è±¡å’Œåè®®å±‚æ¬¡ä¸åŒã€‚


å‘ç°æœºåˆ¶ï¼ˆDiscovery Mechanismsï¼‰åœ¨ç½‘ç»œä¸­ï¼Œå¸¸è§çš„å‘ç°æœºåˆ¶ä¸»è¦æœ‰ä¸¤ç§ï¼š

å¹¿æ’­ï¼ˆBroadcastï¼‰æœºåˆ¶

å…¸å‹åè®®ï¼šARPã€DHCPã€‚
å·¥ä½œæ–¹å¼ï¼šé€šè¿‡å¹¿æ’­æ–¹å¼åœ¨å±€åŸŸç½‘å†…å‘ç°ç›®æ ‡ï¼ˆå¦‚ARPæŸ¥æ‰¾MACåœ°å€ã€DHCPåˆ†é…IPåœ°å€ï¼‰ã€‚
ä¼˜ç‚¹ï¼š
æ— éœ€é¢„å…ˆé…ç½®ï¼Œé›¶é…ç½®ï¼Œé€‚åˆå³æ’å³ç”¨ã€‚
æ²¡æœ‰ä¸­å¿ƒåŒ–çš„å•ç‚¹æ•…éšœï¼Œå»ä¸­å¿ƒåŒ–ã€‚


ç¼ºç‚¹ï¼š
é‡‡ç”¨æ³›æ´ªï¼ˆfloodingï¼‰æ–¹å¼ï¼Œéšç€ç½‘ç»œè§„æ¨¡å¢å¤§ï¼Œå¹¿æ’­æµé‡å‰§å¢ï¼Œæ‰©å±•æ€§å·®ã€‚
åªé€‚åˆå°å‹æˆ–å±€éƒ¨ç½‘ç»œã€‚




ç›®å½•æœåŠ¡ï¼ˆDirectory Serviceï¼‰æœºåˆ¶

å…¸å‹åè®®ï¼šDNSã€‚
å·¥ä½œæ–¹å¼ï¼šé€šè¿‡é›†ä¸­å¼çš„ç›®å½•æœåŠ¡è¿›è¡Œèµ„æºå‘ç°å’Œåç§°è§£æã€‚
ä¼˜ç‚¹ï¼š
æ— éœ€å¹¿æ’­ï¼Œå…·å¤‡è‰¯å¥½çš„å¯æ‰©å±•æ€§ï¼Œé€‚åˆå¤§è§„æ¨¡ç½‘ç»œã€‚


ç¼ºç‚¹ï¼š
ç›®å½•æœåŠ¡çš„æ ¹èŠ‚ç‚¹å­˜åœ¨è¢«æ”»å‡»æˆ–å¤±æ•ˆçš„é£é™©ï¼ˆç¼“å­˜æœºåˆ¶éå¸¸å…³é”®ï¼‰ã€‚
éœ€è¦é¢„å…ˆé…ç½®ï¼ˆå¦‚æœ¬åœ°DNSã€æ ¹æœåŠ¡å™¨ç­‰ï¼‰ä»¥å®ç°å¼•å¯¼å’Œå¯åŠ¨ã€‚





æ€»ç»“å¯¹æ¯”ï¼š

å¹¿æ’­æœºåˆ¶é€‚åˆå°è§„æ¨¡ã€æ— éœ€é…ç½®çš„åœºæ™¯ï¼Œä½†ä¸é€‚åˆå¤§è§„æ¨¡ç½‘ç»œã€‚
ç›®å½•æœåŠ¡æœºåˆ¶é€‚åˆå¤§è§„æ¨¡ç½‘ç»œï¼Œä½†éœ€è¦ä¸€å®šçš„é…ç½®å’Œå®¹é”™è®¾è®¡ã€‚


ç›¸å…³ä¾‹å­ï¼šARPã€DHCPé‡‡ç”¨å¹¿æ’­å‘ç°ï¼ŒDNSé‡‡ç”¨ç›®å½•æœåŠ¡å‘ç°ã€‚


CSMA&#x2F;CDï¼ˆè½½æ³¢ç›‘å¬å¤šè·¯è®¿é—®&#x2F;å†²çªæ£€æµ‹ï¼‰åŸç†ä¸æœºåˆ¶CSMA&#x2F;CDï¼ˆCarrier Sense Multiple Access with Collision Detectionï¼‰æ˜¯ä»¥å¤ªç½‘ä¸­ç»å…¸çš„ä»‹è´¨è®¿é—®æ§åˆ¶åè®®ï¼Œä¸»è¦ç”¨äºæ€»çº¿å‹æˆ–é›†çº¿å™¨å‹ï¼ˆåŠåŒå·¥ï¼‰ä»¥å¤ªç½‘ç¯å¢ƒä¸‹å¤šå°ä¸»æœºå…±äº«åŒä¸€ä¿¡é“æ—¶çš„æ•°æ®ä¼ è¾“åè°ƒã€‚
å·¥ä½œåŸç†ï¼š

è½½æ³¢ç›‘å¬ï¼ˆCarrier Senseï¼‰ï¼šä¸»æœºåœ¨å‘é€æ•°æ®å‰ï¼Œå…ˆç›‘å¬ä¿¡é“æ˜¯å¦ç©ºé—²ï¼Œåªæœ‰ä¿¡é“ç©ºé—²æ—¶æ‰å¼€å§‹å‘é€ã€‚
å¤šè·¯è®¿é—®ï¼ˆMultiple Accessï¼‰ï¼šå¤šå°ä¸»æœºå¯åŒæ—¶æ¥å…¥åŒä¸€ä¿¡é“ï¼Œå…·å¤‡ç«äº‰æ€§ã€‚
å†²çªæ£€æµ‹ï¼ˆCollision Detectionï¼‰ï¼šå¦‚æœä¸¤å°ä¸»æœºå‡ ä¹åŒæ—¶æ£€æµ‹åˆ°ä¿¡é“ç©ºé—²å¹¶å¼€å§‹å‘é€ï¼Œæ•°æ®ä¼šå‘ç”Ÿå†²çªã€‚ä¸»æœºåœ¨å‘é€æ•°æ®æ—¶æŒç»­ç›‘å¬ä¿¡é“ï¼Œè‹¥æ£€æµ‹åˆ°ä¿¡å·å¼‚å¸¸ï¼ˆå†²çªï¼‰ï¼Œç«‹å³åœæ­¢å‘é€ã€‚
é€€é¿é‡ä¼ ï¼ˆBackoffï¼‰ï¼šå‘ç”Ÿå†²çªåï¼Œä¸»æœºä¼šå‘é€é˜»å¡ä¿¡å·ï¼ˆJamming Signalï¼‰ï¼Œç„¶åå„è‡ªç­‰å¾…ä¸€ä¸ªéšæœºé€€é¿æ—¶é—´åå†æ¬¡å°è¯•å‘é€ã€‚é€€é¿æ—¶é—´é‡‡ç”¨äºŒè¿›åˆ¶æŒ‡æ•°é€€é¿ç®—æ³•ï¼Œå†²çªæ¬¡æ•°è¶Šå¤šï¼Œç­‰å¾…æ—¶é—´è¶Šé•¿ã€‚

ç‰¹ç‚¹ä¸åº”ç”¨ï¼š

é€‚ç”¨äºä¼ ç»Ÿæ€»çº¿å‹ã€é›†çº¿å™¨å‹ä»¥å¤ªç½‘ï¼ˆåŠåŒå·¥ï¼‰ï¼Œç°ä»£å…¨åŒå·¥äº¤æ¢å¼ä»¥å¤ªç½‘å·²ä¸å†ä½¿ç”¨CSMA&#x2F;CDã€‚
éšç€ç½‘ç»œè´Ÿè½½å¢åŠ ï¼Œå†²çªæ¦‚ç‡ä¸Šå‡ï¼Œä¿¡é“åˆ©ç”¨ç‡ä¸‹é™ã€‚
ä»¥å¤ªç½‘æœ€å°å¸§é•¿çš„è®¾è®¡ä¸CSMA&#x2F;CDæœºåˆ¶å¯†åˆ‡ç›¸å…³ï¼Œä¿è¯å†²çªèƒ½è¢«æ£€æµ‹åˆ°ã€‚

å±€é™æ€§ï¼š

åªé€‚ç”¨äºåŠåŒå·¥ã€å…±äº«ä¿¡é“çš„ç¯å¢ƒã€‚
åœ¨å…¨åŒå·¥å’Œäº¤æ¢å¼ä»¥å¤ªç½‘ä¸­å·²è¢«æ·˜æ±°ã€‚

æ€»ç»“ï¼šCSMA&#x2F;CDé€šè¿‡ç›‘å¬ä¿¡é“ã€æ£€æµ‹å†²çªå’Œéšæœºé€€é¿ï¼Œæœ‰æ•ˆåè°ƒäº†å¤šä¸»æœºå¯¹å…±äº«ä¿¡é“çš„è®¿é—®ï¼Œæ˜¯ç»å…¸ä»¥å¤ªç½‘çš„æ ¸å¿ƒæœºåˆ¶ä¹‹ä¸€ã€‚

CSMA&#x2F;CAï¼ˆè½½æ³¢ç›‘å¬å¤šè·¯è®¿é—®&#x2F;å†²çªé¿å…ï¼‰åŸç†ä¸æœºåˆ¶CSMA&#x2F;CAï¼ˆCarrier Sense Multiple Access with Collision Avoidanceï¼‰æ˜¯æ— çº¿å±€åŸŸç½‘ï¼ˆå¦‚Wi-Fi&#x2F;IEEE 802.11ï¼‰ä¸­å¸¸ç”¨çš„ä»‹è´¨è®¿é—®æ§åˆ¶åè®®ï¼Œç”¨äºåè°ƒå¤šå°è®¾å¤‡å¯¹å…±äº«æ— çº¿ä¿¡é“çš„è®¿é—®ï¼Œé¿å…æ•°æ®å†²çªã€‚
å·¥ä½œåŸç†ï¼š

è½½æ³¢ç›‘å¬ï¼ˆCarrier Senseï¼‰ï¼šç»ˆç«¯åœ¨å‘é€æ•°æ®å‰ï¼Œå…ˆç›‘å¬ä¿¡é“æ˜¯å¦ç©ºé—²ã€‚
å†²çªé¿å…ï¼ˆCollision Avoidanceï¼‰ï¼š
è‹¥ä¿¡é“ç©ºé—²ï¼Œç»ˆç«¯ç­‰å¾…ä¸€ä¸ªéšæœºé€€é¿æ—¶é—´ï¼ˆBackoffï¼‰ï¼Œè‹¥æœŸé—´ä¿¡é“ä»ç©ºé—²ï¼Œåˆ™å¼€å§‹å‘é€ã€‚
è‹¥ä¿¡é“å¿™ï¼Œç»ˆç«¯æŒç»­ç›‘å¬å¹¶ç­‰å¾…ä¿¡é“ç©ºé—²åå†é€€é¿ã€‚
é‡‡ç”¨éšæœºé€€é¿æœºåˆ¶ï¼Œå‡å°‘å¤šä¸ªç»ˆç«¯åŒæ—¶å‘é€çš„æ¦‚ç‡ã€‚


ç¡®è®¤æœºåˆ¶ï¼ˆACKï¼‰ï¼šæ•°æ®å¸§å‘é€åï¼Œæ¥æ”¶æ–¹éœ€è¿”å›ACKç¡®è®¤å¸§ï¼Œå‘é€æ–¹æ”¶åˆ°ACKæ‰è®¤ä¸ºå‘é€æˆåŠŸï¼Œå¦åˆ™é‡ä¼ ã€‚
RTS&#x2F;CTSæœºåˆ¶ï¼ˆå¯é€‰ï¼‰ï¼šä¸ºè¿›ä¸€æ­¥å‡å°‘å†²çªï¼Œå‘é€æ–¹å¯å…ˆå‘é€RTSï¼ˆè¯·æ±‚å‘é€ï¼‰å¸§ï¼Œæ¥æ”¶æ–¹å›å¤CTSï¼ˆæ¸…é™¤å‘é€ï¼‰å¸§ï¼Œæ”¶åˆ°CTSåå†æ­£å¼å‘é€æ•°æ®ã€‚
è¯¥æœºåˆ¶å¯æœ‰æ•ˆè§£å†³â€œéšè—ç»ˆç«¯â€é—®é¢˜ã€‚



ç‰¹ç‚¹ä¸åº”ç”¨ï¼š

ä¸»è¦ç”¨äºæ— çº¿å±€åŸŸç½‘ï¼ˆå¦‚Wi-Fiï¼‰ï¼Œé€‚åˆå¹¿æ’­å¼ã€æ˜“å—å¹²æ‰°çš„æ— çº¿ç¯å¢ƒã€‚
ç”±äºæ— çº¿ä¿¡é“æ— æ³•åƒæœ‰çº¿ä»¥å¤ªç½‘é‚£æ ·æ£€æµ‹å†²çªï¼ˆæ— æ³•è¾¹å‘è¾¹å¬ï¼‰ï¼Œé‡‡ç”¨å†²çªé¿å…è€Œéå†²çªæ£€æµ‹ã€‚
é€šè¿‡ACKå’ŒRTS&#x2F;CTSæœºåˆ¶æé«˜å¯é æ€§å’Œä¿¡é“åˆ©ç”¨ç‡ã€‚

å±€é™æ€§ï¼š

å­˜åœ¨ä¿¡é“å ç”¨ã€é€€é¿ç­‰å¾…ç­‰å¼€é”€ï¼Œä¿¡é“åˆ©ç”¨ç‡å—é™ã€‚
åœ¨é«˜å¯†åº¦æˆ–é«˜è´Ÿè½½ç¯å¢ƒä¸‹ï¼Œå†²çªå’Œé‡ä¼ æ¦‚ç‡ä»å¯èƒ½è¾ƒé«˜ã€‚

æ€»ç»“ï¼šCSMA&#x2F;CAé€šè¿‡ç›‘å¬ä¿¡é“ã€éšæœºé€€é¿ã€ç¡®è®¤åº”ç­”å’Œå¯é€‰çš„RTS&#x2F;CTSæœºåˆ¶ï¼Œæœ‰æ•ˆå‡å°‘äº†æ— çº¿ç¯å¢ƒä¸‹çš„å†²çªï¼Œæ˜¯æ— çº¿å±€åŸŸç½‘çš„æ ¸å¿ƒä»‹è´¨è®¿é—®æ§åˆ¶æœºåˆ¶ã€‚

CSMA&#x2F;CD ä¸ CSMA&#x2F;CA çš„åŒºåˆ«æ€»ç»“


å¯¹æ¯”é¡¹
CSMA&#x2F;CDï¼ˆå†²çªæ£€æµ‹ï¼‰
CSMA&#x2F;CAï¼ˆå†²çªé¿å…ï¼‰



å…¸å‹åº”ç”¨åœºæ™¯
æœ‰çº¿ä»¥å¤ªç½‘ï¼ˆEthernetï¼ŒåŠåŒå·¥ï¼‰
æ— çº¿å±€åŸŸç½‘ï¼ˆWi-Fi&#x2F;IEEE 802.11ï¼‰


ä»‹è´¨ç±»å‹
æœ‰çº¿ï¼Œä¿¡å·å¯æ£€æµ‹
æ— çº¿ï¼Œä¿¡å·éš¾ä»¥è¾¹å‘è¾¹å¬


å†²çªå¤„ç†æ–¹å¼
å…è®¸å†²çªå‘ç”Ÿï¼Œæ£€æµ‹åˆ°å†²çªååœæ­¢å‘é€å¹¶é€€é¿
é€šè¿‡é€€é¿å’Œæ§åˆ¶æœºåˆ¶å°½é‡é¿å…å†²çªå‘ç”Ÿ


ä¸»è¦æœºåˆ¶
ç›‘å¬ä¿¡é“ã€æ£€æµ‹å†²çªã€å†²çªåé€€é¿é‡ä¼ 
ç›‘å¬ä¿¡é“ã€éšæœºé€€é¿ã€ACKç¡®è®¤ã€RTS&#x2F;CTSæœºåˆ¶


èƒ½å¦æ£€æµ‹å†²çª
å¯ä»¥ï¼ˆè¾¹å‘è¾¹å¬ï¼‰
ä¸èƒ½ï¼ˆæ— çº¿æ— æ³•è¾¹å‘è¾¹å¬ï¼‰


é€€é¿ç®—æ³•
äºŒè¿›åˆ¶æŒ‡æ•°é€€é¿
éšæœºé€€é¿


å¯é æ€§æœºåˆ¶
æ— ç¡®è®¤æœºåˆ¶
ACKç¡®è®¤æœºåˆ¶ï¼ŒRTS&#x2F;CTSå¯é€‰


é€‚ç”¨ç½‘ç»œç»“æ„
æ€»çº¿å‹&#x2F;é›†çº¿å™¨å‹æœ‰çº¿ç½‘ç»œ
æ— çº¿å¹¿æ’­å¼ç½‘ç»œ


ç°çŠ¶
ç°ä»£å…¨åŒå·¥ä»¥å¤ªç½‘å·²ä¸å†ä½¿ç”¨
ä»ä¸ºWi-Fiç­‰æ— çº¿å±€åŸŸç½‘çš„æ ¸å¿ƒæœºåˆ¶


ç®€è¦æ€»ç»“ï¼š

CSMA&#x2F;CD é€‚ç”¨äºæœ‰çº¿ä»¥å¤ªç½‘ï¼Œå…è®¸å†²çªå‘ç”Ÿå¹¶æ£€æµ‹å†²çªï¼Œä¾èµ–äºä¿¡å·å¯æ£€æµ‹ã€‚
CSMA&#x2F;CA é€‚ç”¨äºæ— çº¿å±€åŸŸç½‘ï¼Œå› æ— çº¿ä¿¡é“æ— æ³•æ£€æµ‹å†²çªï¼Œé‡‡ç”¨å†²çªé¿å…å’Œç¡®è®¤æœºåˆ¶ã€‚
ä¸¤è€…éƒ½å±äºå¤šè·¯è®¿é—®åè®®ï¼Œä½†æ ¹æ®ç‰©ç†ä»‹è´¨å’Œåº”ç”¨åœºæ™¯é‡‡ç”¨ä¸åŒçš„å†²çªå¤„ç†ç­–ç•¥ã€‚


ç½‘æ¡¥çš„ä½œç”¨ä¸å·¥ä½œåŸç†1. ç½‘æ¡¥çš„ä½œç”¨

ç½‘æ¡¥ï¼ˆBridgeï¼‰æ˜¯ä¸€ç§å·¥ä½œåœ¨æ•°æ®é“¾è·¯å±‚çš„ç½‘ç»œäº’è”è®¾å¤‡ï¼Œç”¨äºè¿æ¥ä¸¤ä¸ªæˆ–å¤šä¸ªå±€åŸŸç½‘æ®µï¼Œå®ç°ä¸åŒå±€åŸŸç½‘ä¹‹é—´çš„æ•°æ®è½¬å‘å’Œéš”ç¦»å†²çªåŸŸã€‚
èƒ½å¤Ÿæ ¹æ®MACåœ°å€è½¬å‘æ•°æ®å¸§ï¼Œå‡å°‘å¹¿æ’­åŸŸèŒƒå›´ï¼Œæé«˜ç½‘ç»œæ€§èƒ½ã€‚
å…¸å‹åº”ç”¨äºä»¥å¤ªç½‘åˆ†æ®µã€æ‰©å±•å±€åŸŸç½‘ã€éš”ç¦»å†²çªåŸŸç­‰åœºæ™¯ã€‚

2. ç½‘æ¡¥çš„å·¥ä½œåŸç†

ç½‘æ¡¥é€šè¿‡ç›‘å¬ç»è¿‡çš„æ•°æ®å¸§ï¼Œè‡ªåŠ¨å­¦ä¹ æºMACåœ°å€ä¸ç«¯å£çš„å¯¹åº”å…³ç³»ï¼Œå»ºç«‹è½¬å‘è¡¨ï¼ˆMACåœ°å€è¡¨ï¼‰ã€‚
å½“æ¥æ”¶åˆ°æ•°æ®å¸§æ—¶ï¼ŒæŸ¥æ‰¾è½¬å‘è¡¨ï¼š
è‹¥ç›®æ ‡MACåœ°å€å·²åœ¨è¡¨ä¸­ï¼Œå®šå‘è½¬å‘åˆ°å¯¹åº”ç«¯å£ã€‚
è‹¥æœªçŸ¥ï¼Œåˆ™å¹¿æ’­è¯¥å¸§åˆ°é™¤æ¥æ”¶ç«¯å£å¤–çš„æ‰€æœ‰ç«¯å£ã€‚


é€šè¿‡åœ°å€å­¦ä¹ å’Œè½¬å‘è¡¨ï¼Œå®ç°å¸§çš„é«˜æ•ˆè½¬å‘å’Œå†²çªåŸŸéš”ç¦»ã€‚

3. ç½‘æ¡¥çš„è·¯ç”±æœºåˆ¶

è½¬å‘è¡¨ï¼ˆForwarding Tableï¼‰ï¼šè®°å½•MACåœ°å€ä¸ç«¯å£çš„æ˜ å°„å…³ç³»ï¼Œå®ç°å®šå‘è½¬å‘ã€‚
åœ°å€å­¦ä¹ ï¼ˆAddress Learningï¼‰ï¼šè‡ªåŠ¨å­¦ä¹ æºMACåœ°å€ï¼ŒåŠ¨æ€ç»´æŠ¤è½¬å‘è¡¨ã€‚
ç”Ÿæˆæ ‘ç®—æ³•ï¼ˆSpanning Tree Protocol, STPï¼‰ï¼šä¸ºé˜²æ­¢ç½‘ç»œç¯è·¯ï¼Œç½‘æ¡¥é—´è¿è¡Œç”Ÿæˆæ ‘åè®®ï¼Œè‡ªåŠ¨é˜»æ–­å†—ä½™é“¾è·¯ï¼Œå½¢æˆæ— ç¯æ‹“æ‰‘ï¼Œé¿å…å¹¿æ’­é£æš´ã€‚
è·¯ç”±å‘ç°æœºåˆ¶ï¼šé€šè¿‡ç”Ÿæˆæ ‘åè®®å’Œåœ°å€å­¦ä¹ ï¼Œè‡ªåŠ¨å‘ç°ç½‘ç»œç»“æ„å’Œæœ€ä¼˜è½¬å‘è·¯å¾„ï¼Œæ— éœ€äººå·¥é…ç½®ã€‚

æ€»ç»“ï¼š

ç½‘æ¡¥é€šè¿‡åœ°å€å­¦ä¹ å’Œè½¬å‘è¡¨å®ç°é«˜æ•ˆè½¬å‘ï¼Œé€šè¿‡ç”Ÿæˆæ ‘åè®®é˜²æ­¢ç¯è·¯å’Œå¹¿æ’­é£æš´ï¼Œæ˜¯å±€åŸŸç½‘äº’è”å’Œåˆ†æ®µçš„é‡è¦è®¾å¤‡ã€‚


é›†çº¿å™¨ï¼ˆHubï¼‰çš„ä½œç”¨ä¸åŸç†1. é›†çº¿å™¨çš„å®šä¹‰ä¸ç»“æ„

é›†çº¿å™¨ï¼ˆHubï¼‰æ˜¯å±€åŸŸç½‘ä¸­å¸¸è§çš„ç‰©ç†å±‚è®¾å¤‡ï¼Œå¸¸ç”¨äºæ˜Ÿå‹æ‹“æ‰‘ï¼ˆstar layoutï¼‰ç»“æ„çš„ç½‘ç»œã€‚
åœ¨æ˜Ÿå‹æ‹“æ‰‘ä¸­ï¼Œæ‰€æœ‰ç»ˆç«¯ï¼ˆä¸»æœºï¼‰é€šè¿‡ä¸¤æ ¹çº¿ï¼ˆå‘é€å’Œæ¥æ”¶ï¼‰ä¸ä¸­å¿ƒçš„é›†çº¿å™¨ç›¸è¿ã€‚

2. å·¥ä½œåŸç†

Hub çš„ä¸»è¦åŠŸèƒ½ç±»ä¼¼äºä¸­ç»§å™¨ï¼ˆRepeaterï¼‰ï¼Œå±äºâ€œæ— æ™ºèƒ½â€è®¾å¤‡ã€‚
å½“æŸä¸ªç»ˆç«¯å‘é€æ•°æ®æ—¶ï¼ŒHub ä¼šå°†æ”¶åˆ°çš„ä¿¡å·å¤åˆ¶å¹¶è½¬å‘åˆ°æ‰€æœ‰å…¶ä»–ç«¯å£ï¼ˆå³æ‰€æœ‰å…¶ä»–ç»ˆç«¯ï¼‰ã€‚
Hub ä¸ä¼šåˆ†ææ•°æ®å†…å®¹ï¼Œä¹Ÿä¸åŒºåˆ†ç›®æ ‡ï¼Œåªæ˜¯ç®€å•åœ°å¹¿æ’­ä¿¡å·ã€‚

3. ç‰©ç†ä¸é€»è¾‘ç»“æ„

ç‰©ç†ä¸Šï¼ŒHub ç»„ç½‘ä¸ºæ˜Ÿå‹ç»“æ„ï¼ˆæ¯ä¸ªç»ˆç«¯éƒ½è¿åˆ°ä¸­å¿ƒ Hubï¼‰ã€‚
é€»è¾‘ä¸Šï¼ŒHub ç»„ç½‘ç­‰ä»·äºæ€»çº¿å‹ï¼ˆbusï¼‰ï¼šä»»ä½•ä¸€ä¸ªç»ˆç«¯å‘å‡ºçš„æ•°æ®ï¼Œæ‰€æœ‰ç»ˆç«¯éƒ½èƒ½æ”¶åˆ°ã€‚
å¦‚æœæœ‰ä¸¤ä¸ªç»ˆç«¯åŒæ—¶å‘é€æ•°æ®ï¼Œä¼šå‘ç”Ÿå†²çªï¼ˆcollisionï¼‰ï¼Œæ‰€æœ‰ç»ˆç«¯éƒ½å¤„äºåŒä¸€ä¸ªå†²çªåŸŸã€‚

4. ç‰¹ç‚¹ä¸å±€é™

Hub ä¸å…·å¤‡æ•°æ®å®šå‘è½¬å‘èƒ½åŠ›ï¼Œæ‰€æœ‰ç«¯å£å…±äº«å¸¦å®½ï¼Œå†²çªæ¦‚ç‡é«˜ã€‚
é€‚ç”¨äºå°å‹ã€ä½é€Ÿã€å¯¹æ€§èƒ½è¦æ±‚ä¸é«˜çš„å±€åŸŸç½‘ã€‚
ç°ä»£ä»¥å¤ªç½‘å·²è¢«äº¤æ¢æœºï¼ˆSwitchï¼‰å–ä»£ï¼ŒHub åŸºæœ¬æ·˜æ±°ã€‚

5. å°ç»“

Hub æ˜¯æ˜Ÿå‹æ‹“æ‰‘çš„ä¸­å¿ƒè®¾å¤‡ï¼Œèµ·åˆ°ä¿¡å·ä¸­ç»§å’Œå¹¿æ’­çš„ä½œç”¨ã€‚
ç‰©ç†ä¸Šä¸ºæ˜Ÿå‹ï¼Œé€»è¾‘ä¸Šä¸ºæ€»çº¿å‹ï¼Œæ‰€æœ‰ç»ˆç«¯å…±äº«å†²çªåŸŸã€‚
ä¸å…·å¤‡æ™ºèƒ½è½¬å‘å’Œéš”ç¦»å†²çªåŸŸçš„èƒ½åŠ›ã€‚


IEEE 802.11 æ— çº¿å±€åŸŸç½‘ä½“ç³»ç»“æ„ï¼ˆWLAN Architectureï¼‰1. Stationï¼ˆSTAï¼Œç«™ç‚¹ï¼‰

æŒ‡å…·å¤‡IEEE 802.11æ ‡å‡†MACå’Œç‰©ç†å±‚åŠŸèƒ½çš„æ— çº¿è®¾å¤‡ï¼Œå¦‚æ— çº¿ç½‘å¡ã€æ‰‹æœºã€ç¬”è®°æœ¬ç­‰ç»ˆç«¯ã€‚

2. Access Pointï¼ˆAPï¼Œæ— çº¿æ¥å…¥ç‚¹ï¼‰

ä½œä¸ºæ— çº¿ç»ˆç«¯ä¸åˆ†å¸ƒå¼ç³»ç»Ÿï¼ˆDSï¼‰ä¹‹é—´çš„æ¡¥æ¢ï¼Œè´Ÿè´£åè°ƒå’Œç®¡ç†æ— çº¿ç»ˆç«¯çš„æ¥å…¥ã€‚
é€šè¿‡æ— çº¿ä¿¡é“ä¸ºç»ˆç«¯æä¾›æ¥å…¥æœåŠ¡ã€‚

3. Basic Service Setï¼ˆBSSï¼ŒåŸºæœ¬æœåŠ¡é›†ï¼‰

ç”±ä¸€ä¸ªAPå’Œè‹¥å¹²STAç»„æˆçš„æœ€å°æ— çº¿å±€åŸŸç½‘å•å…ƒã€‚
ä¸€ä¸ªBSSé€šå¸¸è¦†ç›–ä¸€ä¸ªç‰©ç†åŒºåŸŸï¼ˆå¦‚ä¸€ä¸ªæˆ¿é—´ï¼‰ï¼Œç”±APåè°ƒç®¡ç†ã€‚

4. Extended Service Setï¼ˆESSï¼Œæ‰©å±•æœåŠ¡é›†ï¼‰

ç”±å¤šä¸ªBSSé€šè¿‡åˆ†å¸ƒå¼ç³»ç»Ÿï¼ˆDSï¼‰äº’è”ç»„æˆã€‚
DSå¯ä»¥æ˜¯äº¤æ¢æœºã€æœ‰çº¿ç½‘ç»œæˆ–æ— çº¿ç½‘ç»œã€‚
ESSå¯¹ç”¨æˆ·å‘ˆç°ä¸ºä¸€ä¸ªå•ä¸€çš„é€»è¾‘å±€åŸŸç½‘ï¼Œå®ç°æ— çº¿æ¼«æ¸¸å’Œå¤§èŒƒå›´è¦†ç›–ã€‚
é€šè¿‡Portalï¼ˆå¦‚è·¯ç”±å™¨ï¼‰å®ç°ä¸æœ‰çº¿LAN&#x2F;Internetçš„äº’é€šã€‚

5. Distribution Systemï¼ˆDSï¼Œåˆ†å¸ƒå¼ç³»ç»Ÿï¼‰

ç”¨äºè¿æ¥å¤šä¸ªBSSå’Œé›†æˆæœ‰çº¿LANï¼Œå½¢æˆä¸€ä¸ªESSã€‚
DSå¯é‡‡ç”¨å¤šç§å®ç°æ–¹å¼ï¼ˆå¦‚ä»¥å¤ªç½‘äº¤æ¢æœºã€æ— çº¿Meshç­‰ï¼‰ã€‚

6. ä½“ç³»ç»“æ„å›¾è§£è¯´æ˜

å›¾ä¸­å±•ç¤ºäº†å¤šä¸ªBSSï¼ˆæ¯ä¸ªBSSæœ‰ä¸€ä¸ªAPå’Œè‹¥å¹²STAï¼‰ï¼Œé€šè¿‡DSäº’è”ï¼Œç»„æˆä¸€ä¸ªESSã€‚
Portalå®ç°ESSä¸æœ‰çº¿LAN&#x2F;Internetçš„è¿æ¥ã€‚
ESSä¸ºç”¨æˆ·æä¾›æ— ç¼æ¼«æ¸¸å’Œç»Ÿä¸€çš„æ— çº¿å±€åŸŸç½‘æœåŠ¡ã€‚

7. å°ç»“

IEEE 802.11 WLANé‡‡ç”¨åˆ†å±‚ã€åˆ†åŒºçš„ä½“ç³»ç»“æ„ï¼Œæ”¯æŒçµæ´»æ‰©å±•å’Œå¤§èŒƒå›´è¦†ç›–ã€‚
å…³é”®ç»„ä»¶åŒ…æ‹¬STAã€APã€BSSã€ESSã€DSå’ŒPortalã€‚
ESSå®ç°äº†å¤šä¸ªBSSçš„äº’è”å’Œç»Ÿä¸€ç®¡ç†ï¼Œæ˜¯ä¼ä¸šå’Œæ ¡å›­æ— çº¿ç½‘ç»œçš„åŸºç¡€æ¶æ„ã€‚


IEEE 802.11 å¸§é—´éš”ä¼˜å…ˆçº§æœºåˆ¶ï¼ˆSIFSã€PIFSã€DIFSï¼‰IEEE 802.11 æ— çº¿å±€åŸŸç½‘é‡‡ç”¨ä¸‰ç§ä¸åŒçš„å¸§é—´éš”ï¼ˆIFS, Inter Frame Spaceï¼‰æ¥å®ç°ä¿¡é“è®¿é—®çš„ä¼˜å…ˆçº§æ§åˆ¶ï¼Œåˆ†åˆ«æ˜¯ï¼š

SIFSï¼ˆShort Inter Frame Spaceï¼ŒçŸ­å¸§é—´éš”ï¼‰
æœ€çŸ­çš„IFSï¼Œä¼˜å…ˆçº§æœ€é«˜ã€‚
ç”¨äºæ‰€æœ‰éœ€è¦ç«‹å³å“åº”çš„åœºæ™¯ï¼Œå¦‚ACKã€CTSã€æ•°æ®å¸§ä¹‹é—´çš„è¿ç»­å‘é€ç­‰ã€‚


PIFSï¼ˆPoint Coordination Function IFSï¼Œç‚¹åè°ƒåŠŸèƒ½å¸§é—´éš”ï¼‰
ä¸­ç­‰é•¿åº¦çš„IFSã€‚
ä¸»è¦ç”±ä¸­å¿ƒæ§åˆ¶å™¨ï¼ˆAPï¼‰åœ¨PCFï¼ˆç‚¹åè°ƒåŠŸèƒ½ï¼‰æ¨¡å¼ä¸‹å‘èµ·è½®è¯¢æ—¶ä½¿ç”¨ã€‚


DIFSï¼ˆDistributed Coordination Function IFSï¼Œåˆ†å¸ƒå¼åè°ƒåŠŸèƒ½å¸§é—´éš”ï¼‰
æœ€é•¿çš„IFSï¼Œä¼˜å…ˆçº§æœ€ä½ã€‚
ç”¨äºæ™®é€šç»ˆç«¯äº‰ç”¨ä¿¡é“æ—¶çš„å¼‚æ­¥æ•°æ®å¸§å‘é€ã€‚



ä¸‰è€…çš„å…³ç³»ä¸ºï¼šSIFS &lt; PIFS &lt; DIFSã€‚
è¿™ç§è®¾è®¡ä¿è¯äº†ï¼š

éœ€è¦å¿«é€Ÿå“åº”çš„å¸§ï¼ˆå¦‚ACKã€CTSï¼‰èƒ½ä¼˜å…ˆè·å¾—ä¿¡é“ï¼Œå‡å°‘æ—¶å»¶ã€‚
æ§åˆ¶å¸§ï¼ˆå¦‚APè½®è¯¢ï¼‰ä¼˜å…ˆäºæ™®é€šæ•°æ®å¸§ã€‚
æ™®é€šæ•°æ®å¸§éœ€ç­‰å¾…æœ€é•¿çš„DIFSï¼Œä¼˜å…ˆçº§æœ€ä½ã€‚

ä¸‹å›¾ä¸ºä¸‰ç§IFSçš„ç›¸å¯¹é•¿åº¦å’Œä¼˜å…ˆçº§å…³ç³»ç¤ºæ„ï¼š
DIFSPIFSSIFSFrame |&lt;--SIFS--&gt;| Frame |&lt;--PIFS--&gt;| Frame |&lt;--DIFS--&gt;| Frame

é€šè¿‡è¿™ç§åˆ†çº§å¸§é—´éš”æœºåˆ¶ï¼ŒIEEE 802.11 å®ç°äº†æ— çº¿ä¿¡é“è®¿é—®çš„å…¬å¹³æ€§å’Œé«˜æ•ˆæ€§ã€‚

IEEE 802.11 ç‚¹åè°ƒåŠŸèƒ½ï¼ˆPCFï¼‰ä¸è¶…çº§å¸§æœºåˆ¶1. ç‚¹åè°ƒåŠŸèƒ½ï¼ˆPCF, Point Coordination Functionï¼‰
PCFæ˜¯ä¸€ç§ä¸­å¿ƒåŒ–çš„æ— çº¿ä»‹è´¨è®¿é—®æ§åˆ¶æœºåˆ¶ï¼Œç”±æ¥å…¥ç‚¹ï¼ˆAPï¼‰ä½œä¸ºç‚¹åè°ƒå™¨ï¼ˆPoint Coordinator, PCï¼‰ç»Ÿä¸€è°ƒåº¦ã€‚
APå®šæœŸä»¥è½®è¯¢ï¼ˆround-robinï¼‰æ–¹å¼å‘å„ç»ˆç«¯ï¼ˆSTAï¼‰å‘èµ·è½®è¯¢ï¼ˆpollï¼‰ï¼Œè¢«è½®è¯¢åˆ°çš„ç»ˆç«¯æ‰èƒ½å‘é€æ•°æ®ï¼Œé¿å…å†²çªï¼Œé€‚åˆæ—¶å»¶æ•æ„Ÿä¸šåŠ¡ã€‚
APåœ¨å‘èµ·è½®è¯¢æ—¶ä½¿ç”¨PIFSï¼ˆä¼˜å…ˆçº§é«˜äºæ™®é€šç»ˆç«¯çš„DIFSï¼‰ï¼Œå¯ä»¥æŠ¢å ä¿¡é“ï¼Œé”å®šå¼‚æ­¥æµé‡ï¼Œä¿è¯è½®è¯¢å’Œå“åº”æœŸé—´çš„ä¿¡é“ç‹¬å ã€‚
ç»ˆç«¯æ”¶åˆ°è½®è¯¢åï¼Œè‹¥æœ‰æ•°æ®éœ€å‘é€ï¼Œåˆ™ç”¨SIFSï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰ç«‹å³å“åº”ã€‚
è‹¥APæœªæ”¶åˆ°å“åº”ï¼Œåœ¨é¢„æœŸæ—¶é—´å†…ä¼šç»§ç»­è½®è¯¢ä¸‹ä¸€ä¸ªç»ˆç«¯ï¼Œç›´åˆ°æœ¬è½®ç»“æŸã€‚

2. è¶…çº§å¸§ï¼ˆSuper-frameï¼‰æœºåˆ¶
è¶…çº§å¸§ç”±PCFå®šä¹‰ï¼Œå°†æ—¶é—´åˆ’åˆ†ä¸ºè½®è¯¢æœŸå’Œäº‰ç”¨æœŸä¸¤éƒ¨åˆ†ã€‚
è½®è¯¢æœŸï¼ˆcontend-free periodï¼‰ï¼šAPè½®è¯¢æ‰€æœ‰ç»ˆç«¯ï¼Œä¿è¯æ— å†²çªé€šä¿¡ã€‚
äº‰ç”¨æœŸï¼ˆcontention periodï¼‰ï¼šå…è®¸æ™®é€šç»ˆç«¯é‡‡ç”¨DCFæœºåˆ¶äº‰ç”¨ä¿¡é“ï¼Œè¿›è¡Œå¼‚æ­¥é€šä¿¡ã€‚


è¶…çº§å¸§å¼€å§‹æ—¶ï¼ŒAPé€šè¿‡beaconå¸§å®£å¸ƒè¶…çº§å¸§çš„èµ·ç‚¹ï¼Œå¹¶åˆ›å»ºæ— å†²çªæœŸã€‚
è¶…çº§å¸§ç»“æŸæ—¶ï¼ŒAPå†æ¬¡ç”¨PIFSäº‰ç”¨ä¿¡é“ï¼Œè¿›å…¥ä¸‹ä¸€ä¸ªè¶…çº§å¸§å‘¨æœŸã€‚
è¿™æ ·æ—¢ä¿è¯äº†æ—¶å»¶æ•æ„Ÿä¸šåŠ¡çš„æœåŠ¡è´¨é‡ï¼Œåˆå…¼å®¹æ™®é€šå¼‚æ­¥ä¸šåŠ¡çš„æ¥å…¥ã€‚


è¶…çº§å¸§æœºåˆ¶é€šè¿‡è½®è¯¢å’Œäº‰ç”¨æœŸçš„åˆ’åˆ†ï¼Œå®ç°äº†æ— çº¿å±€åŸŸç½‘ä¸­æœ‰ä¸­å¿ƒè°ƒåº¦ä¸åˆ†å¸ƒå¼ç«äº‰çš„ç»“åˆï¼Œæå‡äº†æœåŠ¡è´¨é‡å’Œä¿¡é“åˆ©ç”¨ç‡ã€‚


IEEE 802.11 åˆ†å¸ƒå¼åè°ƒåŠŸèƒ½ï¼ˆDCFï¼‰åŸç†ä¸å·¥ä½œæµç¨‹1. DCFï¼ˆDistributed Coordination Functionï¼‰åŸç†
DCFæ˜¯IEEE 802.11æ— çº¿å±€åŸŸç½‘ä¸­æœ€åŸºæœ¬ã€æœ€å¸¸ç”¨çš„ä»‹è´¨è®¿é—®æ§åˆ¶æœºåˆ¶ï¼Œé‡‡ç”¨**CSMA&#x2F;CAï¼ˆè½½æ³¢ç›‘å¬å¤šè·¯è®¿é—®&#x2F;å†²çªé¿å…ï¼‰**åè®®ã€‚
æ‰€æœ‰ç»ˆç«¯å¹³ç­‰ç«äº‰ä¿¡é“ï¼Œæ— ä¸­å¿ƒè°ƒåº¦ï¼Œé€‚åˆå¼‚æ­¥ã€åˆ†å¸ƒå¼çš„æ— çº¿é€šä¿¡ç¯å¢ƒã€‚
ç”±äºæ— çº¿ç¯å¢ƒæ— æ³•åƒæœ‰çº¿ä»¥å¤ªç½‘é‚£æ ·æ£€æµ‹å†²çªï¼ˆä¸èƒ½è¾¹å‘è¾¹å¬ï¼‰ï¼ŒDCFé‡‡ç”¨å†²çªé¿å…å’Œç¡®è®¤æœºåˆ¶æ¥ä¿è¯æ•°æ®å¯é ä¼ è¾“ã€‚

2. DCFçš„å®Œæ•´å·¥ä½œæµç¨‹
ç›‘å¬ä¿¡é“ï¼ˆCarrier Sensingï¼‰

ç»ˆç«¯å‡†å¤‡å‘é€æ•°æ®å‰ï¼Œå…ˆç›‘å¬ä¿¡é“æ˜¯å¦ç©ºé—²ã€‚
è‹¥ä¿¡é“å¿™ï¼Œåˆ™æŒç»­ç›‘å¬ï¼Œç›´åˆ°ä¿¡é“ç©ºé—²ã€‚


ç­‰å¾…DIFSï¼ˆDistributed Inter Frame Spaceï¼‰

ä¿¡é“ç©ºé—²åï¼Œç»ˆç«¯éœ€ç­‰å¾…ä¸€ä¸ªDIFSæ—¶é—´ï¼ˆæœ€é•¿çš„å¸§é—´éš”ï¼Œä¼˜å…ˆçº§æœ€ä½ï¼‰ï¼Œä»¥ä¿è¯é«˜ä¼˜å…ˆçº§å¸§ï¼ˆå¦‚SIFSã€PIFSï¼‰ä¼˜å…ˆå‘é€ã€‚


éšæœºé€€é¿ï¼ˆBackoffï¼‰æœºåˆ¶

è‹¥æœ‰å¤šä¸ªç»ˆç«¯åŒæ—¶ç­‰å¾…å‘é€ï¼Œä¸ºé¿å…å†²çªï¼Œæ¯ä¸ªç»ˆç«¯åœ¨DIFSåä¼šé€‰æ‹©ä¸€ä¸ªéšæœºé€€é¿æ—¶é—´ï¼ˆBackoff Timeï¼‰ã€‚
é€€é¿æ—¶é—´ä»¥æ—¶éš™ä¸ºå•ä½ï¼Œåœ¨[0, CW-1]ä¹‹é—´éšæœºé€‰æ‹©ï¼ˆCWä¸ºäº‰ç”¨çª—å£ï¼‰ã€‚
é€€é¿è®¡æ•°åœ¨ä¿¡é“ç©ºé—²æ—¶é€’å‡ï¼Œè‹¥ä¿¡é“å˜å¿™åˆ™æš‚åœè®¡æ•°ï¼Œç­‰ä¿¡é“å†æ¬¡ç©ºé—²åç»§ç»­ã€‚


å‘é€æ•°æ®å¸§

é€€é¿è®¡æ•°å‡ä¸º0æ—¶ï¼Œç»ˆç«¯å¼€å§‹å‘é€æ•°æ®å¸§ã€‚


ç­‰å¾…ACKç¡®è®¤

æ•°æ®å¸§å‘é€åï¼Œæ¥æ”¶æ–¹åœ¨SIFSï¼ˆæœ€çŸ­å¸§é—´éš”ï¼‰åç«‹å³è¿”å›ACKç¡®è®¤å¸§ã€‚
å‘é€æ–¹æ”¶åˆ°ACKï¼Œè®¤ä¸ºæœ¬æ¬¡å‘é€æˆåŠŸï¼›è‹¥æœªæ”¶åˆ°ACKï¼Œåˆ™è®¤ä¸ºå‘ç”Ÿå†²çªæˆ–ä¸¢åŒ…ï¼Œè¿›å…¥é‡ä¼ æµç¨‹ã€‚


é‡ä¼ ä¸é€€é¿çª—å£è°ƒæ•´

è‹¥å‘é€å¤±è´¥ï¼Œç»ˆç«¯å°†CWåŠ å€ï¼ˆæŒ‡æ•°é€€é¿ï¼‰ï¼Œé‡æ–°é€‰æ‹©é€€é¿æ—¶é—´ï¼Œé‡å¤ä¸Šè¿°æµç¨‹ï¼Œç›´åˆ°å‘é€æˆåŠŸæˆ–è¾¾åˆ°æœ€å¤§é‡ä¼ æ¬¡æ•°ã€‚



3. DCFçš„å…³é”®æœºåˆ¶ä¸ç‰¹ç‚¹
CSMA&#x2F;CAï¼šé€šè¿‡ç›‘å¬ä¿¡é“å’Œéšæœºé€€é¿ï¼Œå°½é‡é¿å…å†²çªå‘ç”Ÿã€‚
ACKç¡®è®¤ï¼šæ¯æ¬¡æ•°æ®å‘é€éƒ½éœ€æ¥æ”¶æ–¹è¿”å›ACKï¼Œä¿è¯å¯é æ€§ã€‚
æ— å†²çªæ£€æµ‹ï¼šæ— çº¿ç¯å¢ƒæ— æ³•æ£€æµ‹å†²çªï¼Œåªèƒ½é€šè¿‡ACKæœºåˆ¶é—´æ¥åˆ¤æ–­ã€‚
ä¼˜å…ˆçº§æ§åˆ¶ï¼šé€šè¿‡ä¸åŒçš„IFSï¼ˆSIFSã€PIFSã€DIFSï¼‰å®ç°å¸§ç±»å‹çš„ä¼˜å…ˆçº§è°ƒåº¦ã€‚
RTS&#x2F;CTSæœºåˆ¶ï¼ˆå¯é€‰ï¼‰ï¼šä¸ºè§£å†³éšè—ç»ˆç«¯é—®é¢˜ï¼Œå¯åœ¨æ•°æ®å‘é€å‰å…ˆäº¤æ¢RTS&#x2F;CTSå¸§ï¼Œè¿›ä¸€æ­¥å‡å°‘å†²çªã€‚


DCFæœºåˆ¶ä¿è¯äº†æ— çº¿å±€åŸŸç½‘ä¸­å„ç»ˆç«¯å…¬å¹³ã€æœ‰æ•ˆåœ°ç«äº‰ä¿¡é“ï¼Œé€‚ç”¨äºå¤§å¤šæ•°Wi-Fiåº”ç”¨åœºæ™¯ã€‚


è§£å†³éšè—ç»ˆç«¯é—®é¢˜åœ¨æ— çº¿å±€åŸŸç½‘ä¸­ï¼Œéšè—ç»ˆç«¯é—®é¢˜æ˜¯æŒ‡ä¸¤ä¸ªç»ˆç«¯Aå’ŒCè™½ç„¶éƒ½èƒ½ä¸æ¥å…¥ç‚¹Bé€šä¿¡ï¼Œä½†Aå’ŒCä¹‹é—´äº’ç›¸ä¸å¯è§ï¼ˆå³å½¼æ­¤ä¿¡å·è¦†ç›–ä¸åˆ°ï¼‰ï¼Œå¯¼è‡´å®ƒä»¬å¯èƒ½ä¼šåŒæ—¶å‘Bå‘é€æ•°æ®ï¼Œä»è€Œå‘ç”Ÿå†²çªï¼Œä½†Aå’ŒCæ— æ³•ç›´æ¥æ£€æµ‹åˆ°å¯¹æ–¹çš„å­˜åœ¨ã€‚
1. RTS&#x2F;CTSæœºåˆ¶IEEE 802.11ä¸ºäº†è§£å†³éšè—ç»ˆç«¯é—®é¢˜ï¼Œå¼•å…¥äº†RTS&#x2F;CTSï¼ˆRequest to Send &#x2F; Clear to Sendï¼‰æœºåˆ¶ï¼š

å‘é€å‰åå•†ï¼šå‘é€æ–¹å…ˆå‘é€RTSå¸§ï¼ˆè¯·æ±‚å‘é€ï¼‰ç»™æ¥å…¥ç‚¹ï¼ˆæˆ–ç›®æ ‡ç»ˆç«¯ï¼‰ï¼Œè¯·æ±‚å ç”¨ä¿¡é“ã€‚
æ¥æ”¶æ–¹å“åº”ï¼šæ¥æ”¶æ–¹æ”¶åˆ°RTSåï¼Œè‹¥ä¿¡é“ç©ºé—²ï¼Œåˆ™å›å¤CTSå¸§ï¼ˆå…è®¸å‘é€ï¼‰ã€‚
é€šçŸ¥å‘¨å›´ç»ˆç«¯ï¼šæ”¶åˆ°CTSå¸§çš„æ‰€æœ‰ç»ˆç«¯ä¼šåœ¨æŒ‡å®šæ—¶é—´å†…é¿å…å‘é€æ•°æ®ï¼Œé˜²æ­¢å†²çªã€‚
æ•°æ®å‘é€ï¼šå‘é€æ–¹æ”¶åˆ°CTSåï¼Œç«‹å³å‘é€æ•°æ®å¸§ï¼Œä¿è¯æ•°æ®ä¼ è¾“æœŸé—´ä¿¡é“ç‹¬å ã€‚
ACKç¡®è®¤ï¼šæ•°æ®å¸§å‘é€å®Œæ¯•åï¼Œæ¥æ”¶æ–¹è¿”å›ACKç¡®è®¤å¸§ã€‚

é€šè¿‡RTS&#x2F;CTSæœºåˆ¶ï¼Œå³ä½¿Aå’ŒCäº’ä¸å¯è§ï¼Œåªè¦å®ƒä»¬éƒ½èƒ½æ”¶åˆ°Bçš„CTSï¼Œå°±èƒ½é¿å…åŒæ—¶å‘é€æ•°æ®ï¼Œå‡å°‘å†²çªã€‚

802.11çš„å¸§ç±»å‹å’Œå¸§æ ¼å¼1. 802.11å¸§ç±»å‹IEEE 802.11å®šä¹‰äº†ä¸‰å¤§ç±»å¸§ç±»å‹ï¼š

ç®¡ç†å¸§ï¼ˆManagement Frameï¼‰ï¼šç”¨äºç½‘ç»œçš„å»ºç«‹ã€ç»´æŠ¤å’Œç»ˆæ­¢ï¼Œå¦‚Beaconã€Probeã€Authenticationã€Associationç­‰ã€‚
æ§åˆ¶å¸§ï¼ˆControl Frameï¼‰ï¼šç”¨äºä¿¡é“æ§åˆ¶å’Œæ•°æ®ä¼ è¾“çš„åä½œï¼Œå¦‚RTSã€CTSã€ACKã€PS-Pollç­‰ã€‚
æ•°æ®å¸§ï¼ˆData Frameï¼‰ï¼šç”¨äºå®é™…çš„æ•°æ®ä¼ è¾“ã€‚

2. 802.11å¸§æ ¼å¼å…¸å‹çš„802.11æ•°æ®å¸§æ ¼å¼å¦‚ä¸‹ï¼š



å­—æ®µ
è¯´æ˜



Frame Control
å¸§ç±»å‹ã€å­ç±»å‹ã€æ§åˆ¶ä¿¡æ¯


Duration&#x2F;ID
ä¿¡é“å ç”¨æ—¶é—´æˆ–æ ‡è¯†


Address 1
æ¥æ”¶æ–¹åœ°å€


Address 2
å‘é€æ–¹åœ°å€


Address 3
BSSIDæˆ–ç›®çš„&#x2F;æºåœ°å€


Sequence Control
åºåˆ—å·ã€åˆ†ç‰‡å·


Address 4
ï¼ˆä»…åœ¨WDSæ—¶ä½¿ç”¨ï¼‰


Payload
æ•°æ®è½½è·


crc
å¸§æ ¡éªŒåºåˆ—



802.11å¸§æœ€å¤šå¯åŒ…å«4ä¸ªåœ°å€å­—æ®µï¼Œæ”¯æŒå¤šç§è½¬å‘åœºæ™¯ï¼ˆå¦‚APã€STAã€åˆ†å¸ƒå¼ç³»ç»Ÿç­‰ï¼‰ã€‚
å¸§æ§åˆ¶å­—æ®µåŒ…å«å¸§ç±»å‹ã€å­ç±»å‹ã€åŠ å¯†ã€é‡ä¼ ç­‰æ§åˆ¶ä¿¡æ¯ã€‚



802.11ä¸ä»¥å¤ªç½‘å¸§æ ¼å¼æ¯”è¾ƒ


å¯¹æ¯”é¡¹
802.11å¸§æ ¼å¼
ä»¥å¤ªç½‘å¸§æ ¼å¼



åœ°å€å­—æ®µ
æœ€å¤š4ä¸ªï¼ˆæ”¯æŒAPã€STAã€DSç­‰åœºæ™¯ï¼‰
2ä¸ªï¼ˆæºMACã€ç›®çš„MACï¼‰


å¸§ç±»å‹
ç®¡ç†å¸§ã€æ§åˆ¶å¸§ã€æ•°æ®å¸§
ä»…æ•°æ®å¸§


æ§åˆ¶å­—æ®µ
å¸§æ§åˆ¶ã€åºåˆ—æ§åˆ¶ã€æŒç»­æ—¶é—´ç­‰
ç±»å‹&#x2F;é•¿åº¦å­—æ®µ


æ ¡éªŒ
FCS
FCS


é€‚ç”¨åœºæ™¯
æ— çº¿å±€åŸŸç½‘ï¼Œæ”¯æŒå¤šè·³ã€æ¼«æ¸¸
æœ‰çº¿å±€åŸŸç½‘ï¼Œç‚¹å¯¹ç‚¹æˆ–å¹¿æ’­


å…¶ä»–
æ”¯æŒåŠ å¯†ã€åˆ†ç‰‡ã€åŠŸç‡ç®¡ç†ç­‰
ä¸æ”¯æŒ



802.11å¸§ç»“æ„æ›´å¤æ‚ï¼Œé€‚åº”æ— çº¿ç¯å¢ƒçš„å¤šæ ·éœ€æ±‚ï¼Œå¦‚æ¼«æ¸¸ã€åŠŸç‡ç®¡ç†ã€åŠ å¯†ç­‰ã€‚
ä»¥å¤ªç½‘å¸§ç»“æ„ç®€å•ï¼Œä¸»è¦ç”¨äºæœ‰çº¿ç‚¹å¯¹ç‚¹æˆ–å¹¿æ’­é€šä¿¡ã€‚


éå¯¹ç§°åŠ å¯†ç®—æ³•ï¼šRSAç®—æ³•1. å¯†é’¥ç”Ÿæˆè¿‡ç¨‹
é€‰æ‹©ä¸¤ä¸ªå¤§ç´ æ•°ï¼šéšæœºé€‰æ‹©ä¸¤ä¸ªè¶³å¤Ÿå¤§çš„ç´ æ•°på’Œqã€‚
è®¡ç®—æ¨¡æ•°nï¼šn &#x3D; p Ã— qï¼Œnå°†ä½œä¸ºå…¬é’¥å’Œç§é’¥çš„ä¸€éƒ¨åˆ†ã€‚
è®¡ç®—æ¬§æ‹‰å‡½æ•°Ï†(n)ï¼šÏ†(n) &#x3D; (p-1) Ã— (q-1)ã€‚
é€‰æ‹©å…¬é’¥æŒ‡æ•°eï¼šé€‰æ‹©ä¸€ä¸ªä¸Ï†(n)äº’è´¨çš„æ•´æ•°eï¼ˆ1 &lt; e &lt; Ï†(n)ï¼‰ï¼Œå¸¸ç”¨65537ã€‚
è®¡ç®—ç§é’¥æŒ‡æ•°dï¼šdæ˜¯eå…³äºÏ†(n)çš„æ¨¡åå…ƒç´ ï¼Œå³æ»¡è¶³ e Ã— d â‰¡ 1 (mod Ï†(n))ã€‚
å…¬é’¥å’Œç§é’¥ï¼š
å…¬é’¥ï¼š(n, e)
ç§é’¥ï¼š(n, d)



2. RSAåŠ å¯†å’Œè§£å¯†è®¡ç®—è¿‡ç¨‹
åŠ å¯†è¿‡ç¨‹ï¼šæ˜æ–‡Mï¼Œå¯†æ–‡Cçš„è®¡ç®—å…¬å¼ä¸ºï¼šC &#x3D; M^e mod n

è§£å¯†è¿‡ç¨‹ï¼šå¯†æ–‡Cï¼Œæ˜æ–‡Mçš„è®¡ç®—å…¬å¼ä¸ºï¼šM &#x3D; C^d mod n


3. åŸç†è¯´æ˜
RSAæ˜¯ä¸€ç§å…¸å‹çš„å…¬é’¥åŠ å¯†ç®—æ³•ï¼Œå±äºéå¯¹ç§°åŠ å¯†ï¼Œå®‰å…¨æ€§åŸºäºå¤§æ•°åˆ†è§£éš¾é¢˜ã€‚
åŠ å¯†å¯†é’¥å’Œè§£å¯†å¯†é’¥ä¸åŒï¼Œå…¬é’¥å¯å…¬å¼€ï¼Œç§é’¥éœ€ä¿å¯†ã€‚
æ—¢å¯ç”¨äºåŠ å¯†æ•°æ®ï¼Œä¹Ÿå¯ç”¨äºæ•°å­—ç­¾åï¼ˆç”¨ç§é’¥åŠ å¯†æ‘˜è¦ï¼Œå…¬é’¥éªŒè¯ï¼‰ã€‚


RSAç®—æ³•å¹¿æ³›åº”ç”¨äºæ•°æ®åŠ å¯†ã€èº«ä»½è®¤è¯å’Œæ•°å­—ç­¾åç­‰åœºæ™¯ï¼Œæ˜¯ç°ä»£ç½‘ç»œå®‰å…¨çš„åŸºç¡€ç®—æ³•ä¹‹ä¸€ã€‚


å…¬é’¥ç³»ç»Ÿç›¸å…³çŸ¥è¯†è¯¦è§£1. å…¬é’¥åŠ å¯†æœºåˆ¶çš„ç»„æˆå…ƒç´ 
å…¬é’¥ï¼ˆPublic Keyï¼‰ä¸ç§é’¥ï¼ˆPrivate Keyï¼‰ï¼šæ¯ä¸ªç”¨æˆ·æ‹¥æœ‰ä¸€å¯¹å¯†é’¥ï¼Œå…¬é’¥å…¬å¼€ï¼Œç§é’¥ä¿å¯†ã€‚
åŠ å¯†ç®—æ³•ï¼šå¦‚RSAã€ElGamalç­‰ï¼Œåˆ©ç”¨å…¬é’¥åŠ å¯†ã€ç§é’¥è§£å¯†ï¼Œå®ç°æœºå¯†æ€§ã€‚
ç­¾åç®—æ³•ï¼šç”¨ç§é’¥å¯¹æ¶ˆæ¯æ‘˜è¦ç­¾åï¼Œå…¬é’¥éªŒè¯ç­¾åï¼Œå®ç°è®¤è¯ä¸å®Œæ•´æ€§ã€‚
å¯†é’¥åˆ†å‘ä¸ç®¡ç†ï¼šå¦‚ä½•å®‰å…¨åœ°åˆ†å‘å’Œç®¡ç†å…¬é’¥ï¼Œé˜²æ­¢ä¼ªé€ å’Œä¸­é—´äººæ”»å‡»ã€‚

2. åŠ å¯†å’Œæ•°å­—ç­¾å
åŠ å¯†ï¼šå‘é€æ–¹ç”¨æ¥æ”¶æ–¹çš„å…¬é’¥åŠ å¯†æ¶ˆæ¯ï¼Œåªæœ‰æ¥æ”¶æ–¹èƒ½ç”¨ç§é’¥è§£å¯†ï¼Œä¿è¯æœºå¯†æ€§ã€‚
æ•°å­—ç­¾åï¼šå‘é€æ–¹ç”¨è‡ªå·±çš„ç§é’¥å¯¹æ¶ˆæ¯æ‘˜è¦åŠ å¯†ï¼ˆç­¾åï¼‰ï¼Œæ¥æ”¶æ–¹ç”¨å‘é€æ–¹å…¬é’¥éªŒè¯ç­¾åï¼Œä¿è¯æ¶ˆæ¯æ¥æºå’Œå®Œæ•´æ€§ï¼Œé˜²æ­¢å¦è®¤ã€‚

3. Diffie-Hellmanå¯†é’¥äº¤æ¢è¿‡ç¨‹
Diffie-Hellmanæ˜¯ä¸€ç§å®‰å…¨çš„å¯†é’¥åå•†åè®®ï¼Œå…è®¸åŒæ–¹åœ¨ä¸å®‰å…¨ä¿¡é“ä¸Šåå•†å‡ºä¸€ä¸ªå…±äº«å¯†é’¥ã€‚
è¿‡ç¨‹ç®€è¿°ï¼š
åŒæ–¹çº¦å®šä¸€ä¸ªå¤§ç´ æ•°på’ŒåŸºgã€‚
Aé€‰æ‹©éšæœºæ•°aï¼Œè®¡ç®—A &#x3D; g^a mod pï¼Œå‘é€ç»™Bã€‚
Bé€‰æ‹©éšæœºæ•°bï¼Œè®¡ç®—B &#x3D; g^b mod pï¼Œå‘é€ç»™Aã€‚
Aè®¡ç®—å…±äº«å¯†é’¥K &#x3D; B^a mod pï¼ŒBè®¡ç®—K &#x3D; A^b mod pï¼Œç»“æœç›¸åŒã€‚


ç‰¹ç‚¹ï¼šå¯†é’¥åå•†è¿‡ç¨‹å³ä½¿è¢«çªƒå¬ï¼Œæ”»å‡»è€…ä¹Ÿæ— æ³•æ¨ç®—å‡ºæœ€ç»ˆå¯†é’¥ï¼ˆåŸºäºç¦»æ•£å¯¹æ•°éš¾é¢˜ï¼‰ã€‚

4. æ•°å­—è¯ä¹¦çš„æ¦‚å¿µå’Œæ„é€ ï¼ŒCA
æ•°å­—è¯ä¹¦ï¼ˆDigital Certificateï¼‰ï¼šç”±æƒå¨æœºæ„ï¼ˆCAï¼Œè¯ä¹¦æˆæƒä¸­å¿ƒï¼‰ç­¾å‘ï¼Œç»‘å®šå…¬é’¥ä¸èº«ä»½ä¿¡æ¯ï¼Œé˜²æ­¢å…¬é’¥ä¼ªé€ ã€‚
å†…å®¹ï¼šæŒæœ‰è€…èº«ä»½ã€å…¬é’¥ã€æœ‰æ•ˆæœŸã€CAç­¾åç­‰ã€‚
CAï¼ˆCertificate Authorityï¼‰ï¼šè´Ÿè´£éªŒè¯èº«ä»½ã€ç­¾å‘å’ŒåŠé”€è¯ä¹¦ï¼Œæ˜¯ä¿¡ä»»é“¾çš„æ ¹ã€‚
ä½œç”¨ï¼šé€šè¿‡è¯ä¹¦é“¾å’ŒCAç­¾åï¼Œç”¨æˆ·å¯éªŒè¯å¯¹æ–¹å…¬é’¥çš„çœŸå®æ€§ï¼Œé˜²æ­¢ä¸­é—´äººæ”»å‡»ã€‚

5. å®‰å…¨ç”µå­é‚®ä»¶ç³»ç»Ÿè®¾è®¡
ç›®æ ‡ï¼šä¿è¯é‚®ä»¶çš„æœºå¯†æ€§ã€å®Œæ•´æ€§ã€è®¤è¯å’Œä¸å¯å¦è®¤æ€§ã€‚
å¸¸ç”¨æ–¹æ¡ˆï¼š
åŠ å¯†ï¼šç”¨æ”¶ä»¶äººå…¬é’¥åŠ å¯†é‚®ä»¶å†…å®¹ï¼Œé˜²æ­¢è¢«çªƒå¬ã€‚
æ•°å­—ç­¾åï¼šå‘ä»¶äººç”¨ç§é’¥ç­¾åé‚®ä»¶ï¼Œæ”¶ä»¶äººç”¨å…¬é’¥éªŒè¯ï¼Œä¿è¯æ¥æºå’Œå†…å®¹æœªè¢«ç¯¡æ”¹ã€‚
æ•°å­—è¯ä¹¦ï¼šç”¨äºåˆ†å‘å’ŒéªŒè¯å…¬é’¥ï¼Œé˜²æ­¢ä¼ªé€ ã€‚


å…¸å‹åè®®ï¼šPGPï¼ˆPretty Good Privacyï¼‰ã€S&#x2F;MIMEï¼ˆå®‰å…¨å¤šç”¨é€”äº’è”ç½‘é‚®ä»¶æ‰©å±•ï¼‰ã€‚
æµç¨‹ï¼š
å‘ä»¶äººå¯¹é‚®ä»¶å†…å®¹åšæ‘˜è¦å¹¶ç­¾åã€‚
ç”¨æ”¶ä»¶äººå…¬é’¥åŠ å¯†é‚®ä»¶å’Œç­¾åã€‚
æ”¶ä»¶äººç”¨ç§é’¥è§£å¯†ï¼Œå†ç”¨å‘ä»¶äººå…¬é’¥éªŒè¯ç­¾åã€‚




æ€»ç»“ï¼šå…¬é’¥ç³»ç»Ÿé€šè¿‡åŠ å¯†ã€ç­¾åã€å¯†é’¥äº¤æ¢å’Œæ•°å­—è¯ä¹¦ç­‰æœºåˆ¶ï¼Œä¿éšœäº†ç½‘ç»œé€šä¿¡çš„å®‰å…¨æ€§å’Œå¯é æ€§ï¼Œå¹¿æ³›åº”ç”¨äºHTTPSã€VPNã€å®‰å…¨é‚®ä»¶ç­‰åœºæ™¯ã€‚

NATåŸç†åŠä¼˜ç¼ºç‚¹**NATï¼ˆNetwork Address Translationï¼Œç½‘ç»œåœ°å€è½¬æ¢ï¼‰**æ˜¯ä¸€ç§å°†ç§æœ‰ç½‘ç»œåœ°å€ä¸å…¬ç½‘åœ°å€è¿›è¡Œè½¬æ¢çš„æŠ€æœ¯ï¼Œå¸¸ç”¨äºå±€åŸŸç½‘ä¸»æœºå…±äº«ä¸Šç½‘ã€‚

åŸç†ï¼šNATè®¾å¤‡ï¼ˆå¦‚è·¯ç”±å™¨ï¼‰åœ¨æ•°æ®åŒ…é€šè¿‡æ—¶ï¼Œå°†ç§æœ‰IPåœ°å€å’Œç«¯å£å·è½¬æ¢ä¸ºå…¬ç½‘IPå’Œç«¯å£å·ï¼Œè¿”å›æ—¶å†è½¬æ¢å›æ¥ã€‚
ç±»å‹ï¼š
é™æ€NATï¼šä¸€ä¸€æ˜ å°„ï¼Œç§æœ‰IPå’Œå…¬ç½‘IPå›ºå®šå¯¹åº”ã€‚
åŠ¨æ€NATï¼šä»å…¬ç½‘IPæ± ä¸­åŠ¨æ€åˆ†é…å…¬ç½‘åœ°å€ã€‚
NAPTï¼ˆç«¯å£å¤ç”¨ï¼‰ï¼šå¤šä¸ªç§æœ‰IPé€šè¿‡åŒä¸€å…¬ç½‘IPå‡ºç½‘ï¼Œé ç«¯å£å·åŒºåˆ†ã€‚


ä¼˜ç‚¹ï¼š
èŠ‚çœå…¬ç½‘IPåœ°å€èµ„æºã€‚
éšè—å†…éƒ¨ç½‘ç»œç»“æ„ï¼Œæé«˜å®‰å…¨æ€§ã€‚
æ”¯æŒå±€åŸŸç½‘ä¸»æœºå…±äº«ä¸Šç½‘ã€‚


ç¼ºç‚¹ï¼š
ç ´åç«¯åˆ°ç«¯é€šä¿¡ï¼ŒæŸäº›åè®®ï¼ˆå¦‚P2Pã€VoIPï¼‰å…¼å®¹æ€§å·®ã€‚
éœ€è¦ç‰¹æ®Šå¤„ç†ç«¯å£æ˜ å°„å’ŒæŸäº›åº”ç”¨å±‚åè®®ã€‚
å½±å“IPåŒ…å¤´æ ¡éªŒå’Œï¼Œå¢åŠ å¤„ç†å¼€é”€ã€‚




ARPåœ°å€è§£æåŸç†å’Œæµç¨‹**ARPï¼ˆAddress Resolution Protocolï¼Œåœ°å€è§£æåè®®ï¼‰**ç”¨äºå°†IPåœ°å€è§£æä¸ºå¯¹åº”çš„MACåœ°å€ï¼Œå·¥ä½œåœ¨ç½‘ç»œå±‚ä¸æ•°æ®é“¾è·¯å±‚ä¹‹é—´ã€‚

åŸç†ï¼šä¸»æœºå·²çŸ¥ç›®æ ‡IPåœ°å€ï¼Œä½†ä¸çŸ¥é“å…¶MACåœ°å€æ—¶ï¼Œé€šè¿‡ARPåè®®æŸ¥è¯¢ã€‚
æµç¨‹ï¼š
ä¸»æœºåœ¨å±€åŸŸç½‘å†…å¹¿æ’­ARPè¯·æ±‚åŒ…ï¼Œè¯¢é—®â€œè°æ˜¯è¿™ä¸ªIPåœ°å€ï¼Œè¯·å‘Šè¯‰æˆ‘ä½ çš„MACåœ°å€â€ã€‚
ç›®æ ‡ä¸»æœºæ”¶åˆ°åï¼Œå›å¤ARPå“åº”åŒ…ï¼Œå‘ŠçŸ¥è‡ªå·±çš„MACåœ°å€ã€‚
å‘é€æ–¹æ”¶åˆ°å“åº”åï¼Œå°†IP-MACæ˜ å°„ç¼“å­˜åˆ°æœ¬åœ°ARPè¡¨ä¸­ï¼Œåç»­ç›´æ¥ä½¿ç”¨ã€‚


ç‰¹ç‚¹ï¼š
é‡‡ç”¨å¹¿æ’­æ–¹å¼ï¼Œé€‚åˆå±€åŸŸç½‘ã€‚
æœ‰ARPç¼“å­˜ï¼Œå‡å°‘é¢‘ç¹å¹¿æ’­ã€‚
å­˜åœ¨ARPæ¬ºéª—ç­‰å®‰å…¨éšæ‚£ã€‚




DHCPåŠ¨æ€åœ°å€è·å–çš„è¿‡ç¨‹**DHCPï¼ˆDynamic Host Configuration Protocolï¼‰**ç”¨äºè‡ªåŠ¨ä¸ºä¸»æœºåˆ†é…IPåœ°å€åŠç›¸å…³ç½‘ç»œå‚æ•°ã€‚

æµç¨‹ï¼š
Discoverï¼šå®¢æˆ·ç«¯å¹¿æ’­DHCP DiscoveræŠ¥æ–‡ï¼Œå¯»æ‰¾DHCPæœåŠ¡å™¨ã€‚
Offerï¼šæœåŠ¡å™¨å“åº”ï¼Œæä¾›å¯ç”¨IPåœ°å€å’Œé…ç½®ä¿¡æ¯ï¼ˆDHCP Offerï¼‰ã€‚
Requestï¼šå®¢æˆ·ç«¯é€‰æ‹©ä¸€ä¸ªæœåŠ¡å™¨ï¼Œå¹¿æ’­DHCP RequestæŠ¥æ–‡ï¼Œç”³è¯·è¯¥IPã€‚
ACKï¼šæœåŠ¡å™¨ç¡®è®¤åˆ†é…ï¼Œå‘é€DHCP ACKæŠ¥æ–‡ï¼Œå®¢æˆ·ç«¯è·å¾—IPåœ°å€ã€‚


ä¼˜ç‚¹ï¼š
è‡ªåŠ¨åˆ†é…IPï¼Œç®€åŒ–ç®¡ç†ã€‚
æ”¯æŒIPåœ°å€åŠ¨æ€åˆ†é…ã€å›æ”¶å’Œç»­ç§Ÿã€‚


åº”ç”¨åœºæ™¯ï¼šä¼ä¸šã€æ ¡å›­ã€å®¶åº­ç­‰å„ç§IPç½‘ç»œç¯å¢ƒã€‚


ICMPï¼šç”¨äºå‘é€å‡ºé”™ä¿¡æ¯ï¼ŒPingå’Œtracerouteçš„å®ç°åŸç†**ICMPï¼ˆInternet Control Message Protocolï¼Œäº’è”ç½‘æ§åˆ¶æŠ¥æ–‡åè®®ï¼‰**æ˜¯IPåè®®çš„è¾…åŠ©åè®®ï¼Œä¸»è¦ç”¨äºå‘é€ç½‘ç»œé”™è¯¯æŠ¥å‘Šå’Œè¯Šæ–­ä¿¡æ¯ã€‚

ä½œç”¨ï¼š
å‘é€ç½‘ç»œå±‚é”™è¯¯ä¿¡æ¯ï¼ˆå¦‚ç›®æ ‡ä¸å¯è¾¾ã€è¶…æ—¶ç­‰ï¼‰ã€‚
æ”¯æŒç½‘ç»œè¯Šæ–­å·¥å…·ï¼ˆå¦‚Pingã€tracerouteï¼‰ã€‚



PingåŸç†
Pingåˆ©ç”¨ICMPçš„Echo Requestï¼ˆå›æ˜¾è¯·æ±‚ï¼‰å’ŒEcho Replyï¼ˆå›æ˜¾åº”ç­”ï¼‰æŠ¥æ–‡æµ‹è¯•ä¸»æœºè¿é€šæ€§å’Œæ—¶å»¶ã€‚
æµç¨‹ï¼šå‘é€æ–¹å‘ç›®æ ‡ä¸»æœºå‘é€ICMP Echo Requestï¼Œç›®æ ‡ä¸»æœºæ”¶åˆ°åå›å¤Echo Replyï¼Œå‘é€æ–¹ç»Ÿè®¡å¾€è¿”æ—¶é—´å’Œä¸¢åŒ…ç‡ã€‚

TracerouteåŸç†
Tracerouteç”¨äºæ¢æµ‹æ•°æ®åŒ…åˆ°ç›®æ ‡ä¸»æœºæ‰€ç»è¿‡çš„è·¯ç”±è·¯å¾„ã€‚
å®ç°æ–¹å¼ï¼šå‘é€TTLï¼ˆç”Ÿå­˜æ—¶é—´ï¼‰é€’å¢çš„IPåŒ…ï¼Œæ¯ç»è¿‡ä¸€ä¸ªè·¯ç”±å™¨TTLå‡1ï¼ŒTTLä¸º0æ—¶è·¯ç”±å™¨è¿”å›ICMPè¶…æ—¶æŠ¥æ–‡ï¼Œå‘é€æ–¹æ®æ­¤ç¡®å®šè·¯å¾„ä¸Šçš„æ¯ä¸€è·³ã€‚
æœ€ç»ˆç›®æ ‡ä¸»æœºæ”¶åˆ°åŒ…åè¿”å›ICMPç«¯å£ä¸å¯è¾¾æˆ–Echo Replyï¼Œè·¯å¾„æ¢æµ‹å®Œæˆã€‚


æ€»ç»“ï¼š  

NATå®ç°ç§æœ‰ç½‘ç»œä¸å…¬ç½‘çš„åœ°å€è½¬æ¢ï¼ŒèŠ‚çœIPèµ„æºä½†å½±å“ç«¯åˆ°ç«¯é€šä¿¡ã€‚
ARPå®ç°IPåˆ°MACçš„æ˜ å°„ï¼Œä¿è¯å±€åŸŸç½‘å†…é€šä¿¡ã€‚
DHCPè‡ªåŠ¨åˆ†é…IPåœ°å€ï¼Œç®€åŒ–ç½‘ç»œç®¡ç†ã€‚
ICMPç”¨äºç½‘ç»œé”™è¯¯æŠ¥å‘Šå’Œè¯Šæ–­ï¼ŒPingå’Œtracerouteæ˜¯å¸¸ç”¨çš„ç½‘ç»œæµ‹è¯•å·¥å…·ã€‚


è‡ªæ²»ç³»ç»Ÿä¸è·¯ç”±æ–¹å¼è¯¦è§£1. IGPä¸EGPçš„æ¦‚å¿µ
è‡ªæ²»ç³»ç»Ÿï¼ˆAS, Autonomous Systemï¼‰ï¼šç”±åŒä¸€æŠ€æœ¯ç®¡ç†å’Œè·¯ç”±ç­–ç•¥æ§åˆ¶çš„ä¸€ç»„IPç½‘ç»œå’Œè·¯ç”±å™¨ï¼Œé€šå¸¸ç”±ä¸€ä¸ªè¿è¥å•†æˆ–å¤§å‹æœºæ„ç®¡ç†ã€‚
IGPï¼ˆInterior Gateway Protocolï¼Œå†…éƒ¨ç½‘å…³åè®®ï¼‰ï¼šç”¨äºASå†…éƒ¨å„è·¯ç”±å™¨ä¹‹é—´çš„è·¯ç”±ä¿¡æ¯äº¤æ¢å’Œè·¯å¾„é€‰æ‹©ï¼Œå¦‚RIPã€OSPFç­‰ã€‚
EGPï¼ˆExterior Gateway Protocolï¼Œå¤–éƒ¨ç½‘å…³åè®®ï¼‰ï¼šç”¨äºä¸åŒASä¹‹é—´çš„è·¯ç”±ä¿¡æ¯äº¤æ¢å’Œè·¯å¾„é€‰æ‹©ï¼Œå½“å‰ä¸»è¦æŒ‡BGPã€‚

2. å†…éƒ¨è·¯ç”±åè®®ï¼ˆIGPï¼‰
è·ç¦»å‘é‡åè®®ï¼ˆRIP, Routing Information Protocolï¼‰

åŸºäºè·ç¦»å‘é‡ç®—æ³•ï¼Œæ¯ä¸ªè·¯ç”±å™¨å®šæœŸå‘é‚»å±…å¹¿æ’­è‡ªå·±çš„è·¯ç”±è¡¨ã€‚
è·³æ•°ä½œä¸ºåº¦é‡ï¼Œæœ€å¤§è·³æ•°ä¸º15ï¼Œ16è¡¨ç¤ºä¸å¯è¾¾ã€‚
å®ç°ç®€å•ï¼Œé€‚åˆå°å‹ç½‘ç»œï¼Œä½†æ”¶æ•›æ…¢ï¼Œæ˜“äº§ç”Ÿç¯è·¯ã€‚


é“¾è·¯çŠ¶æ€åè®®ï¼ˆOSPF, Open Shortest Path Firstï¼‰

åŸºäºé“¾è·¯çŠ¶æ€ç®—æ³•ï¼Œè·¯ç”±å™¨é€šè¿‡æ´ªæ³›æ–¹å¼é€šå‘Šé“¾è·¯çŠ¶æ€ä¿¡æ¯ï¼Œè·å¾—å…¨ç½‘æ‹“æ‰‘ã€‚
ä½¿ç”¨Dijkstraç®—æ³•è®¡ç®—æœ€çŸ­è·¯å¾„ï¼Œåº¦é‡ä¸ºâ€œæˆæœ¬â€ã€‚
æ”¶æ•›å¿«ï¼Œæ”¯æŒå¤§è§„æ¨¡ç½‘ç»œå’Œåˆ†å±‚è®¾è®¡ï¼ˆåŒºåŸŸAreaï¼‰ï¼Œå¹¿æ³›åº”ç”¨äºä¼ä¸šå’Œè¿è¥å•†ç½‘ç»œã€‚


è·¯ç”±ç»“æ„å›¾ä¸è·¯ç”±è¡¨çš„ç”Ÿæˆ

è·ç¦»å‘é‡åè®®é€šè¿‡é‚»å±…ä¿¡æ¯é€æ­¥æ›´æ–°è·¯ç”±è¡¨ã€‚
é“¾è·¯çŠ¶æ€åè®®é€šè¿‡å…¨ç½‘æ‹“æ‰‘å›¾è®¡ç®—æœ€ä¼˜è·¯å¾„ï¼Œç”Ÿæˆè·¯ç”±è¡¨ã€‚



3. BGPï¼ˆè¾¹ç•Œç½‘å…³åè®®ï¼‰
BGPçš„åŠŸèƒ½

BGPï¼ˆBorder Gateway Protocolï¼‰æ˜¯ç›®å‰äº’è”ç½‘ä¸­å”¯ä¸€å¹¿æ³›ä½¿ç”¨çš„EGPåè®®ã€‚
ä¸»è¦ç”¨äºä¸åŒASä¹‹é—´çš„è·¯ç”±ä¿¡æ¯äº¤æ¢ï¼Œå®ç°äº’è”ç½‘èŒƒå›´çš„è·¯ç”±å¯è¾¾æ€§å’Œç­–ç•¥æ§åˆ¶ã€‚
æ”¯æŒè·¯ç”±èšåˆã€ç¯è·¯é¿å…ã€ç­–ç•¥è¿‡æ»¤ç­‰é«˜çº§åŠŸèƒ½ã€‚


BGPçš„åŸºæœ¬æŠ¥æ–‡ç±»å‹å’Œå·¥ä½œæ–¹å¼

æŠ¥æ–‡ç±»å‹ï¼šOPENï¼ˆå»ºç«‹è¿æ¥ï¼‰ã€UPDATEï¼ˆé€šå‘Šè·¯ç”±ï¼‰ã€KEEPALIVEï¼ˆä¿æŒè¿æ¥ï¼‰ã€NOTIFICATIONï¼ˆé”™è¯¯é€šçŸ¥ï¼‰ã€‚
å·¥ä½œæ–¹å¼ï¼š
BGPè·¯ç”±å™¨ä¹‹é—´å»ºç«‹TCPè¿æ¥ï¼Œäº¤æ¢OPENæŠ¥æ–‡å»ºç«‹é‚»å±…å…³ç³»ã€‚
é€šè¿‡UPDATEæŠ¥æ–‡é€šå‘Šå¯è¾¾å‰ç¼€å’Œæ’¤é”€è·¯ç”±ã€‚
å®šæœŸå‘é€KEEPALIVEæŠ¥æ–‡ä¿æŒè¿æ¥ã€‚
æ”¯æŒè·¯å¾„å‘é‡æœºåˆ¶ï¼Œé€šè¿‡AS Pathç­‰å±æ€§é¿å…ç¯è·¯ã€‚
æ”¯æŒçµæ´»çš„è·¯ç”±ç­–ç•¥å’Œè¿‡æ»¤ï¼Œé€‚åº”å¤æ‚çš„äº’è”ç½‘ç¯å¢ƒã€‚






æ€»ç»“ï¼š  

IGPï¼ˆå¦‚RIPã€OSPFï¼‰ç”¨äºASå†…éƒ¨è·¯ç”±ï¼Œä¾§é‡äºå¿«é€Ÿæ”¶æ•›å’Œæœ€ä¼˜è·¯å¾„é€‰æ‹©ã€‚
EGPï¼ˆä¸»è¦æ˜¯BGPï¼‰ç”¨äºASä¹‹é—´è·¯ç”±ï¼Œä¾§é‡äºç­–ç•¥æ§åˆ¶å’Œå…¨ç½‘å¯è¾¾æ€§ã€‚
è·¯ç”±è¡¨çš„ç”Ÿæˆæ–¹å¼å’Œåè®®æœºåˆ¶å†³å®šäº†ç½‘ç»œçš„è§„æ¨¡ã€æ”¶æ•›é€Ÿåº¦å’Œçµæ´»æ€§ã€‚


å¯é ä¼ è¾“åè®®çš„è®¾è®¡è¦ç‚¹å¯é ä¼ è¾“åè®®ï¼ˆå¦‚TCPï¼‰éœ€è¦ä¿è¯æ•°æ®åœ¨ä¸å¯é ä¿¡é“ä¸Šä¼ è¾“æ—¶çš„æ­£ç¡®æ€§ã€å®Œæ•´æ€§å’Œé¡ºåºã€‚ä¸»è¦è®¾è®¡è¦ç‚¹å¦‚ä¸‹ï¼š

æ•°æ®åŒ…æŸåæ£€æµ‹ï¼šæ ¡éªŒå’Œã€ACKã€NAKä¿¡å·

æ ¡éªŒå’Œï¼šæ¯ä¸ªæ•°æ®åŒ…éƒ½å¸¦æœ‰æ ¡éªŒå’Œï¼Œæ¥æ”¶æ–¹æ”¶åˆ°åè¿›è¡Œæ ¡éªŒï¼Œå‘ç°é”™è¯¯åˆ™ä¸¢å¼ƒã€‚
ACKï¼ˆç¡®è®¤ï¼‰ä¿¡å·ï¼šæ¥æ”¶æ–¹æ”¶åˆ°æ­£ç¡®çš„æ•°æ®åŒ…åï¼Œå‘é€ACKç¡®è®¤ç»™å‘é€æ–¹ã€‚
NAKï¼ˆå¦è®¤ï¼‰ä¿¡å·ï¼šæ¥æ”¶æ–¹æ£€æµ‹åˆ°æ•°æ®åŒ…æŸåæ—¶ï¼Œå‘é€NAKï¼Œé€šçŸ¥å‘é€æ–¹é‡ä¼ ã€‚


æ•°æ®åŒ…ä¸¢å¤±æ£€æµ‹ï¼šè¶…æ—¶è®¡æ—¶å™¨

å‘é€æ–¹åœ¨å‘é€æ•°æ®åŒ…åå¯åŠ¨è¶…æ—¶è®¡æ—¶å™¨ï¼Œè‹¥åœ¨è§„å®šæ—¶é—´å†…æœªæ”¶åˆ°ACKï¼Œåˆ™è®¤ä¸ºæ•°æ®åŒ…ä¸¢å¤±ï¼Œè‡ªåŠ¨é‡ä¼ ã€‚


æŒ‰åºäº¤ä»˜ã€å‰¯æœ¬æ£€æµ‹ï¼šåºåˆ—å·æœºåˆ¶

æ¯ä¸ªæ•°æ®åŒ…åˆ†é…å”¯ä¸€çš„åºåˆ—å·ï¼Œæ¥æ”¶æ–¹æ ¹æ®åºåˆ—å·åˆ¤æ–­æ•°æ®åŒ…é¡ºåºï¼Œä¿è¯æŒ‰åºäº¤ä»˜ã€‚
åºåˆ—å·è¿˜èƒ½åŒºåˆ†æ–°æ—§æ•°æ®ï¼Œé˜²æ­¢é‡å¤åŒ…è¢«è¯¯æ”¶ã€‚
è¦æ±‚åºåˆ—å·ç©ºé—´è¶³å¤Ÿå¤§ï¼Œä»¥é¿å…åºåˆ—å·å›ç»•å¯¼è‡´çš„æ··æ·†ã€‚


ä¼ è¾“æ•ˆç‡ï¼šæµæ°´çº¿åè®®

ä¸ºæé«˜æ•ˆç‡ï¼Œé‡‡ç”¨æµæ°´çº¿åè®®ï¼ˆå¦‚æ»‘åŠ¨çª—å£åè®®ï¼‰ï¼Œå…è®¸å‘é€æ–¹åœ¨æœªæ”¶åˆ°ACKå‰è¿ç»­å‘é€å¤šä¸ªæ•°æ®åŒ…ï¼Œæé«˜ä¿¡é“åˆ©ç”¨ç‡ã€‚




æ€»ç»“ï¼šå¯é ä¼ è¾“åè®®é€šè¿‡æ ¡éªŒå’Œã€ACK&#x2F;NAKã€è¶…æ—¶é‡ä¼ ã€åºåˆ—å·å’Œæµæ°´çº¿æœºåˆ¶ï¼Œç¡®ä¿æ•°æ®å¯é ã€æœ‰åºã€é«˜æ•ˆåœ°ä¼ è¾“åˆ°æ¥æ”¶æ–¹ã€‚

æµé‡æ§åˆ¶æµé‡æ§åˆ¶ç”¨äºé˜²æ­¢å‘é€æ–¹å‘é€è¿‡å¿«å¯¼è‡´æ¥æ”¶æ–¹ç¼“å­˜æº¢å‡ºï¼Œä¿è¯ç«¯åˆ°ç«¯é€šä¿¡çš„å¯é æ€§å’Œé«˜æ•ˆæ€§ã€‚ä¸»è¦æœºåˆ¶åŒ…æ‹¬ï¼š

æ»‘åŠ¨çª—å£æœºåˆ¶çš„è®¾è®¡

æ»‘åŠ¨çª—å£æ˜¯ä¸€ç§å…è®¸å‘é€æ–¹åœ¨æœªæ”¶åˆ°ACKå‰å¯ä»¥è¿ç»­å‘é€å¤šä¸ªæ•°æ®åŒ…çš„æœºåˆ¶ã€‚
å‘é€çª—å£å’Œæ¥æ”¶çª—å£åˆ†åˆ«æ§åˆ¶å‘é€æ–¹å’Œæ¥æ”¶æ–¹çš„ç¼“å­˜å’Œæ•°æ®æµåŠ¨ã€‚
çª—å£çš„â€œæ»‘åŠ¨â€è¡¨ç¤ºéšç€ACKçš„åˆ°æ¥ï¼Œçª—å£èŒƒå›´å‘å‰ç§»åŠ¨ï¼Œå…è®¸å‘é€æ–°çš„æ•°æ®ã€‚


ä¿¡ç”¨é‡çª—å£ï¼ˆCredit Windowï¼‰

ä¿¡ç”¨é‡çª—å£æ˜¯æ¥æ”¶æ–¹æ ¹æ®è‡ªèº«ç¼“å†²åŒºå‰©ä½™ç©ºé—´ï¼ŒåŠ¨æ€å‘ŠçŸ¥å‘é€æ–¹è¿˜èƒ½å‘é€å¤šå°‘æ•°æ®ã€‚
å‘é€æ–¹æ ¹æ®æ¥æ”¶æ–¹é€šå‘Šçš„çª—å£å¤§å°è°ƒæ•´è‡ªå·±çš„å‘é€é€Ÿç‡ï¼Œé˜²æ­¢æ¥æ”¶æ–¹æº¢å‡ºã€‚


TCPå¤åˆçš„çª—å£ç®¡ç†æ–¹å¼

TCPæµé‡æ§åˆ¶é‡‡ç”¨æ»‘åŠ¨çª—å£å’Œä¿¡ç”¨é‡çª—å£çš„ç»“åˆã€‚
å‘é€æ–¹ç»´æŠ¤å‘é€çª—å£ï¼Œæ¥æ”¶æ–¹é€šè¿‡ACKæŠ¥æ–‡ä¸­çš„çª—å£å­—æ®µï¼ˆrwndï¼‰é€šå‘Šå‰©ä½™ç¼“å†²åŒºå¤§å°ã€‚
å‘é€æ–¹å®é™…å¯å‘é€çš„æ•°æ®é‡å—é™äºå‘é€çª—å£ã€æ¥æ”¶çª—å£å’Œæ‹¥å¡çª—å£ä¸‰è€…çš„æœ€å°å€¼ã€‚




è¿æ¥ç»´æŠ¤TCPæ˜¯é¢å‘è¿æ¥çš„åè®®ï¼Œè¿æ¥çš„å»ºç«‹å’Œç»ˆæ­¢éƒ½éœ€è¦ä¸¥æ ¼çš„æ¡æ‰‹è¿‡ç¨‹ï¼Œç¡®ä¿åŒæ–¹çŠ¶æ€åŒæ­¥ã€‚

è¿æ¥å»ºç«‹ï¼šä¸‰æ¬¡æ¡æ‰‹

ç¬¬ä¸€æ¬¡ï¼šå®¢æˆ·ç«¯å‘é€SYNæŠ¥æ–‡ï¼Œå‘èµ·è¿æ¥è¯·æ±‚ã€‚
ç¬¬äºŒæ¬¡ï¼šæœåŠ¡å™¨æ”¶åˆ°åï¼Œå›å¤SYN+ACKæŠ¥æ–‡ï¼Œè¡¨ç¤ºåŒæ„è¿æ¥ã€‚
ç¬¬ä¸‰æ¬¡ï¼šå®¢æˆ·ç«¯æ”¶åˆ°SYN+ACKåï¼Œå‘é€ACKæŠ¥æ–‡ï¼Œè¿æ¥å»ºç«‹å®Œæˆã€‚
ä¸‰æ¬¡æ¡æ‰‹çš„å¿…è¦æ€§ï¼šé˜²æ­¢å†å²å¤±æ•ˆè¿æ¥è¯·æ±‚å½±å“å½“å‰è¿æ¥ï¼Œç¡®ä¿åŒæ–¹éƒ½å…·å¤‡å‘é€å’Œæ¥æ”¶èƒ½åŠ›ã€‚


è¿æ¥ç»ˆæ­¢ï¼šå››æ¬¡æŒ¥æ‰‹

ç¬¬ä¸€æ¬¡ï¼šä¸»åŠ¨å…³é—­æ–¹å‘é€FINæŠ¥æ–‡ï¼Œè¡¨ç¤ºæ— æ•°æ®å¯å‘ã€‚
ç¬¬äºŒæ¬¡ï¼šè¢«åŠ¨å…³é—­æ–¹æ”¶åˆ°FINåï¼Œå›å¤ACKï¼Œè¡¨ç¤ºæ”¶åˆ°ç»ˆæ­¢è¯·æ±‚ã€‚
ç¬¬ä¸‰æ¬¡ï¼šè¢«åŠ¨å…³é—­æ–¹å¤„ç†å®Œå‰©ä½™æ•°æ®åï¼Œå‘é€FINæŠ¥æ–‡ï¼Œè¡¨ç¤ºåŒæ„å…³é—­ã€‚
ç¬¬å››æ¬¡ï¼šä¸»åŠ¨å…³é—­æ–¹æ”¶åˆ°FINåï¼Œå›å¤ACKï¼Œè¿æ¥å½»åº•å…³é—­ã€‚
å››æ¬¡æŒ¥æ‰‹ä¿è¯åŒæ–¹æ•°æ®éƒ½èƒ½å®Œæ•´ä¼ è¾“ï¼Œé¿å…æ•°æ®ä¸¢å¤±ã€‚




æ‹¥å¡æ§åˆ¶ç®—æ³•æ‹¥å¡æ§åˆ¶ç”¨äºé˜²æ­¢ç½‘ç»œå› è¿‡è½½è€Œæ€§èƒ½ä¸‹é™ï¼ŒTCPé€šè¿‡å¤šç§ç®—æ³•åŠ¨æ€è°ƒæ•´å‘é€é€Ÿç‡ï¼Œä¸»è¦å†…å®¹å¦‚ä¸‹ï¼š

æ—¶å»¶RTTä¼°è®¡ç®—æ³•

RTTï¼ˆRound Trip Timeï¼Œå¾€è¿”æ—¶å»¶ï¼‰ç”¨äºä¼°ç®—æ•°æ®åŒ…ä»å‘é€åˆ°æ”¶åˆ°ACKçš„æ—¶é—´ã€‚
TCPæ ¹æ®å†å²RTTæµ‹é‡å€¼ï¼Œé‡‡ç”¨åŠ æƒå¹³å‡ç­‰æ–¹æ³•åŠ¨æ€ä¼°ç®—å½“å‰RTTï¼Œä¸ºè¶…æ—¶é‡ä¼ å’Œæ‹¥å¡æ§åˆ¶æä¾›ä¾æ®ã€‚


RTOè®¡æ—¶å™¨ç®¡ç†ç®—æ³•

RTOï¼ˆRetransmission Timeoutï¼Œé‡ä¼ è¶…æ—¶æ—¶é—´ï¼‰æ˜¯TCPåˆ¤æ–­æ•°æ®åŒ…ä¸¢å¤±å¹¶è§¦å‘é‡ä¼ çš„è¶…æ—¶æ—¶é—´ã€‚
RTOæ ¹æ®RTTçš„ä¼°ç®—å€¼å’Œæ³¢åŠ¨æ€§åŠ¨æ€è°ƒæ•´ï¼Œé˜²æ­¢è¿‡æ—©æˆ–è¿‡æ™šé‡ä¼ ã€‚


Jacobsonâ€™s Renoç®—æ³•ï¼ˆTCP Renoï¼‰

ç»å…¸çš„TCPæ‹¥å¡æ§åˆ¶ç®—æ³•ï¼ŒåŒ…å«ä»¥ä¸‹æœºåˆ¶ï¼š
æ…¢å¯åŠ¨ï¼ˆSlow Startï¼‰ï¼šåˆå§‹æ‹¥å¡çª—å£ï¼ˆcwndï¼‰è¾ƒå°ï¼Œæ¯æ”¶åˆ°ä¸€ä¸ªACKï¼ŒcwndæŒ‡æ•°å¢é•¿ï¼Œå¿«é€Ÿæ¢æµ‹å¯ç”¨å¸¦å®½ã€‚
æ‹¥å¡é¿å…ï¼ˆAIMDï¼‰ï¼šçª—å£å¢é•¿é‡‡ç”¨åŠ æ€§å¢å¤§&#x2F;ä¹˜æ€§å‡å°ï¼ˆAIMD, Additive Increase Multiplicative Decreaseï¼‰ç®—æ³•ã€‚æ­£å¸¸æ—¶çº¿æ€§å¢é•¿ï¼Œå‘ç”Ÿä¸¢åŒ…æ—¶çª—å£å‡åŠã€‚
å¿«é‡ä¼ ï¼ˆFast Retransmitï¼‰ï¼šæ”¶åˆ°3ä¸ªé‡å¤ACKæ—¶ï¼Œç«‹å³é‡ä¼ ä¸¢å¤±çš„æ•°æ®åŒ…ï¼Œæ— éœ€ç­‰å¾…è¶…æ—¶ã€‚
å¿«æ¢å¤ï¼ˆFast Recoveryï¼‰ï¼šä¸¢åŒ…åçª—å£å‡åŠï¼Œä¸å›åˆ°æ…¢å¯åŠ¨ï¼Œç»´æŒè¾ƒé«˜çš„ååé‡ã€‚






æ€»ç»“ï¼šTCPé€šè¿‡RTTä¼°è®¡ã€RTOç®¡ç†å’ŒRenoç®—æ³•ï¼ˆæ…¢å¯åŠ¨ã€AIMDã€å¿«é‡ä¼ ã€å¿«æ¢å¤ï¼‰ç­‰æœºåˆ¶ï¼Œå®ç°äº†é«˜æ•ˆã€åŠ¨æ€çš„æ‹¥å¡æ§åˆ¶ï¼Œä¿è¯ç½‘ç»œç¨³å®šå’Œå…¬å¹³åˆ©ç”¨ã€‚
URLæ ¼å¼&lt;protocol&gt;://&lt;host&gt;:&lt;port&gt;/&lt;path&gt;?query_stringè¿™ä¸ªURLæ ¼å¼å„éƒ¨åˆ†çš„å«ä¹‰å¦‚ä¸‹ï¼š

&lt;protocol&gt;ï¼šåè®®ç±»å‹ï¼Œå¦‚ httpã€httpsã€ftp ç­‰ï¼ŒæŒ‡å®šè®¿é—®èµ„æºæ‰€ç”¨çš„åè®®ã€‚
&lt;host&gt;ï¼šä¸»æœºåæˆ–IPåœ°å€ï¼Œè¡¨ç¤ºæœåŠ¡å™¨çš„åœ°å€ã€‚
&lt;port&gt;ï¼šç«¯å£å·ï¼ŒæŒ‡å®šæœåŠ¡å™¨ä¸Šç”¨äºè¯¥åè®®çš„ç«¯å£ï¼ˆå¦‚httpé»˜è®¤80ï¼Œhttpsé»˜è®¤443ï¼‰ï¼Œå¯çœç•¥åˆ™ç”¨é»˜è®¤ç«¯å£ã€‚
&lt;path&gt;ï¼šèµ„æºè·¯å¾„ï¼Œè¡¨ç¤ºæœåŠ¡å™¨ä¸Šå…·ä½“çš„æ–‡ä»¶æˆ–èµ„æºä½ç½®ã€‚
?query_stringï¼šæŸ¥è¯¢å­—ç¬¦ä¸²ï¼Œé€šå¸¸ç”¨äºä¼ é€’å‚æ•°ç»™æœåŠ¡å™¨ï¼Œæ ¼å¼ä¸º key1&#x3D;value1&amp;key2&#x3D;value2ã€‚

ä¸¾ä¾‹è¯´æ˜ï¼š
https://www.example.com:8080/index.html?name=alice&amp;id=123

httpsï¼šåè®®
www.example.comï¼šä¸»æœº
8080ï¼šç«¯å£
/index.htmlï¼šè·¯å¾„
?name=alice&amp;id=123ï¼šæŸ¥è¯¢å‚æ•°

httpæ— çŠ¶æ€çš„ä¼˜ç¼ºç‚¹è¿™å¼ å›¾è®²çš„æ˜¯HTTPæ˜¯æ— çŠ¶æ€åè®®ï¼ˆstatelessï¼‰ï¼Œå³æ¯ä¸ªè¯·æ±‚-å“åº”éƒ½æ˜¯ç‹¬ç«‹çš„ï¼ŒæœåŠ¡å™¨ä¸éœ€è¦ä¿å­˜å®¢æˆ·ç«¯çš„çŠ¶æ€ã€‚

ä¼˜ç‚¹ï¼ˆGoodï¼‰ï¼š

æé«˜æœåŠ¡å™¨ç«¯çš„å¯æ‰©å±•æ€§ï¼ˆscalabilityï¼‰ã€‚
æ•…éšœå¤„ç†æ›´ç®€å•ã€‚
èƒ½å¤„ç†æ›´é«˜çš„è¯·æ±‚é€Ÿç‡ã€‚
è¯·æ±‚é¡ºåºæ— å…³ç´§è¦ã€‚


ç¼ºç‚¹ï¼ˆBadï¼‰ï¼š

æŸäº›åº”ç”¨éœ€è¦æŒä¹…çŠ¶æ€ï¼ˆpersistent stateï¼‰ï¼Œæ¯”å¦‚éœ€è¦å”¯ä¸€æ ‡è¯†ç”¨æˆ·æˆ–ä¿å­˜ä¸´æ—¶ä¿¡æ¯ã€‚
å…¸å‹åœºæ™¯ï¼šè´­ç‰©è½¦ã€ç”¨æˆ·èµ„æ–™ã€ä½¿ç”¨è·Ÿè¸ªç­‰ã€‚



æ€»ç»“ï¼šHTTPæ— çŠ¶æ€å¸¦æ¥æ‰©å±•æ€§å’Œç®€åŒ–ç®¡ç†ï¼Œä½†å¯¹äºéœ€è¦è®°ä½ç”¨æˆ·çŠ¶æ€çš„åº”ç”¨ï¼ˆå¦‚è´­ç‰©è½¦ï¼‰ï¼Œå°±éœ€è¦é¢å¤–æœºåˆ¶ï¼ˆå¦‚cookieï¼‰æ¥å®ç°çŠ¶æ€ä¿æŒã€‚
cookiesçš„ä½œç”¨Cookies ä¸»è¦ç”¨æ¥è§£å†³HTTPåè®®æ— çŠ¶æ€çš„é—®é¢˜ã€‚
HTTPåè®®æœ¬èº«æ˜¯æ— çŠ¶æ€çš„ï¼Œå³æœåŠ¡å™¨æ— æ³•åŒºåˆ†åŒä¸€ä¸ªç”¨æˆ·çš„å¤šæ¬¡è¯·æ±‚ã€‚Cookies é€šè¿‡åœ¨å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰ä¿å­˜å°‘é‡æ•°æ®ï¼Œå¹¶åœ¨æ¯æ¬¡è¯·æ±‚æ—¶è‡ªåŠ¨æºå¸¦è¿™äº›æ•°æ®ï¼Œå®ç°äº†â€œä¼šè¯è·Ÿè¸ªâ€å’Œâ€œç”¨æˆ·è¯†åˆ«â€ã€‚
ä¸»è¦ç”¨é€”ï¼š

è®°å½•ç”¨æˆ·ç™»å½•çŠ¶æ€ï¼ˆå¦‚å…ç™»å½•ã€è´­ç‰©è½¦ç­‰ï¼‰
è¯†åˆ«å’Œè·Ÿè¸ªç”¨æˆ·ï¼ˆå¦‚ä¸ªæ€§åŒ–è®¾ç½®ã€å¹¿å‘Šæ¨èï¼‰
å®ç°ä¼šè¯ç®¡ç†ï¼ˆå¦‚åŒºåˆ†ä¸åŒç”¨æˆ·çš„è®¿é—®ï¼‰

æ€»ç»“ï¼šCookies è®©æœåŠ¡å™¨èƒ½å¤Ÿè¯†åˆ«åŒä¸€ä¸ªç”¨æˆ·çš„å¤šæ¬¡è®¿é—®ï¼Œå®ç°ç”¨æˆ·çŠ¶æ€çš„ä¿æŒå’Œä¸ªæ€§åŒ–æœåŠ¡ã€‚

DNSç³»ç»Ÿçš„ä¸‰å¤§æ ¸å¿ƒçŸ¥è¯†ç‚¹
å±‚æ¬¡åŸŸåç©ºé—´

DNSé‡‡ç”¨æ ‘çŠ¶çš„å±‚æ¬¡ç»“æ„è¿›è¡ŒåŸŸåç®¡ç†ï¼Œä»æ ¹åŸŸï¼ˆ.ï¼‰å¼€å§‹ï¼Œå‘ä¸‹åˆ†ä¸ºé¡¶çº§åŸŸï¼ˆå¦‚.comã€.cnï¼‰ã€äºŒçº§åŸŸï¼ˆå¦‚example.comï¼‰ã€ä¸‰çº§åŸŸï¼ˆå¦‚www.example.comï¼‰ç­‰ã€‚
æ¯ä¸€çº§åŸŸåç”±ç‚¹å·åˆ†éš”ï¼Œå±‚æ¬¡ç»“æ„ä¾¿äºåˆ†å¸ƒå¼ç®¡ç†å’Œæ‰©å±•ã€‚
åŸŸåç©ºé—´çš„åˆ†å±‚è®¾è®¡ï¼Œä½¿å¾—å…¨çƒèŒƒå›´å†…çš„åŸŸåå¯ä»¥é«˜æ•ˆã€å”¯ä¸€åœ°åˆ†é…å’Œè§£æã€‚


åŸŸåæœåŠ¡å™¨

DNSç³»ç»Ÿç”±å¤šç§ç±»å‹çš„æœåŠ¡å™¨ç»„æˆï¼ŒåŒ…æ‹¬ï¼š
æ ¹åŸŸåæœåŠ¡å™¨ï¼ˆRoot DNS Serverï¼‰ï¼šä½äºåŸŸåç©ºé—´çš„æœ€é¡¶å±‚ï¼Œè´Ÿè´£ç®¡ç†é¡¶çº§åŸŸçš„æŒ‡å‘ã€‚
é¡¶çº§åŸŸåæœåŠ¡å™¨ï¼ˆTLD DNS Serverï¼‰ï¼šç®¡ç†å¦‚.comã€.cnç­‰é¡¶çº§åŸŸä¸‹çš„åŸŸåã€‚
æƒå¨åŸŸåæœåŠ¡å™¨ï¼ˆAuthoritative DNS Serverï¼‰ï¼šè´Ÿè´£æŸä¸€å…·ä½“åŸŸåçš„æœ€ç»ˆè§£æç»“æœï¼Œå­˜å‚¨è¯¥åŸŸåçš„çœŸå®IPåœ°å€ã€‚
æœ¬åœ°åŸŸåæœåŠ¡å™¨ï¼ˆLocal&#x2F;Resolver DNS Serverï¼‰ï¼šé€šå¸¸ç”±ISPæˆ–ä¼ä¸šæä¾›ï¼Œè´Ÿè´£æ¥æ”¶ç”¨æˆ·çš„DNSæŸ¥è¯¢è¯·æ±‚ï¼Œå¹¶é€’å½’æˆ–è¿­ä»£åœ°å‘å…¶ä»–DNSæœåŠ¡å™¨æŸ¥è¯¢ç»“æœã€‚


å„ç±»æœåŠ¡å™¨åä½œï¼Œå®ç°åˆ†å¸ƒå¼ã€é«˜å¯ç”¨çš„åŸŸåè§£ææœåŠ¡ã€‚


åŸŸåè§£æè¿‡ç¨‹

åŸŸåè§£ææ˜¯å°†ç”¨æˆ·è¾“å…¥çš„åŸŸåï¼ˆå¦‚www.example.comï¼‰è½¬æ¢ä¸ºå¯¹åº”IPåœ°å€çš„è¿‡ç¨‹ï¼Œä¸»è¦åŒ…æ‹¬ä»¥ä¸‹æ­¥éª¤ï¼š
ç”¨æˆ·ä¸»æœºå‘æœ¬åœ°åŸŸåæœåŠ¡å™¨å‘èµ·DNSæŸ¥è¯¢è¯·æ±‚ã€‚
æœ¬åœ°åŸŸåæœåŠ¡å™¨è‹¥ç¼“å­˜ä¸­æ— ç»“æœï¼Œåˆ™é€’å½’æˆ–è¿­ä»£æŸ¥è¯¢æ ¹æœåŠ¡å™¨ã€é¡¶çº§åŸŸæœåŠ¡å™¨ã€æƒå¨æœåŠ¡å™¨ã€‚
æŸ¥è¯¢è¿‡ç¨‹å¯èƒ½æ¶‰åŠå¤šçº§è·³è½¬ï¼Œæœ€ç»ˆè·å¾—ç›®æ ‡åŸŸåçš„IPåœ°å€ã€‚
æœ¬åœ°åŸŸåæœåŠ¡å™¨å°†ç»“æœè¿”å›ç»™ç”¨æˆ·ä¸»æœºï¼Œå¹¶ç¼“å­˜ç»“æœä»¥åŠ é€Ÿåç»­æŸ¥è¯¢ã€‚


åŸŸåè§£æè¿‡ç¨‹æ”¯æŒé€’å½’æŸ¥è¯¢ï¼ˆç”±æœ¬åœ°æœåŠ¡å™¨å…¨æƒè´Ÿè´£ï¼‰å’Œè¿­ä»£æŸ¥è¯¢ï¼ˆæ¯çº§æœåŠ¡å™¨åªå‘Šè¯‰ä¸‹ä¸€çº§çš„åœ°å€ï¼‰ã€‚



æ€»ç»“ï¼š

DNSç³»ç»Ÿé€šè¿‡å±‚æ¬¡åŒ–çš„å‘½åç©ºé—´ã€åˆ†å¸ƒå¼çš„æœåŠ¡å™¨ä½“ç³»å’Œé«˜æ•ˆçš„è§£ææµç¨‹ï¼Œå®ç°äº†åŸŸååˆ°IPåœ°å€çš„é«˜æ•ˆæ˜ å°„ï¼Œæ˜¯äº’è”ç½‘æ­£å¸¸è®¿é—®çš„åŸºç¡€ã€‚

ECN ğŸ†š TCPECNï¼ˆExplicit Congestion Notificationï¼Œæ˜¾å¼æ‹¥å¡é€šçŸ¥ï¼‰æ˜¯ä¸€ç§ç½‘ç»œæ‹¥å¡æ§åˆ¶æœºåˆ¶ï¼Œå…è®¸è·¯ç”±å™¨åœ¨å‘ç”Ÿæ‹¥å¡æ—¶ï¼Œä¸ä¸¢å¼ƒæ•°æ®åŒ…ï¼Œè€Œæ˜¯åœ¨IPå¤´éƒ¨è®¾ç½®ECNæ ‡å¿—ï¼Œé€šçŸ¥æ¥æ”¶æ–¹å‘ç”Ÿäº†æ‹¥å¡ã€‚æ¥æ”¶æ–¹æ”¶åˆ°åï¼Œåé¦ˆç»™å‘é€æ–¹ï¼Œå‘é€æ–¹æ®æ­¤é™ä½å‘é€é€Ÿç‡ã€‚
TCPæ‹¥å¡æ§åˆ¶ä¸ECNçš„ä¼˜ç¼ºç‚¹æ¯”è¾ƒï¼š

ä¼ ç»ŸTCPæ‹¥å¡æ§åˆ¶ï¼ˆå¦‚ä¸¢åŒ…æ£€æµ‹ï¼‰

ä¼˜ç‚¹ï¼šå®ç°ç®€å•ï¼Œæ— éœ€ç½‘ç»œè®¾å¤‡æ”¯æŒï¼Œå…¼å®¹æ€§å¥½ã€‚
ç¼ºç‚¹ï¼šåªèƒ½é€šè¿‡ä¸¢åŒ…æ„ŸçŸ¥æ‹¥å¡ï¼Œå¯¼è‡´ä¸å¿…è¦çš„æ•°æ®åŒ…ä¸¢å¤±å’Œé‡ä¼ ï¼Œå¢åŠ å»¶è¿Ÿå’Œç½‘ç»œè´Ÿè½½ã€‚


ECN

ä¼˜ç‚¹ï¼šæ— éœ€ä¸¢åŒ…å³å¯æ„ŸçŸ¥æ‹¥å¡ï¼Œå‡å°‘é‡ä¼ å’Œå»¶è¿Ÿï¼Œæé«˜ç½‘ç»œæ€§èƒ½å’Œååé‡ã€‚
ç¼ºç‚¹ï¼šéœ€è¦ç«¯åˆ°ç«¯ï¼ˆä¸»æœºå’Œè·¯ç”±å™¨ï¼‰éƒ½æ”¯æŒECNï¼Œéƒ¨ç½²æˆæœ¬è¾ƒé«˜ï¼Œéƒ¨åˆ†è€æ—§è®¾å¤‡ä¸å…¼å®¹ã€‚



æ€»ç»“ï¼šECNé€šè¿‡æ˜¾å¼æ ‡è®°é€šçŸ¥æ‹¥å¡ï¼Œèƒ½æ›´é«˜æ•ˆã€ä½æŸåœ°è¿›è¡Œæ‹¥å¡æ§åˆ¶ï¼Œä½†éœ€è¦å…¨ç½‘æ”¯æŒï¼›ä¼ ç»ŸTCPé€šè¿‡ä¸¢åŒ…æ„ŸçŸ¥æ‹¥å¡ï¼Œç®€å•ä½†æ•ˆç‡ä½ã€‚

æ„Ÿè°¢é˜…è¯»ï¼å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹èµå’Œåˆ†äº«ã€‚
]]></content>
      <categories>
        <category>å­¦ä¹ è®°å½•</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ </tag>
      </tags>
  </entry>
  <entry>
    <title>my first address</title>
    <url>/2025/02/28/hello-world/</url>
    <content><![CDATA[this is my first articletestæ–‡ä»¶ï¼Œæ¢¦å¼€å§‹çš„åœ°æ–¹
]]></content>
  </entry>
  <entry>
    <title>åŸŸåè§£æä¸ç½‘ç«™ç»‘å®šå®Œå…¨æŒ‡å—</title>
    <url>/2025/08/15/%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90%E4%B8%8E%E7%BD%91%E7%AB%99%E7%BB%91%E5%AE%9A%E5%AE%8C%E5%85%A8%E6%8C%87%E5%8D%97/</url>
    <content><![CDATA[åŸŸåè§£æä¸ç½‘ç«™ç»‘å®šå®Œå…¨æŒ‡å—ğŸŒ å‰è¨€å½“æˆ‘ä»¬åœ¨æµè§ˆå™¨è¾“å…¥ summer-flower.com æ—¶ï¼Œä¸ºä»€ä¹ˆèƒ½è®¿é—®åˆ°æˆ‘ä»¬çš„ç½‘ç«™ï¼Ÿè¿™èƒŒåæ¶‰åŠäº†å¤æ‚çš„åŸŸåè§£æç³»ç»Ÿã€‚æœ¬æ–‡å°†ä»é›¶å¼€å§‹ï¼Œè¯¦ç»†è§£é‡ŠåŸŸåè§£æçš„å·¥ä½œåŸç†ï¼Œä»¥åŠå¦‚ä½•å°†è‡ªå®šä¹‰åŸŸåç»‘å®šåˆ° GitHub Pagesã€‚
ğŸ“š åŸºç¡€æ¦‚å¿µä»€ä¹ˆæ˜¯åŸŸåï¼ŸåŸŸåï¼ˆDomain Nameï¼‰æ˜¯äº’è”ç½‘ä¸Šç½‘ç«™çš„äººç±»å¯è¯»åœ°å€ï¼Œä¾‹å¦‚ï¼š

google.com
github.com 
summer-flower.com

å®ƒçš„ä½œç”¨æ˜¯å°†å¤æ‚çš„IPåœ°å€ï¼ˆå¦‚ 185.199.108.153ï¼‰è½¬æ¢ä¸ºå®¹æ˜“è®°å¿†çš„åç§°ã€‚
ä»€ä¹ˆæ˜¯DNSï¼ŸDNSï¼ˆDomain Name Systemï¼ŒåŸŸåç³»ç»Ÿï¼‰æ˜¯äº’è”ç½‘çš„â€ç”µè¯ç°¿â€ï¼Œè´Ÿè´£å°†åŸŸåç¿»è¯‘æˆIPåœ°å€ã€‚
DNSè§£æè¿‡ç¨‹ï¼šç”¨æˆ·è¾“å…¥: summer-flower.com    â†“DNSæŸ¥è¯¢: summer-flower.com å¯¹åº”å“ªä¸ªIPï¼Ÿ    â†“  DNSè¿”å›: 185.199.108.153    â†“æµè§ˆå™¨è®¿é—®: 185.199.108.153    â†“æœåŠ¡å™¨è¿”å›: ç½‘ç«™å†…å®¹

ğŸ”§ DNSè®°å½•ç±»å‹è¯¦è§£1. Aè®°å½•ï¼ˆAddress Recordï¼‰ä½œç”¨: å°†åŸŸåç›´æ¥æŒ‡å‘IPv4åœ°å€
æ ¼å¼: åŸŸå â†’ IPåœ°å€
ç¤ºä¾‹:
summer-flower.com â†’ 185.199.108.153

ä½¿ç”¨åœºæ™¯: 

å°†åŸŸåæŒ‡å‘ç½‘ç«™æœåŠ¡å™¨
æœ€å¸¸ç”¨çš„è®°å½•ç±»å‹
ä¸€ä¸ªåŸŸåå¯ä»¥æœ‰å¤šä¸ªAè®°å½•ï¼ˆè´Ÿè½½å‡è¡¡ï¼‰

2. CNAMEè®°å½•ï¼ˆCanonical Name Recordï¼‰ä½œç”¨: å°†åŸŸåæŒ‡å‘å¦ä¸€ä¸ªåŸŸå
æ ¼å¼: åŸŸå â†’ å¦ä¸€ä¸ªåŸŸå
ç¤ºä¾‹:
www.summer-flower.com â†’ summer-flower.comblog.summer-flower.com â†’ summer-flower.com

ä½¿ç”¨åœºæ™¯:

å­åŸŸåé‡å®šå‘
CDNé…ç½®
æœåŠ¡åˆ«å

é‡è¦é™åˆ¶: 

æ ¹åŸŸåï¼ˆå¦‚ summer-flower.comï¼‰ä¸èƒ½ä½¿ç”¨CNAME
ä¸€ä¸ªåŸŸåä¸èƒ½åŒæ—¶æœ‰CNAMEå’Œå…¶ä»–è®°å½•

3. NSè®°å½•ï¼ˆName Server Recordï¼‰ä½œç”¨: æŒ‡å®šåŸŸåçš„DNSæœåŠ¡å™¨
æ ¼å¼: åŸŸå â†’ DNSæœåŠ¡å™¨åœ°å€
ç¤ºä¾‹:
summer-flower.com â†’ ns1.huaweicloud-dns.orgsummer-flower.com â†’ ns2.huaweicloud-dns.org

ä½¿ç”¨åœºæ™¯:

åŸŸåæ³¨å†Œå•†è®¾ç½®
DNSæœåŠ¡å™¨è¿ç§»

4. SOAè®°å½•ï¼ˆStart of Authority Recordï¼‰ä½œç”¨: å®šä¹‰åŸŸåçš„æƒå¨ä¿¡æ¯
åŒ…å«ä¿¡æ¯:

ä¸»DNSæœåŠ¡å™¨
åŸŸåç®¡ç†å‘˜é‚®ç®±
åºåˆ—å·
åˆ·æ–°æ—¶é—´
é‡è¯•æ—¶é—´

ä½¿ç”¨åœºæ™¯:

ç³»ç»Ÿè‡ªåŠ¨åˆ›å»º
DNSåŒæ­¥æ§åˆ¶

5. MXè®°å½•ï¼ˆMail Exchange Recordï¼‰ä½œç”¨: æŒ‡å®šé‚®ä»¶æœåŠ¡å™¨
ç¤ºä¾‹:
summer-flower.com â†’ mail.summer-flower.com

6. TXTè®°å½•ï¼ˆText Recordï¼‰ä½œç”¨: å­˜å‚¨æ–‡æœ¬ä¿¡æ¯
ä½¿ç”¨åœºæ™¯:

åŸŸåéªŒè¯
SPFé‚®ä»¶éªŒè¯
ç½‘ç«™éªŒè¯

ğŸŒ DNSè§£æçš„å®Œæ•´æµç¨‹1. æµè§ˆå™¨å‘èµ·è¯·æ±‚ç”¨æˆ·è¾“å…¥: https://summer-flower.com

2. æœ¬åœ°DNSç¼“å­˜æ£€æŸ¥æ£€æŸ¥é¡ºåº:1. æµè§ˆå™¨ç¼“å­˜2. æ“ä½œç³»ç»Ÿç¼“å­˜3. è·¯ç”±å™¨ç¼“å­˜

3. é€’å½’DNSæŸ¥è¯¢æœ¬åœ°DNSæœåŠ¡å™¨ â†’ æ ¹DNSæœåŠ¡å™¨æ ¹DNSæœåŠ¡å™¨ â†’ .comé¡¶çº§åŸŸDNSæœåŠ¡å™¨  .com DNSæœåŠ¡å™¨ â†’ summer-flower.comæƒå¨DNSæœåŠ¡å™¨æƒå¨DNSæœåŠ¡å™¨ â†’ è¿”å›IPåœ°å€

4. è¿”å›ç»“æœå¹¶ç¼“å­˜IPåœ°å€ â†’ æœ¬åœ°DNSæœåŠ¡å™¨ â†’ ç”¨æˆ·è®¾å¤‡åŒæ—¶: å„çº§ç¼“å­˜å­˜å‚¨ç»“æœ

ğŸš€ GitHub Pages åŸŸåç»‘å®šè¯¦è§£GitHub Pages çš„å·¥ä½œåŸç†é»˜è®¤è®¿é—®æ–¹å¼:
https://ç”¨æˆ·å.github.io/ä»“åº“åä¾‹å¦‚: https://231220075.github.io

è‡ªå®šä¹‰åŸŸåè®¿é—®:
https://your-domain.comä¾‹å¦‚: https://summer-flower.com

ç»‘å®šæ­¥éª¤è¯¦è§£æ­¥éª¤1: åˆ›å»ºCNAMEæ–‡ä»¶ä½ç½®: /source/CNAMEï¼ˆå¯¹äºHexoï¼‰
å†…å®¹:
summer-flower.com

ä½œç”¨:

å‘Šè¯‰GitHub Pagesä½ çš„è‡ªå®šä¹‰åŸŸå
è§¦å‘GitHubç”ŸæˆSSLè¯ä¹¦
å¯ç”¨åŸŸåé‡å®šå‘

æ­¥éª¤2: é…ç½®DNSè®°å½•GitHub Pages IPåœ°å€:
185.199.108.153185.199.109.153185.199.110.153  185.199.111.153

DNSé…ç½®:
ç±»å‹: Aä¸»æœºè®°å½•: @ æˆ– *è®°å½•å€¼: 185.199.108.153TTL: 300

é‡å¤æ·»åŠ å…¶ä»–3ä¸ªIPåœ°å€
æ­¥éª¤3: ç­‰å¾…ç”Ÿæ•ˆæ—¶é—´çº¿:
DNSé…ç½® â†’ 5-30åˆ†é’Ÿ â†’ DNSä¼ æ’­å®ŒæˆDNSä¼ æ’­å®Œæˆ â†’ 10-15åˆ†é’Ÿ â†’ GitHubæ£€æµ‹åˆ°GitHubæ£€æµ‹åˆ° â†’ 5-10åˆ†é’Ÿ â†’ SSLè¯ä¹¦ç”ŸæˆSSLè¯ä¹¦ç”Ÿæˆ â†’ ç½‘ç«™å®Œå…¨å¯ç”¨

GitHub Pages çš„éªŒè¯æœºåˆ¶DNSæ£€æŸ¥è¿‡ç¨‹1. GitHubå®šæœŸæŸ¥è¯¢ä½ çš„åŸŸå2. æ£€æŸ¥æ˜¯å¦æŒ‡å‘GitHub Pages IP3. éªŒè¯CNAMEæ–‡ä»¶å†…å®¹4. ç”ŸæˆSSLè¯ä¹¦5. å¯ç”¨HTTPSè®¿é—®

çŠ¶æ€å˜åŒ–ğŸ”´ DNS check unsuccessful   â†“ (DNSç”Ÿæ•ˆ)ğŸŸ¡ DNS check in progress   â†“ (éªŒè¯å®Œæˆ)ğŸŸ¢ DNS configuration successful     â†“ (SSLç”Ÿæˆ)âœ… Enforce HTTPS å¯ç”¨

âš ï¸ å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆé—®é¢˜1: DNSæ£€æŸ¥å¤±è´¥ç—‡çŠ¶:
DNS check unsuccessfulDomain does not resolve to the GitHub Pages server

åŸå› :

DNSè®°å½•é…ç½®é”™è¯¯
DNSè¿˜æœªä¼ æ’­å®Œæˆ
å­˜åœ¨å†²çªè®°å½•

è§£å†³æ–¹æ¡ˆ:
# æ£€æŸ¥DNSæ˜¯å¦ç”Ÿæ•ˆdig your-domain.com# æœŸæœ›ç»“æœ: 4ä¸ªAè®°å½•æŒ‡å‘GitHub Pages

é—®é¢˜2: CNAMEå’ŒAè®°å½•å†²çªé”™è¯¯é…ç½®:
summer-flower.com â†’ CNAME â†’ other-domain.com (é”™è¯¯)summer-flower.com â†’ A â†’ 185.199.108.153 (æ­£ç¡®)

è§£å†³æ–¹æ¡ˆ: åˆ é™¤CNAMEè®°å½•ï¼Œåªä¿ç•™Aè®°å½•
é—®é¢˜3: wwwå­åŸŸåé…ç½®æ–¹æ¡ˆA: ä½¿ç”¨æ³›åŸŸåè§£æ
*.summer-flower.com â†’ A â†’ GitHub Pages IP

æ–¹æ¡ˆB: å•ç‹¬é…ç½®CNAME
www.summer-flower.com â†’ CNAME â†’ summer-flower.com

é—®é¢˜4: SSLè¯ä¹¦é—®é¢˜å¸¸è§åŸå› :

DNSé…ç½®ä¸æ­£ç¡®
GitHubè¿˜åœ¨éªŒè¯è¿‡ç¨‹ä¸­
åŸŸåéªŒè¯å¤±è´¥

è§£å†³æ–¹æ¡ˆ:

ç­‰å¾…DNSå®Œå…¨ä¼ æ’­
ç¡®ä¿CNAMEæ–‡ä»¶æ­£ç¡®
æ£€æŸ¥GitHub Pagesè®¾ç½®

ğŸ› ï¸ å®é™…æ“ä½œç¤ºä¾‹åä¸ºäº‘DNSé…ç½®ç™»å½•æ§åˆ¶å°:
åä¸ºäº‘æ§åˆ¶å° â†’ åŸŸåä¸ç½‘ç«™ â†’ äº‘è§£ææœåŠ¡

æ·»åŠ è®°å½•:
è®°å½•ç±»å‹: Aä¸»æœºè®°å½•: * (æ³›åŸŸå) æˆ– @ (æ ¹åŸŸå)çº¿è·¯ç±»å‹: å…¨ç½‘é»˜è®¤TTL: 300è®°å½•å€¼: 185.199.108.153

é‡å¤æ·»åŠ å…¶ä»–GitHub Pages IP
éªŒè¯é…ç½®å‘½ä»¤è¡ŒéªŒè¯:
# æ£€æŸ¥DNSè§£ædig summer-flower.com# æ£€æŸ¥ç½‘ç«™è®¿é—®curl -I https://summer-flower.com# æ£€æŸ¥SSLè¯ä¹¦curl -I https://summer-flower.com | grep -i server

åœ¨çº¿å·¥å…·éªŒè¯:

DNSä¼ æ’­æ£€æŸ¥: https://www.whatsmydns.net/
SSLè¯ä¹¦æ£€æŸ¥: https://www.ssllabs.com/ssltest/

ğŸ“Š æ€§èƒ½ä¼˜åŒ–å»ºè®®TTLè®¾ç½®ä¼˜åŒ–å¼€å‘é˜¶æ®µ:
TTL: 300 (5åˆ†é’Ÿ) - ä¾¿äºå¿«é€Ÿæµ‹è¯•

ç”Ÿäº§ç¯å¢ƒ:
TTL: 3600 (1å°æ—¶) - å‡å°‘DNSæŸ¥è¯¢

å¤šIPé…ç½®çš„å¥½å¤„è´Ÿè½½å‡è¡¡:

åˆ†æ•£è®¿é—®å‹åŠ›
æé«˜å¯ç”¨æ€§

å®¹é”™æœºåˆ¶:

æŸä¸ªIPæ•…éšœæ—¶è‡ªåŠ¨åˆ‡æ¢
æé«˜ç½‘ç«™ç¨³å®šæ€§

CDNé›†æˆCloudFlareç¤ºä¾‹:
åŸŸå â†’ CloudFlare â†’ GitHub Pages

ä¼˜åŠ¿:

å…¨çƒåŠ é€Ÿ
DDoSé˜²æŠ¤
é«˜çº§SSLåŠŸèƒ½

ğŸ”’ å®‰å…¨è€ƒè™‘HTTPSå¼ºåˆ¶GitHub Pagesè®¾ç½®:
Settings â†’ Pages â†’ Enforce HTTPS âœ“

å¥½å¤„:

æ•°æ®ä¼ è¾“åŠ å¯†
SEOä¼˜åŠ¿
ç°ä»£æµè§ˆå™¨è¦æ±‚

DNSå®‰å…¨DNSSEC:

é˜²æ­¢DNSåŠ«æŒ
éªŒè¯DNSå“åº”çœŸå®æ€§

ç§æœ‰DNS:

ä½¿ç”¨å¯ä¿¡DNSæœåŠ¡å™¨
é¿å…DNSæ±¡æŸ“

ğŸ“ˆ ç›‘æ§ä¸ç»´æŠ¤ç›‘æ§æŒ‡æ ‡å¯ç”¨æ€§ç›‘æ§:

ç½‘ç«™å“åº”æ—¶é—´
DNSè§£ææ—¶é—´
SSLè¯ä¹¦åˆ°æœŸæ—¶é—´

å·¥å…·æ¨è:

UptimeRobotï¼ˆå…è´¹ï¼‰
Pingdomï¼ˆä»˜è´¹ï¼‰
CloudFlare Analytics

ç»´æŠ¤ä»»åŠ¡å®šæœŸæ£€æŸ¥:

DNSè®°å½•æ˜¯å¦æ­£ç¡®
SSLè¯ä¹¦æ˜¯å¦æœ‰æ•ˆ
ç½‘ç«™è®¿é—®æ˜¯å¦æ­£å¸¸

å¤‡ä»½ç­–ç•¥:

DNSé…ç½®å¤‡ä»½
åŸŸåè½¬ç§»ç ä¿å­˜
é‡è¦æ–‡ä»¶å¤‡ä»½

ğŸ¯ æ€»ç»“åŸŸåè§£ææ˜¯ç°ä»£äº’è”ç½‘çš„åŸºç¡€è®¾æ–½ï¼Œç†è§£å…¶å·¥ä½œåŸç†å¯¹äºç½‘ç«™ç®¡ç†è‡³å…³é‡è¦ï¼š
å…³é”®è¦ç‚¹
DNSè®°å½•ç±»å‹: Aè®°å½•æŒ‡å‘IPï¼ŒCNAMEæŒ‡å‘åŸŸå
GitHub Pagesç»‘å®š: éœ€è¦æ­£ç¡®çš„DNSé…ç½®å’ŒCNAMEæ–‡ä»¶
ä¼ æ’­æ—¶é—´: DNSæ›´æ”¹éœ€è¦5-60åˆ†é’Ÿç”Ÿæ•ˆ
å®‰å…¨æ€§: å¯ç”¨HTTPSå’ŒDNSSECä¿æŠ¤
ç›‘æ§: æŒç»­ç›‘æ§ç¡®ä¿æœåŠ¡ç¨³å®š

æœ€ä½³å®è·µ
ä½¿ç”¨Aè®°å½•æŒ‡å‘GitHub Pages IP
é¿å…ä¸å¿…è¦çš„CNAMEè®°å½•
è®¾ç½®åˆé€‚çš„TTLå€¼
å¯ç”¨HTTPSå¼ºåˆ¶
å®šæœŸç›‘æ§å’Œç»´æŠ¤

é€šè¿‡æœ¬æ–‡çš„å­¦ä¹ ï¼Œç›¸ä¿¡ä½ å·²ç»å¯¹åŸŸåè§£ææœ‰äº†å…¨é¢çš„ç†è§£ã€‚åœ¨å®é™…æ“ä½œä¸­ï¼Œè®°ä½è€å¿ƒç­‰å¾…DNSä¼ æ’­ï¼Œé‡åˆ°é—®é¢˜æ—¶ç³»ç»Ÿæ€§åœ°æ’æŸ¥ï¼Œå¤§éƒ¨åˆ†é—®é¢˜éƒ½èƒ½è¿åˆƒè€Œè§£ã€‚

ç›¸å…³èµ„æº:

GitHub Pages å®˜æ–¹æ–‡æ¡£
DNS åŸºç¡€çŸ¥è¯†
åä¸ºäº‘ DNS ä½¿ç”¨æŒ‡å—

ç¥ä½ çš„ç½‘ç«™éƒ¨ç½²é¡ºåˆ©ï¼ğŸš€
]]></content>
      <categories>
        <category>æŠ€æœ¯å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŸŸå</tag>
        <tag>DNS</tag>
        <tag>GitHub Pages</tag>
        <tag>ç½‘ç«™éƒ¨ç½²</tag>
      </tags>
  </entry>
  <entry>
    <title>äº‘åŸç”Ÿç»“è¯¾project</title>
    <url>/2025/08/12/%E4%BA%91%E5%8E%9F%E7%94%9F%E7%BB%93%E8%AF%BEproject/</url>
    <content><![CDATA[ğŸ“ äº‘åŸç”Ÿç»“è¯¾project
é¡ºæ‰‹ä¸Šä¼ æš‘è¯¾é¡¹ç›®

1. é¡¹ç›®ç»„å‘˜ä¿¡æ¯


å§“å
å­¦å·
ä¸ªäººè´¡çŒ®



é»„ç¿æ™º
231220075
part3 + æ–‡æ¡£ç¼–å†™


ç™½å­æ•¬
231220077
part1


é™ˆç¿”å®‡
231220088
part2



2. é™æµåŠŸèƒ½ç›¸å…³çš„å…³é”®ä»£ç å’Œè¯´æ˜2.1 é™æµç³»ç»Ÿæ¶æ„æ¦‚è¿°æœ¬é¡¹ç›®é‡‡ç”¨åŸºäº Bucket4j + Redis çš„åˆ†å¸ƒå¼é™æµæ–¹æ¡ˆï¼Œå®ç°äº†å¤šå±‚æ¬¡çš„æµé‡æ§åˆ¶æœºåˆ¶ï¼š

åº”ç”¨å±‚é™æµï¼šä½¿ç”¨ Bucket4j ä»¤ç‰Œæ¡¶ç®—æ³•
è¿æ¥å±‚é™æµï¼šSpring Boot Tomcat è¿æ¥æ± é™åˆ¶
ç½‘ç»œå±‚é™æµï¼šKubernetes ç½‘ç»œç­–ç•¥å’Œç«¯å£è½¬å‘é™åˆ¶

2.2 æ ¸å¿ƒé™æµç»„ä»¶é™æµé…ç½®ç±» (RateLimitConfig.java)@Configurationpublic class RedisConfig &#123;        @Value(&quot;$&#123;REDIS_HOST:$&#123;spring.redis.host:localhost&#125;&#125;&quot;)    private String redisHost;        @Value(&quot;$&#123;REDIS_PORT:$&#123;spring.redis.port:6379&#125;&#125;&quot;)    private int redisPort;        @Bean    @Primary    public RedisConnectionFactory redisConnectionFactory() &#123;        // ç›´æ¥ä»ç¯å¢ƒå˜é‡è¯»å–        String host = System.getenv(&quot;REDIS_HOST&quot;);        if (host == null || host.trim().isEmpty()) &#123;            host = redisHost;        &#125;                String portStr = System.getenv(&quot;REDIS_PORT&quot;);        int port = redisPort;        if (portStr != null &amp;&amp; !portStr.trim().isEmpty()) &#123;            try &#123;                port = Integer.parseInt(portStr);            &#125; catch (NumberFormatException e) &#123;                // ä½¿ç”¨é»˜è®¤ç«¯å£            &#125;        &#125;                System.out.println(&quot;Spring Data Redis connecting to: &quot; + host + &quot;:&quot; + port);                RedisStandaloneConfiguration config = new RedisStandaloneConfiguration();        config.setHostName(host);        config.setPort(port);                JedisConnectionFactory factory = new JedisConnectionFactory(config);        return factory;    &#125;        @Bean    public RedisTemplate&lt;String, Object&gt; redisTemplate(RedisConnectionFactory connectionFactory) &#123;        RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();        template.setConnectionFactory(connectionFactory);        return template;    &#125;        @Bean    public JedisPool jedisPool() &#123;        // ç›´æ¥ä»ç¯å¢ƒå˜é‡è¯»å–ï¼Œå¦‚æœä¸ºç©ºåˆ™ä½¿ç”¨é…ç½®æ–‡ä»¶        String host = System.getenv(&quot;REDIS_HOST&quot;);        if (host == null || host.trim().isEmpty()) &#123;            host = redisHost;        &#125;                String portStr = System.getenv(&quot;REDIS_PORT&quot;);        int port = redisPort;        if (portStr != null &amp;&amp; !portStr.trim().isEmpty()) &#123;            try &#123;                port = Integer.parseInt(portStr);            &#125; catch (NumberFormatException e) &#123;                // ä½¿ç”¨é»˜è®¤ç«¯å£            &#125;        &#125;                System.out.println(&quot;Jedis Pool connecting to: &quot; + host + &quot;:&quot; + port);                JedisPoolConfig config = new JedisPoolConfig();        config.setMaxTotal(8);        config.setMaxIdle(8);        config.setMinIdle(0);        config.setTestOnBorrow(true);        config.setTestOnReturn(true);        config.setTestWhileIdle(true);        return new JedisPool(config, host, port);    &#125;&#125;

é™æµæœåŠ¡ç±» (RateLimiterService.java)@Servicepublic class RateLimiterService &#123;    private final ProxyManager&lt;byte[]&gt; buckets;    private static final byte[] KEY = &quot;global-rate-limit-key&quot;.getBytes();    @Autowired    public RateLimiterService(ProxyManager&lt;byte[]&gt; buckets) &#123;        this.buckets = buckets;    &#125;    public Bucket resolveBucket() &#123;        return buckets.builder().build(KEY, getConfigSupplier());    &#125;    private Supplier&lt;BucketConfiguration&gt; getConfigSupplier() &#123;        return () -&gt; BucketConfiguration.builder()                .addLimit(Bandwidth.classic(                    100,                     Refill.greedy(100, Duration.ofSeconds(1)))                )                .build();    &#125;&#125;

é™æµæ‹¦æˆªå™¨ (RateLimitInterceptor.java)@Componentpublic class RateLimitInterceptor implements HandlerInterceptor &#123;    @Autowired    private RateLimiterService rateLimiterService;    @Override    public boolean preHandle(HttpServletRequest request,                             HttpServletResponse response,                             Object handler) throws Exception &#123;        Bucket bucket = rateLimiterService.resolveBucket();        if (bucket.tryConsume(1)) &#123;            return true;        &#125; else &#123;            response.setStatus(HttpStatus.TOO_MANY_REQUESTS.value());            response.getWriter().write(&quot;Too many requests&quot;);            return false;        &#125;    &#125;&#125;

Web é…ç½®ç±» (WebMvcConfig.java)@Configurationpublic class WebMvcConfig implements WebMvcConfigurer &#123;    @Autowired    private RateLimitInterceptor rateLimitInterceptor;    @Override    public void addInterceptors(InterceptorRegistry registry) &#123;        // æ³¨å†Œé™æµæ‹¦æˆªå™¨å¹¶æŒ‡å®šæ‹¦æˆªè·¯å¾„        registry.addInterceptor(rateLimitInterceptor)                .addPathPatterns(&quot;/hello&quot;)  // åªæ‹¦æˆª/helloè·¯å¾„                .order(0);    &#125;&#125;

2.3 åº”ç”¨é…ç½®application.properties é™æµç›¸å…³é…ç½®spring.application.name=prometheus-test-demo# ç»Ÿä¸€ä½¿ç”¨8998ç«¯å£server.port=8998# Redis é…ç½® - ç›´æ¥ä½¿ç”¨ç¯å¢ƒå˜é‡spring.redis.host=$&#123;REDIS_HOST:localhost&#125;spring.redis.port=$&#123;REDIS_PORT:6379&#125;spring.redis.timeout=2000ms# å¼ºåˆ¶ä½¿ç”¨ Jedis å®¢æˆ·ç«¯spring.redis.jedis.pool.enabled=truespring.redis.lettuce.pool.enabled=false# Actuator é…ç½®management.endpoints.web.exposure.include=health,info,prometheus,metricsmanagement.endpoint.health.show-details=always# é™æµç›¸å…³é…ç½®rate.limit.enabled=truerate.limit.global.key=global-rate-limit-keyrate.limit.capacity=100rate.limit.refill.tokens=100rate.limit.refill.period=1s

2.4 é™æµå·¥ä½œæµç¨‹ç”¨æˆ·è¯·æ±‚ â†’ Spring MVC â†’ RateLimitInterceptor â†’ RateLimiterService                                â†“                          æ£€æŸ¥ Redis ä»¤ç‰Œæ¡¶                                â†“                    æœ‰ä»¤ç‰Œï¼Ÿâ”€â”€â”€ YES â”€â”€â†’ ç»§ç»­å¤„ç† â†’ HelloController                        â”‚                        NO                        â†“                  è¿”å› HTTP 429 é”™è¯¯

2.5 é™æµç®—æ³•è¯´æ˜ä»¤ç‰Œæ¡¶ç®—æ³• (Token Bucket Algorithm)ï¼š

åˆå§‹åŒ–ï¼šåˆ›å»ºå®¹é‡ä¸º100çš„ä»¤ç‰Œæ¡¶
ä»¤ç‰Œè¡¥å……ï¼šæ¯ç§’å‘æ¡¶ä¸­æ·»åŠ 100ä¸ªä»¤ç‰Œ
è¯·æ±‚å¤„ç†ï¼šæ¯ä¸ªè¯·æ±‚å°è¯•æ¶ˆè´¹1ä¸ªä»¤ç‰Œ
é™æµåˆ¤æ–­ï¼š
æœ‰ä»¤ç‰Œï¼šå…è®¸è¯·æ±‚ï¼Œæ¶ˆè´¹ä»¤ç‰Œ
æ— ä»¤ç‰Œï¼šæ‹’ç»è¯·æ±‚ï¼Œè¿”å›429çŠ¶æ€ç 




3. DockerfileåŠK8s ç¼–æ’æ–‡ä»¶3.1 Dockerfile# ç¬¬ä¸€é˜¶æ®µï¼šæ„å»ºé˜¶æ®µ - ç»Ÿä¸€ä½¿ç”¨Java 11FROM maven:3.9.6-eclipse-temurin-17 AS builder# è®¾ç½®å·¥ä½œç›®å½•WORKDIR /usr/src/mymaven# å¤åˆ¶ Maven é…ç½®æ–‡ä»¶RUN mkdir -p /root/.m2COPY settings.xml /root/.m2/settings.xml# å¤åˆ¶pom.xmlå’Œæºä»£ç COPY pom.xml .COPY src ./src# æ„å»ºé¡¹ç›®RUN mvn -B  clean package# ç¬¬äºŒé˜¶æ®µï¼šè¿è¡Œé˜¶æ®µFROM eclipse-temurin:17-jre-centos7# è®¾ç½®æ—¶åŒºRUN ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtimeRUN echo &#x27;Asia/Shanghai&#x27; &gt;/etc/timezone# è®¾ç½®ç¯å¢ƒå˜é‡ENV JAVA_OPTS &#x27;&#x27;# è®¾ç½®å·¥ä½œç›®å½•WORKDIR /app# ä»æ„å»ºé˜¶æ®µå¤åˆ¶æ„å»ºç»“æœCOPY --from=builder /usr/src/mymaven/target/prometheus-test-demo-0.0.1-SNAPSHOT.jar ./prometheus-test-demo-0.0.1-SNAPSHOT.jar# å¯åŠ¨å‘½ä»¤ - ä½¿ç”¨Java 11å…¼å®¹çš„JVMå‚æ•°ENTRYPOINT [&quot;sh&quot;, &quot;-c&quot;, &quot;set -e &amp;&amp; java -XX:+PrintFlagsFinal \                                           -XX:+HeapDumpOnOutOfMemoryError \                                           -XX:HeapDumpPath=/heapdump/heapdump.hprof \                                           -XX:+UseContainerSupport \                                           -XX:MaxRAMPercentage=75.0 \                                           -Djava.security.egd=file:/dev/./urandom \                                           $JAVA_OPTS -jar prometheus-test-demo-0.0.1-SNAPSHOT.jar&quot;]

Dockerfile è®¾è®¡è¯´æ˜ï¼š

æ„å»ºé¡¹ç›®æ—¶åˆ å»åŸdemoçš„ -DskipTests å‚æ•°ï¼Œç›´æ¥è¿è¡Œæµ‹è¯•æ ·ä¾‹ï¼Œå› æ­¤åœ¨ Jenkinsfile ä¸­ä¸å†æ‰§è¡Œtestã€‚
ä¸‹å›¾ä¸ºæµ‹è¯•è¿è¡Œç»“æœ


3.2 Kubernetes éƒ¨ç½²æ–‡ä»¶ (prometheus-test-demo.yaml)apiVersion: apps/v1kind: Deploymentmetadata:  labels:    app: prometheus-test-demo  name: prometheus-test-demo  namespace: &#123;NAMESPACE&#125;spec:  replicas: 1  selector:    matchLabels:      app: prometheus-test-demo  template:    metadata:      annotations:        prometheus.io/path: /actuator/prometheus        prometheus.io/port: &quot;8998&quot;        prometheus.io/scheme: http        prometheus.io/scrape: &quot;true&quot;      labels:        app: prometheus-test-demo    spec:      initContainers:      - name: wait-for-redis        ../photos/posts/yys/image: busybox:1.36        command: [&#x27;sh&#x27;, &#x27;-c&#x27;]        args:        - |          until nc -z redis-service 6379; do            echo &quot;Waiting for Redis to be ready...&quot;            sleep 2          done          echo &quot;Redis is ready!&quot;      containers:        - ../photos/posts/yys/image: 172.22.83.19:30003/nju08/prometheus-test-demo:&#123;VERSION&#125;          name: prometheus-test-demo          ports:          - containerPort: 8998          env:          - name: REDIS_HOST            value: &quot;redis-service&quot;          - name: REDIS_PORT            value: &quot;6379&quot;          resources:            requests:              memory: &quot;128Mi&quot;                  cpu: &quot;100m&quot;                    limits:              memory: &quot;512Mi&quot;                  cpu: &quot;500m&quot;                  livenessProbe:            httpGet:              path: /actuator/health              port: 8998            initialDelaySeconds: 120            periodSeconds: 30            timeoutSeconds: 10            failureThreshold: 3          readinessProbe:            httpGet:              path: /actuator/health              port: 8998            initialDelaySeconds: 90            periodSeconds: 10            timeoutSeconds: 5            failureThreshold: 5---apiVersion: apps/v1kind: Deploymentmetadata:  name: redis  namespace: &#123;NAMESPACE&#125;  labels:    app: redisspec:  replicas: 1  selector:    matchLabels:      app: redis  template:    metadata:      labels:        app: redis    spec:      containers:      - name: redis        ../photos/posts/yys/image: redis:7-alpine        ports:        - containerPort: 6379        resources:          requests:            memory: &quot;64Mi&quot;            cpu: &quot;50m&quot;          limits:            memory: &quot;128Mi&quot;            cpu: &quot;100m&quot;        args:        - redis-server        - --appendonly        - &quot;yes&quot;        volumeMounts:        - name: redis-data          mountPath: /data      volumes:      - name: redis-data        emptyDir: &#123;&#125;---apiVersion: v1kind: Servicemetadata:  name: redis-service  namespace: &#123;NAMESPACE&#125;  labels:    app: redisspec:  selector:    app: redis  ports:  - name: redis    port: 6379    targetPort: 6379  type: ClusterIP---apiVersion: v1kind: Servicemetadata:  name: prometheus-test-demo  labels:    app: prometheus-test-demo  namespace: &#123;NAMESPACE&#125;spec:  type: NodePort  selector:    app: prometheus-test-demo  ports:    - name: management-port      protocol: TCP      port: 8998      targetPort: 8998

K8s é…ç½®è¯´æ˜ï¼š

ä½¿ç”¨ InitContainer ç¡®ä¿ Redis å…ˆå¯åŠ¨
é…ç½®äº†èµ„æºé™åˆ¶é˜²æ­¢èµ„æºè€—å°½
è®¾ç½®äº†å¥åº·æ£€æŸ¥ç¡®ä¿æœåŠ¡å¯ç”¨

3.3 ServiceMonitor é…ç½® (prometheus-test-serviceMonitor.yaml)apiVersion: monitoring.coreos.com/v1kind: ServiceMonitormetadata:  labels:    k8s-app: prometheus-test-demo  name: prometheus-test-demo  namespace: &#123;MONITOR_NAMESPACE&#125;spec:  endpoints:  - interval: 30s    port: tcp    path: /actuator/prometheus    scheme: &#x27;http&#x27;  selector:    matchLabels:      app: prometheus-test-demo  namespaceSelector:    matchNames:    - &#123;NAMESPACE&#125;


4. Jenkins æŒç»­é›†æˆã€æŒç»­éƒ¨ç½²ã€æŒç»­æµ‹è¯•é…ç½®æ–‡ä»¶ä¸è¯´æ˜4.1 Jenkinsfile å®Œæ•´é…ç½®pipeline &#123;    agent none        // ç¯å¢ƒå˜é‡ç®¡ç†    environment &#123;        HARBOR_REGISTRY = &#x27;172.22.83.19:30003&#x27;        IMAGE_NAME = &#x27;nju08/prometheus-test-demo&#x27;        GIT_REPO = &#x27;https://gitee.com/grissom_sh/prometheus-test-demo.git&#x27;        NAMESPACE = &#x27;nju08&#x27;        MONITOR_NAMESPACE = &#x27;nju08&#x27;        HARBOR_USER = &#x27;nju08&#x27;    &#125;        parameters &#123;        string(name: &#x27;HARBOR_PASS&#x27;, defaultValue: &#x27;&#x27;, description: &#x27;Harbor login password&#x27;)    &#125;        stages &#123;        stage(&#x27;Clone Code&#x27;) &#123;            agent &#123;                label &#x27;master&#x27;            &#125;            steps &#123;                echo &quot;1.Git Clone Code&quot;                script &#123;                    try &#123;                        git url: &quot;$&#123;env.GIT_REPO&#125;&quot;                    &#125; catch (Exception e) &#123;                        error &quot;Git clone failed: $&#123;e.getMessage()&#125;&quot;                    &#125;                &#125;            &#125;        &#125;                stage(&#x27;Image Build&#x27;) &#123;            agent &#123;                label &#x27;master&#x27;            &#125;            steps &#123;                echo &quot;2.Image Build Stage (åŒ…å« Maven æ„å»º)&quot;                timeout(time: 30, unit: &#x27;MINUTES&#x27;) &#123;                    script &#123;                        retry(3) &#123;                            try &#123;                                // ä½¿ç”¨ Dockerfile å¤šé˜¶æ®µæ„å»ºï¼ŒåŒ…å« Maven æ„å»ºå’Œé•œåƒæ„å»º                                sh &quot;docker build --cache-from $&#123;env.HARBOR_REGISTRY&#125;/$&#123;env.IMAGE_NAME&#125;:latest -t $&#123;env.HARBOR_REGISTRY&#125;/$&#123;env.IMAGE_NAME&#125;:$&#123;BUILD_NUMBER&#125; -t $&#123;env.HARBOR_REGISTRY&#125;/$&#123;env.IMAGE_NAME&#125;:latest .&quot;                            &#125; catch (Exception e) &#123;                                echo &quot;Docker build attempt failed: $&#123;e.getMessage()&#125;&quot;                                throw e                            &#125;                        &#125;                    &#125;                &#125;            &#125;        &#125;        stage(&#x27;Push&#x27;) &#123;            agent &#123;                label &#x27;master&#x27;            &#125;            steps &#123;                echo &quot;3.Push Docker Image Stage&quot;                script &#123;                    try &#123;                        sh &quot;echo &#x27;$&#123;HARBOR_PASS&#125;&#x27; | docker login --username=$&#123;HARBOR_USER&#125; --password-stdin $&#123;env.HARBOR_REGISTRY&#125;&quot;                        sh &quot;docker push $&#123;env.HARBOR_REGISTRY&#125;/$&#123;env.IMAGE_NAME&#125;:$&#123;BUILD_NUMBER&#125;&quot;                        sh &quot;docker push $&#123;env.HARBOR_REGISTRY&#125;/$&#123;env.IMAGE_NAME&#125;:latest&quot;                    &#125; catch (Exception e) &#123;                        error &quot;Docker push failed: $&#123;e.getMessage()&#125;&quot;                    &#125;                &#125;            &#125;        &#125;                        stage(&#x27;Deploy to Kubernetes&#x27;) &#123;            agent &#123;                label &#x27;slave&#x27;            &#125;            steps &#123;                container(&#x27;jnlp-kubectl&#x27;) &#123;                    script &#123;                        stage(&#x27;Clone YAML&#x27;) &#123;                            echo &quot;4. Git Clone YAML To Slave&quot;                            try &#123;                                // ä½¿ç”¨ checkout scm è·å–å½“å‰æµæ°´çº¿çš„æºä»£ç                                 checkout scm                            &#125; catch (Exception e) &#123;                                error &quot;Git clone on slave failed: $&#123;e.getMessage()&#125;&quot;                            &#125;                        &#125;                                                stage(&#x27;Config YAML&#x27;) &#123;                            echo &quot;5. Change YAML File Stage&quot;                            sh &#x27;sed -i &quot;s/&#123;VERSION&#125;/$&#123;BUILD_NUMBER&#125;/g&quot; ./jenkins/scripts/prometheus-test-demo.yaml&#x27;                            sh &#x27;sed -i &quot;s/&#123;NAMESPACE&#125;/$&#123;NAMESPACE&#125;/g&quot; ./jenkins/scripts/prometheus-test-demo.yaml&#x27;                            sh &#x27;sed -i &quot;s/&#123;MONITOR_NAMESPACE&#125;/$&#123;MONITOR_NAMESPACE&#125;/g&quot; ./jenkins/scripts/prometheus-test-serviceMonitor.yaml&#x27;                            sh &#x27;sed -i &quot;s/&#123;NAMESPACE&#125;/$&#123;NAMESPACE&#125;/g&quot; ./jenkins/scripts/prometheus-test-serviceMonitor.yaml&#x27;                            sh &#x27;cat ./jenkins/scripts/prometheus-test-demo.yaml&#x27;                            sh &#x27;cat ./jenkins/scripts/prometheus-test-serviceMonitor.yaml&#x27;                        &#125;                                                stage(&#x27;Deploy prometheus-test-demo&#x27;) &#123;                            echo &quot;6. Deploy To K8s Stage&quot;                            sh &#x27;kubectl apply -f ./jenkins/scripts/prometheus-test-demo.yaml&#x27;                        &#125;                                                stage(&#x27;Wait for Redis&#x27;) &#123;                            echo &quot;6.5. Wait for Redis to be ready&quot;                            try &#123;                                sh &quot;kubectl wait --for=condition=ready pod -l app=redis -n $&#123;NAMESPACE&#125; --timeout=120s&quot;                                echo &quot;Redis is ready!&quot;                            &#125; catch (Exception e) &#123;                                echo &quot;Redis readiness check failed, but continuing: $&#123;e.getMessage()&#125;&quot;                            &#125;                        &#125;                                                stage(&#x27;Deploy prometheus-test-demo ServiceMonitor&#x27;) &#123;                            echo &quot;7. Deploy ServiceMonitor To K8s Stage&quot;                            try &#123;                                sh &#x27;kubectl apply -f ./jenkins/scripts/prometheus-test-serviceMonitor.yaml&#x27;                            &#125; catch (Exception e) &#123;                                error &quot;ServiceMonitor deployment failed: $&#123;e.getMessage()&#125;&quot;                            &#125;                        &#125;                                                stage(&#x27;Health Check&#x27;) &#123;                            echo &quot;8. Health Check Stage&quot;                            try &#123;                                sh &quot;kubectl wait --for=condition=ready pod -l app=prometheus-test-demo -n $&#123;NAMESPACE&#125; --timeout=300s&quot;                                echo &quot;Application is healthy and ready!&quot;                            &#125; catch (Exception e) &#123;                                error &quot;Health check failed: $&#123;e.getMessage()&#125;&quot;                            &#125;                        &#125;                    &#125;                &#125;            &#125;        &#125;    &#125;        // é€šçŸ¥æœºåˆ¶å’Œæ¸…ç†    post &#123;        success &#123;            echo &#x27;ğŸ‰ Pipeline succeeded! Application deployed successfully.&#x27;            script &#123;                echo &quot;âœ… Deployment Summary:&quot;                echo &quot;   - Image: $&#123;env.HARBOR_REGISTRY&#125;/$&#123;env.IMAGE_NAME&#125;:$&#123;BUILD_NUMBER&#125;&quot;                echo &quot;   - Namespace: $&#123;NAMESPACE&#125;&quot;                echo &quot;   - Monitor Namespace: $&#123;MONITOR_NAMESPACE&#125;&quot;            &#125;        &#125;        failure &#123;            echo &#x27;âŒ Pipeline failed! Please check the logs for details.&#x27;        &#125;        always &#123;            echo &#x27;ğŸ”„ Pipeline execution completed.&#x27;            // æ¸…ç†æœ¬åœ°é•œåƒä»¥èŠ‚çœç£ç›˜ç©ºé—´            script &#123;                try &#123;                    sh &quot;docker rmi $&#123;env.HARBOR_REGISTRY&#125;/$&#123;env.IMAGE_NAME&#125;:$&#123;BUILD_NUMBER&#125; || true&quot;                    sh &quot;docker rmi $&#123;env.HARBOR_REGISTRY&#125;/$&#123;env.IMAGE_NAME&#125;:latest || true&quot;                    sh &quot;docker system prune -f || true&quot;                &#125; catch (Exception e) &#123;                    echo &quot;Image cleanup failed: $&#123;e.getMessage()&#125;&quot;                &#125;            &#125;        &#125;    &#125;&#125;

4.2 Jenkins æµæ°´çº¿è¯´æ˜æµæ°´çº¿å„é˜¶æ®µè¯¦è§£ï¼š

Checkout é˜¶æ®µï¼š

æ‹‰å–æºä»£ç 
ç”Ÿæˆæ„å»ºç‰ˆæœ¬å·


Build é˜¶æ®µï¼š

Maven ç¼–è¯‘å’Œæµ‹è¯•
ç”Ÿæˆæ„å»ºäº§ç‰©


Docker Build &amp; Push é˜¶æ®µï¼š

æ„å»ºå®¹å™¨é•œåƒ
æ¨é€åˆ°é•œåƒä»“åº“


Deploy to Kubernetes é˜¶æ®µï¼š

é…ç½® K8s éƒ¨ç½²æ–‡ä»¶
éƒ¨ç½²åº”ç”¨å’Œä¾èµ–æœåŠ¡
å¥åº·æ£€æŸ¥



4.3 CI&#x2F;CD æµç¨‹éªŒè¯æˆªå›¾ä½ç½®é•œåƒæ„å»ºæˆªå›¾ï¼š
æ„å»ºæˆåŠŸæˆªå›¾ï¼š
éƒ¨ç½²æˆåŠŸæˆªå›¾ï¼š

5. ç›‘æ§æŒ‡æ ‡é‡‡é›†çš„é…ç½®åŠè¯´æ˜ï¼›Grafana ç›‘æ§å¤§å±æˆªå›¾5.1 Prometheus ç›‘æ§é…ç½®5.1.1 åº”ç”¨ç›‘æ§æ³¨è§£é…ç½®åº”ç”¨ Pod é…ç½®äº† Prometheus è‡ªåŠ¨å‘ç°æ³¨è§£ï¼š
annotations:  prometheus.io/path: /actuator/prometheus    # æŒ‡æ ‡é‡‡é›†è·¯å¾„  prometheus.io/port: &quot;8998&quot;                  # ç›‘æ§ç«¯å£  prometheus.io/scheme: http                  # åè®®  prometheus.io/scrape: &quot;true&quot;               # å¯ç”¨è‡ªåŠ¨å‘ç°

5.1.2 ServiceMonitor é…ç½®apiVersion: monitoring.coreos.com/v1kind: ServiceMonitormetadata:  labels:    k8s-app: prometheus-test-demo  name: prometheus-test-demo  namespace: &#123;MONITOR_NAMESPACE&#125;spec:  endpoints:  - interval: 30s    port: tcp    path: /actuator/prometheus    scheme: &#x27;http&#x27;  selector:    matchLabels:      app: prometheus-test-demo  namespaceSelector:    matchNames:    - &#123;NAMESPACE&#125;

5.2 å…³é”®ç›‘æ§æŒ‡æ ‡5.2.1 åº”ç”¨æ€§èƒ½æŒ‡æ ‡
HTTP è¯·æ±‚æŒ‡æ ‡ï¼š

http_server_requests_seconds_count - è¯·æ±‚æ€»æ•°
http_server_requests_seconds_sum - è¯·æ±‚æ€»è€—æ—¶
http_server_requests_seconds_max - æœ€å¤§å“åº”æ—¶é—´


JVM æŒ‡æ ‡ï¼š

jvm_memory_used_bytes - JVM å†…å­˜ä½¿ç”¨
jvm_gc_pause_seconds - GC æš‚åœæ—¶é—´
jvm_threads_live_threads - æ´»è·ƒçº¿ç¨‹æ•°



5.2.2 é™æµç›¸å…³æŒ‡æ ‡
Bucket4j æŒ‡æ ‡ï¼ˆå¦‚æœé…ç½®äº† Micrometer é›†æˆï¼‰ï¼š

bucket4j_consumed_tokens_total - æ¶ˆè´¹çš„ä»¤ç‰Œæ€»æ•°
bucket4j_rejected_requests_total - è¢«æ‹’ç»çš„è¯·æ±‚æ•°
bucket4j_available_tokens - å¯ç”¨ä»¤ç‰Œæ•°


Tomcat è¿æ¥æ± æŒ‡æ ‡ï¼š

tomcat_sessions_active_current - æ´»è·ƒä¼šè¯æ•°
tomcat_threads_busy_threads - ç¹å¿™çº¿ç¨‹æ•°
tomcat_threads_config_max_threads - æœ€å¤§çº¿ç¨‹æ•°


æŒ‡æ ‡ç›‘æµ‹ï¼š

ç«¯å£è½¬å‘ä¹‹å curl http://localhost:8998/actuator/prometheusï¼Œå¾—åˆ°è¯¦ç»†æ•°æ®ã€‚

# HELP application_ready_time_seconds Time taken for the application to be ready to service requests# TYPE application_ready_time_seconds gaugeapplication_ready_time_seconds&#123;main_application_class=&quot;com.hello.hello.HelloApplication&quot;&#125; 47.994# HELP application_started_time_seconds Time taken to start the application# TYPE application_started_time_seconds gaugeapplication_started_time_seconds&#123;main_application_class=&quot;com.hello.hello.HelloApplication&quot;&#125; 47.787# HELP disk_free_bytes Usable space for path# TYPE disk_free_bytes gaugedisk_free_bytes&#123;path=&quot;/app/.&quot;&#125; 4.1373339648E10# HELP disk_total_bytes Total space for path# TYPE disk_total_bytes gaugedisk_total_bytes&#123;path=&quot;/app/.&quot;&#125; 5.36608768E10# HELP executor_active_threads The approximate number of threads that are actively executing tasks# TYPE executor_active_threads gaugeexecutor_active_threads&#123;name=&quot;applicationTaskExecutor&quot;&#125; 0.0# HELP executor_completed_tasks_total The approximate total number of tasks that have completed execution# TYPE executor_completed_tasks_total counterexecutor_completed_tasks_total&#123;name=&quot;applicationTaskExecutor&quot;&#125; 0.0# HELP executor_pool_core_threads The core number of threads for the pool# TYPE executor_pool_core_threads gaugeexecutor_pool_core_threads&#123;name=&quot;applicationTaskExecutor&quot;&#125; 8.0# HELP executor_pool_max_threads The maximum allowed number of threads in the pool# TYPE executor_pool_max_threads gaugeexecutor_pool_max_threads&#123;name=&quot;applicationTaskExecutor&quot;&#125; 2.147483647E9# HELP executor_pool_size_threads The current number of threads in the pool# TYPE executor_pool_size_threads gaugeexecutor_pool_size_threads&#123;name=&quot;applicationTaskExecutor&quot;&#125; 0.0# HELP executor_queue_remaining_tasks The number of additional elements that this queue can ideally accept without blocking# TYPE executor_queue_remaining_tasks gaugeexecutor_queue_remaining_tasks&#123;name=&quot;applicationTaskExecutor&quot;&#125; 2.147483647E9# HELP executor_queued_tasks The approximate number of tasks that are queued for execution# TYPE executor_queued_tasks gaugeexecutor_queued_tasks&#123;name=&quot;applicationTaskExecutor&quot;&#125; 0.0# HELP http_server_requests_active_seconds  # TYPE http_server_requests_active_seconds summaryhttp_server_requests_active_seconds_count&#123;exception=&quot;none&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;UNKNOWN&quot;&#125; 1http_server_requests_active_seconds_sum&#123;exception=&quot;none&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;UNKNOWN&quot;&#125; 0.194124977# HELP http_server_requests_active_seconds_max  # TYPE http_server_requests_active_seconds_max gaugehttp_server_requests_active_seconds_max&#123;exception=&quot;none&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;UNKNOWN&quot;&#125; 0.262306658# HELP http_server_requests_seconds  # TYPE http_server_requests_seconds summaryhttp_server_requests_seconds_count&#123;error=&quot;IOException&quot;,exception=&quot;IOException&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/hello&quot;&#125; 77http_server_requests_seconds_sum&#123;error=&quot;IOException&quot;,exception=&quot;IOException&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/hello&quot;&#125; 588.946979862http_server_requests_seconds_count&#123;error=&quot;none&quot;,exception=&quot;none&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/actuator/health&quot;&#125; 1314http_server_requests_seconds_sum&#123;error=&quot;none&quot;,exception=&quot;none&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/actuator/health&quot;&#125; 8.224338786http_server_requests_seconds_count&#123;error=&quot;none&quot;,exception=&quot;none&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/hello&quot;&#125; 4708http_server_requests_seconds_sum&#123;error=&quot;none&quot;,exception=&quot;none&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/hello&quot;&#125; 15666.990410086# HELP http_server_requests_seconds_max  # TYPE http_server_requests_seconds_max gaugehttp_server_requests_seconds_max&#123;error=&quot;IOException&quot;,exception=&quot;IOException&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/hello&quot;&#125; 0.0http_server_requests_seconds_max&#123;error=&quot;none&quot;,exception=&quot;none&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/actuator/health&quot;&#125; 0.003561359http_server_requests_seconds_max&#123;error=&quot;none&quot;,exception=&quot;none&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/hello&quot;&#125; 0.0# HELP jvm_info JVM version info# TYPE jvm_info gaugejvm_info&#123;runtime=&quot;OpenJDK Runtime Environment&quot;,vendor=&quot;Eclipse Adoptium&quot;,version=&quot;17.0.11+9&quot;&#125; 1# HELP jvm_buffer_count_buffers An estimate of the number of buffers in the pool# TYPE jvm_buffer_count_buffers gaugejvm_buffer_count_buffers&#123;id=&quot;direct&quot;&#125; 12.0jvm_buffer_count_buffers&#123;id=&quot;mapped&quot;&#125; 0.0jvm_buffer_count_buffers&#123;id=&quot;mapped - &#x27;non-volatile memory&#x27;&quot;&#125; 0.0# HELP jvm_buffer_memory_used_bytes An estimate of the memory that the Java virtual machine is using for this buffer pool# TYPE jvm_buffer_memory_used_bytes gaugejvm_buffer_memory_used_bytes&#123;id=&quot;direct&quot;&#125; 100352.0jvm_buffer_memory_used_bytes&#123;id=&quot;mapped&quot;&#125; 0.0jvm_buffer_memory_used_bytes&#123;id=&quot;mapped - &#x27;non-volatile memory&#x27;&quot;&#125; 0.0# HELP jvm_buffer_total_capacity_bytes An estimate of the total capacity of the buffers in this pool# TYPE jvm_buffer_total_capacity_bytes gaugejvm_buffer_total_capacity_bytes&#123;id=&quot;direct&quot;&#125; 100352.0jvm_buffer_total_capacity_bytes&#123;id=&quot;mapped&quot;&#125; 0.0jvm_buffer_total_capacity_bytes&#123;id=&quot;mapped - &#x27;non-volatile memory&#x27;&quot;&#125; 0.0# HELP jvm_classes_loaded_classes The number of classes that are currently loaded in the Java virtual machine# TYPE jvm_classes_loaded_classes gaugejvm_classes_loaded_classes 10568.0# HELP jvm_classes_unloaded_classes_total The number of classes unloaded in the Java virtual machine# TYPE jvm_classes_unloaded_classes_total counterjvm_classes_unloaded_classes_total 80.0# HELP jvm_compilation_time_ms_total The approximate accumulated elapsed time spent in compilation# TYPE jvm_compilation_time_ms_total counterjvm_compilation_time_ms_total&#123;compiler=&quot;HotSpot 64-Bit Tiered Compilers&quot;&#125; 218885.0# HELP jvm_gc_live_data_size_bytes Size of long-lived heap memory pool after reclamation# TYPE jvm_gc_live_data_size_bytes gaugejvm_gc_live_data_size_bytes 8.5416936E7# HELP jvm_gc_max_data_size_bytes Max size of long-lived heap memory pool# TYPE jvm_gc_max_data_size_bytes gaugejvm_gc_max_data_size_bytes 2.68435456E8# HELP jvm_gc_memory_allocated_bytes_total Incremented for an increase in the size of the (young) heap memory pool after one GC to before the next# TYPE jvm_gc_memory_allocated_bytes_total counterjvm_gc_memory_allocated_bytes_total 4.95829704E8# HELP jvm_gc_memory_promoted_bytes_total Count of positive increases in the size of the old generation memory pool before GC to after GC# TYPE jvm_gc_memory_promoted_bytes_total counterjvm_gc_memory_promoted_bytes_total 7.1289304E7# HELP jvm_gc_overhead An approximation of the percent of CPU time used by GC activities over the last lookback period or since monitoring began, whichever is shorter, in the range [0..1]# TYPE jvm_gc_overhead gaugejvm_gc_overhead 0.0# HELP jvm_gc_pause_seconds Time spent in GC pause# TYPE jvm_gc_pause_seconds summaryjvm_gc_pause_seconds_count&#123;action=&quot;end of major GC&quot;,cause=&quot;Allocation Failure&quot;,gc=&quot;MarkSweepCompact&quot;&#125; 3jvm_gc_pause_seconds_sum&#123;action=&quot;end of major GC&quot;,cause=&quot;Allocation Failure&quot;,gc=&quot;MarkSweepCompact&quot;&#125; 0.976jvm_gc_pause_seconds_count&#123;action=&quot;end of minor GC&quot;,cause=&quot;Allocation Failure&quot;,gc=&quot;Copy&quot;&#125; 16jvm_gc_pause_seconds_sum&#123;action=&quot;end of minor GC&quot;,cause=&quot;Allocation Failure&quot;,gc=&quot;Copy&quot;&#125; 1.047# HELP jvm_gc_pause_seconds_max Time spent in GC pause# TYPE jvm_gc_pause_seconds_max gaugejvm_gc_pause_seconds_max&#123;action=&quot;end of major GC&quot;,cause=&quot;Allocation Failure&quot;,gc=&quot;MarkSweepCompact&quot;&#125; 0.0jvm_gc_pause_seconds_max&#123;action=&quot;end of minor GC&quot;,cause=&quot;Allocation Failure&quot;,gc=&quot;Copy&quot;&#125; 0.0# HELP jvm_memory_committed_bytes The amount of memory in bytes that is committed for the Java virtual machine to use# TYPE jvm_memory_committed_bytes gaugejvm_memory_committed_bytes&#123;area=&quot;heap&quot;,id=&quot;Eden Space&quot;&#125; 5.7081856E7jvm_memory_committed_bytes&#123;area=&quot;heap&quot;,id=&quot;Survivor Space&quot;&#125; 7077888.0jvm_memory_committed_bytes&#123;area=&quot;heap&quot;,id=&quot;Tenured Gen&quot;&#125; 1.42364672E8jvm_memory_committed_bytes&#123;area=&quot;nonheap&quot;,id=&quot;CodeHeap &#x27;non-nmethods&#x27;&quot;&#125; 2555904.0jvm_memory_committed_bytes&#123;area=&quot;nonheap&quot;,id=&quot;CodeHeap &#x27;non-profiled nmethods&#x27;&quot;&#125; 5636096.0jvm_memory_committed_bytes&#123;area=&quot;nonheap&quot;,id=&quot;CodeHeap &#x27;profiled nmethods&#x27;&quot;&#125; 1.572864E7jvm_memory_committed_bytes&#123;area=&quot;nonheap&quot;,id=&quot;Compressed Class Space&quot;&#125; 6815744.0jvm_memory_committed_bytes&#123;area=&quot;nonheap&quot;,id=&quot;Metaspace&quot;&#125; 5.1707904E7# HELP jvm_memory_max_bytes The maximum amount of memory in bytes that can be used for memory management# TYPE jvm_memory_max_bytes gaugejvm_memory_max_bytes&#123;area=&quot;heap&quot;,id=&quot;Eden Space&quot;&#125; 1.0747904E8jvm_memory_max_bytes&#123;area=&quot;heap&quot;,id=&quot;Survivor Space&quot;&#125; 1.3369344E7jvm_memory_max_bytes&#123;area=&quot;heap&quot;,id=&quot;Tenured Gen&quot;&#125; 2.68435456E8jvm_memory_max_bytes&#123;area=&quot;nonheap&quot;,id=&quot;CodeHeap &#x27;non-nmethods&#x27;&quot;&#125; 5828608.0jvm_memory_max_bytes&#123;area=&quot;nonheap&quot;,id=&quot;CodeHeap &#x27;non-profiled nmethods&#x27;&quot;&#125; 1.22916864E8jvm_memory_max_bytes&#123;area=&quot;nonheap&quot;,id=&quot;CodeHeap &#x27;profiled nmethods&#x27;&quot;&#125; 1.22912768E8jvm_memory_max_bytes&#123;area=&quot;nonheap&quot;,id=&quot;Compressed Class Space&quot;&#125; 1.073741824E9jvm_memory_max_bytes&#123;area=&quot;nonheap&quot;,id=&quot;Metaspace&quot;&#125; -1.0# HELP jvm_memory_usage_after_gc The percentage of long-lived heap pool used after the last GC event, in the range [0..1]# TYPE jvm_memory_usage_after_gc gaugejvm_memory_usage_after_gc&#123;area=&quot;heap&quot;,pool=&quot;long-lived&quot;&#125; 0.3310730457305908# HELP jvm_memory_used_bytes The amount of used memory# TYPE jvm_memory_used_bytes gaugejvm_memory_used_bytes&#123;area=&quot;heap&quot;,id=&quot;Eden Space&quot;&#125; 3.3653184E7jvm_memory_used_bytes&#123;area=&quot;heap&quot;,id=&quot;Survivor Space&quot;&#125; 854168.0jvm_memory_used_bytes&#123;area=&quot;heap&quot;,id=&quot;Tenured Gen&quot;&#125; 8.8871744E7jvm_memory_used_bytes&#123;area=&quot;nonheap&quot;,id=&quot;CodeHeap &#x27;non-nmethods&#x27;&quot;&#125; 1349248.0jvm_memory_used_bytes&#123;area=&quot;nonheap&quot;,id=&quot;CodeHeap &#x27;non-profiled nmethods&#x27;&quot;&#125; 5586048.0jvm_memory_used_bytes&#123;area=&quot;nonheap&quot;,id=&quot;CodeHeap &#x27;profiled nmethods&#x27;&quot;&#125; 1.5632E7jvm_memory_used_bytes&#123;area=&quot;nonheap&quot;,id=&quot;Compressed Class Space&quot;&#125; 6518344.0jvm_memory_used_bytes&#123;area=&quot;nonheap&quot;,id=&quot;Metaspace&quot;&#125; 5.1187048E7# HELP jvm_threads_daemon_threads The current number of live daemon threads# TYPE jvm_threads_daemon_threads gaugejvm_threads_daemon_threads 20.0# HELP jvm_threads_live_threads The current number of live threads including both daemon and non-daemon threads# TYPE jvm_threads_live_threads gaugejvm_threads_live_threads 24.0# HELP jvm_threads_peak_threads The peak live thread count since the Java virtual machine started or peak was reset# TYPE jvm_threads_peak_threads gaugejvm_threads_peak_threads 214.0# HELP jvm_threads_started_threads_total The total number of application threads started in the JVM# TYPE jvm_threads_started_threads_total counterjvm_threads_started_threads_total 249.0# HELP jvm_threads_states_threads The current number of threads# TYPE jvm_threads_states_threads gaugejvm_threads_states_threads&#123;state=&quot;blocked&quot;&#125; 0.0jvm_threads_states_threads&#123;state=&quot;new&quot;&#125; 0.0jvm_threads_states_threads&#123;state=&quot;runnable&quot;&#125; 7.0jvm_threads_states_threads&#123;state=&quot;terminated&quot;&#125; 0.0jvm_threads_states_threads&#123;state=&quot;timed-waiting&quot;&#125; 6.0jvm_threads_states_threads&#123;state=&quot;waiting&quot;&#125; 11.0# HELP logback_events_total Number of log events that were enabled by the effective log level# TYPE logback_events_total counterlogback_events_total&#123;level=&quot;debug&quot;&#125; 0.0logback_events_total&#123;level=&quot;error&quot;&#125; 0.0logback_events_total&#123;level=&quot;info&quot;&#125; 5.0logback_events_total&#123;level=&quot;trace&quot;&#125; 0.0logback_events_total&#123;level=&quot;warn&quot;&#125; 0.0# HELP process_cpu_time_ns_total The &quot;cpu time&quot; used by the Java Virtual Machine process# TYPE process_cpu_time_ns_total counterprocess_cpu_time_ns_total 1.0813E11# HELP process_cpu_usage The &quot;recent cpu usage&quot; for the Java Virtual Machine process# TYPE process_cpu_usage gaugeprocess_cpu_usage 0.09197856413746172# HELP process_files_max_files The maximum file descriptor count# TYPE process_files_max_files gaugeprocess_files_max_files 1048576.0# HELP process_files_open_files The open file descriptor count# TYPE process_files_open_files gaugeprocess_files_open_files 15.0# HELP process_start_time_seconds Start time of the process since unix epoch.# TYPE process_start_time_seconds gaugeprocess_start_time_seconds 1.752976768479E9# HELP process_uptime_seconds The uptime of the Java virtual machine# TYPE process_uptime_seconds gaugeprocess_uptime_seconds 9948.976# HELP system_cpu_count The number of processors available to the Java virtual machine# TYPE system_cpu_count gaugesystem_cpu_count 1.0# HELP system_cpu_usage The &quot;recent cpu usage&quot; of the system the application is running in# TYPE system_cpu_usage gaugesystem_cpu_usage 0.09208738261313372# HELP system_load_average_1m The sum of the number of runnable entities queued to available processors and the number of runnable entities running on the available processors averaged over a period of time# TYPE system_load_average_1m gaugesystem_load_average_1m 0.08# HELP tomcat_sessions_active_current_sessions  # TYPE tomcat_sessions_active_current_sessions gaugetomcat_sessions_active_current_sessions 0.0# HELP tomcat_sessions_active_max_sessions  # TYPE tomcat_sessions_active_max_sessions gaugetomcat_sessions_active_max_sessions 0.0# HELP tomcat_sessions_alive_max_seconds  # TYPE tomcat_sessions_alive_max_seconds gaugetomcat_sessions_alive_max_seconds 0.0# HELP tomcat_sessions_created_sessions_total  # TYPE tomcat_sessions_created_sessions_total countertomcat_sessions_created_sessions_total 0.0# HELP tomcat_sessions_expired_sessions_total  # TYPE tomcat_sessions_expired_sessions_total countertomcat_sessions_expired_sessions_total 0.0# HELP tomcat_sessions_rejected_sessions_total  # TYPE tomcat_sessions_rejected_sessions_total countertomcat_sessions_rejected_sessions_total 0.0

5.3 Grafana ç›‘æ§å¤§å±é…ç½®5.3.1 ç›‘æ§å¤§å±æ¦‚è§ˆæœ¬é¡¹ç›®æˆåŠŸé…ç½®äº†å¤šä¸ª Grafana ç›‘æ§å¤§å±ï¼Œæ¶µç›–äº†åº”ç”¨æ€§èƒ½ã€ç½‘ç»œæµé‡å’Œèµ„æºä½¿ç”¨ç­‰å…³é”®æŒ‡æ ‡ï¼š

SpringBoot APM Dashboard - åº”ç”¨æ€§èƒ½ç›‘æ§
Kubernetes &#x2F; Compute Resources &#x2F; Namespace - é›†ç¾¤èµ„æºç›‘æ§  
ç½‘ç»œæµé‡ç›‘æ§é¢æ¿ - Pod é—´é€šä¿¡ç›‘æ§

5.3.2 SpringBoot APM Dashboard é…ç½®é¢æ¿é…ç½®è¯´æ˜ï¼š
&#123;  &quot;dashboard&quot;: &#123;    &quot;title&quot;: &quot;SpringBoot APM Dashboard&quot;,    &quot;panels&quot;: [      &#123;        &quot;title&quot;: &quot;Basic Statistics&quot;,        &quot;type&quot;: &quot;stat&quot;,        &quot;targets&quot;: [          &#123;            &quot;expr&quot;: &quot;process_uptime_seconds&#123;instance=~\&quot;.*prometheus-test-demo.*\&quot;&#125;&quot;,            &quot;legendFormat&quot;: &quot;Uptime&quot;          &#125;,          &#123;            &quot;expr&quot;: &quot;jvm_memory_used_bytes&#123;area=\&quot;heap\&quot;&#125;/jvm_memory_max_bytes&#123;area=\&quot;heap\&quot;&#125;*100&quot;,            &quot;legendFormat&quot;: &quot;Heap Used %&quot;          &#125;        ]      &#125;    ]  &#125;&#125;

å…³é”®ç›‘æ§æŒ‡æ ‡ï¼š

è¿è¡Œæ—¶é—´: 1.5 å¤©ç¨³å®šè¿è¡Œ
å †å†…å­˜ä½¿ç”¨: 9.4% (å¥åº·æ°´å¹³)
éå †å†…å­˜ä½¿ç”¨: 5.2% (æ­£å¸¸çŠ¶æ€)
CPU ä½¿ç”¨ç‡: å¹³å‡ 0.577% (ç³»ç»Ÿç©ºé—²)
è´Ÿè½½å‡è¡¡: 0.436 (è½»è´Ÿè½½)


5.3.3 Kubernetes èµ„æºç›‘æ§é…ç½®é›†ç¾¤èµ„æºç›‘æ§é¢æ¿é…ç½®ï¼š
CPU ä½¿ç”¨ç‡ç›‘æ§ï¼š
# CPU ä½¿ç”¨ç‡ (åŸºäºè¯·æ±‚)rate(container_cpu_usage_seconds_total&#123;namespace=&quot;nju08&quot;&#125;[5m]) * 100# CPU ä½¿ç”¨ç‡ (åŸºäºé™åˆ¶)  rate(container_cpu_usage_seconds_total&#123;namespace=&quot;nju08&quot;&#125;[5m]) / on(pod) kube_pod_container_resource_limits&#123;resource=&quot;cpu&quot;&#125; * 100

å†…å­˜ä½¿ç”¨ç‡ç›‘æ§ï¼š
# å†…å­˜ä½¿ç”¨ç‡ (åŸºäºè¯·æ±‚)container_memory_usage_bytes&#123;namespace=&quot;nju08&quot;&#125; / container_spec_memory_limit_bytes * 100# å†…å­˜ä½¿ç”¨ç‡ (åŸºäºé™åˆ¶)container_memory_usage_bytes&#123;namespace=&quot;nju08&quot;&#125; / on(pod) kube_pod_container_resource_limits&#123;resource=&quot;memory&quot;&#125; * 100

ç›‘æ§æ•°æ®åˆ†æï¼š

CPU ä½¿ç”¨ç‡ (åŸºäºè¯·æ±‚)
CPU ä½¿ç”¨ç‡ (åŸºäºé™åˆ¶) 
å†…å­˜ä½¿ç”¨ç‡ (åŸºäºè¯·æ±‚) 
å†…å­˜ä½¿ç”¨ç‡ (åŸºäºé™åˆ¶)


5.3.4 ç½‘ç»œæµé‡ç›‘æ§é…ç½®ç½‘ç»œç›‘æ§é¢æ¿é…ç½®ï¼š
æ¥æ”¶&#x2F;å‘é€å­—èŠ‚æ•°ç›‘æ§ï¼š
# ç½‘ç»œæ¥æ”¶é€Ÿç‡rate(container_network_receive_bytes_total&#123;namespace=&quot;nju08&quot;&#125;[5m])# ç½‘ç»œå‘é€é€Ÿç‡  rate(container_network_transmit_bytes_total&#123;namespace=&quot;nju08&quot;&#125;[5m])

ç½‘ç»œåŒ…ç›‘æ§ï¼š
# æ¥æ”¶åŒ…é€Ÿç‡rate(container_network_receive_packets_total&#123;namespace=&quot;nju08&quot;&#125;[5m])# å‘é€åŒ…é€Ÿç‡rate(container_network_transmit_packets_total&#123;namespace=&quot;nju08&quot;&#125;[5m])# ä¸¢åŒ…ç‡rate(container_network_receive_packets_dropped_total&#123;namespace=&quot;nju08&quot;&#125;[5m])rate(container_network_transmit_packets_dropped_total&#123;namespace=&quot;nju08&quot;&#125;[5m])

ç½‘ç»œæµé‡åˆ†æï¼š

å³°å€¼ç½‘ç»œååé‡: ~200 kB&#x2F;s (å‘é€&#x2F;æ¥æ”¶)
å³°å€¼åŒ…é€Ÿç‡: ~2 kp&#x2F;s (æ¥æ”¶&#x2F;å‘é€)
ç½‘ç»œæ´»åŠ¨æ—¶é—´: 05:30 å·¦å³å‡ºç°æµé‡å³°å€¼
ä¸¢åŒ…æƒ…å†µ: åŸºæœ¬æ— ä¸¢åŒ…ï¼Œç½‘ç»œç¨³å®š


5.3.5 å‹æµ‹æ—¶çš„ç›‘æ§è¡¨ç°å‹æµ‹æœŸé—´å…³é”®æŒ‡æ ‡å˜åŒ–ï¼š

CPU ä½¿ç”¨ç‡é£™å‡ï¼š

å‹æµ‹å‰: ~0.003 (0.3%)
å‹æµ‹æ—¶: ~0.37 (37%)
å¢é•¿å€æ•°: çº¦ 123 å€


ç½‘ç»œæµé‡æ¿€å¢ï¼š

æ­£å¸¸æ—¶: å‡ ä¹æ— æµé‡ (0-10 kB&#x2F;s)
å‹æµ‹æ—¶: å³°å€¼ 200 kB&#x2F;s
åŒ…é€Ÿç‡: å³°å€¼ 2000 packets&#x2F;s


å†…å­˜ä½¿ç”¨ç¨³å®šï¼š

å†…å­˜ä½¿ç”¨ç‡ä¿æŒåœ¨åˆç†èŒƒå›´
æœªå‡ºç°å†…å­˜æ³„æ¼ç°è±¡



5.3.6 é™æµæ•ˆæœåœ¨ç›‘æ§ä¸­çš„ä½“ç°é™æµç›‘æ§é…ç½®ï¼š
# HTTP è¯·æ±‚é€Ÿç‡rate(http_server_requests_seconds_count&#123;uri=&quot;/hello&quot;&#125;[1m]) * 60# é”™è¯¯ç‡ (é™æµè§¦å‘)rate(http_server_requests_seconds_count&#123;exception=&quot;IOException&quot;&#125;[1m]) /rate(http_server_requests_seconds_count&#123;uri=&quot;/hello&quot;&#125;[1m]) * 100# è¿æ¥æ•°ç›‘æ§tomcat_threads_busy_threads / tomcat_threads_config_max_threads * 100

é™æµæ•ˆæœè§‚å¯Ÿï¼š

âœ… æµé‡æ§åˆ¶æœ‰æ•ˆ: ç½‘ç»œæµé‡åœ¨è¾¾åˆ°å³°å€¼åå¿«é€Ÿå›è½
âœ… CPU ä¿æŠ¤æœºåˆ¶: CPU ä½¿ç”¨ç‡æœªè¶…è¿‡å±é™©é˜ˆå€¼
âœ… è¿æ¥å±‚é™æµ: é€šè¿‡ç½‘ç»œåŒ…ä¸¢å¼ƒå®ç°æ—©æœŸé™æµ


6. å‹æµ‹6.1 å‹æµ‹å·¥å…·6.1.1 åŸºç¡€å‹æµ‹è„šæœ¬#!/bin/bashURL=&quot;http://localhost:8998/hello&quot;CONCURRENT=10REQUESTS=100echo &quot;Starting load test...&quot;echo &quot;URL: $URL&quot;echo &quot;Concurrent requests: $CONCURRENT&quot;echo &quot;Total requests: $REQUESTS&quot;for i in $(seq 1 $REQUESTS); do    (        response=$(curl -s -w &quot;%&#123;http_code&#125;,%&#123;time_total&#125;&quot; -o /dev/null $URL)        echo &quot;Request $i: $response&quot;    ) &amp;        # æ§åˆ¶å¹¶å‘æ•°    if (( $i % $CONCURRENT == 0 )); then        wait    fidonewaitecho &quot;Load test completed!&quot;

6.1.2 é«˜é¢‘é™æµæµ‹è¯•è„šæœ¬#!/bin/bash# é¢œè‰²å®šä¹‰RED=&#x27;\033[0;31m&#x27;GREEN=&#x27;\033[0;32m&#x27;YELLOW=&#x27;\033[1;33m&#x27;BLUE=&#x27;\033[0;34m&#x27;NC=&#x27;\033[0m&#x27; # No ColorURL=&quot;http://localhost:8998/hello&quot;NAMESPACE=&quot;nju08&quot;echo &quot;=========================================&quot;echo &quot;YYS é¡¹ç›® - è¶…é«˜é¢‘é™æµæµ‹è¯•è„šæœ¬&quot;echo &quot;=========================================&quot;# æ£€æŸ¥ç«¯å£è½¬å‘check_port_forward() &#123;    if ! lsof -i :8998 &gt;/dev/null 2&gt;&amp;1; then        echo -e &quot;$&#123;RED&#125;âŒ ç«¯å£è½¬å‘æœªè¿è¡Œ$&#123;NC&#125;&quot;        echo -e &quot;$&#123;YELLOW&#125;è¯·å…ˆè¿è¡Œ: kubectl port-forward deployment/prometheus-test-demo 8998:8998 -n $NAMESPACE$&#123;NC&#125;&quot;        exit 1    fi    echo -e &quot;$&#123;GREEN&#125;âœ… ç«¯å£è½¬å‘æ­£å¸¸è¿è¡Œ$&#123;NC&#125;&quot;&#125;# å¤šè½®é«˜é¢‘æµ‹è¯•run_aggressive_test() &#123;    echo &quot;&quot;    echo -e &quot;$&#123;BLUE&#125;ğŸ”¥ å¼€å§‹è¶…é«˜é¢‘é™æµæµ‹è¯•...$&#123;NC&#125;&quot;    echo &quot;ç›®æ ‡: è¶…è¿‡ 100 requests/second é™åˆ¶&quot;    echo &quot;&quot;        # æµ‹è¯•é…ç½®    local ROUNDS=3    local REQUESTS_PER_ROUND=150    local MAX_CONCURRENT=100        for round in $(seq 1 $ROUNDS); do        echo -e &quot;$&#123;YELLOW&#125;=== ç¬¬ $round è½®æµ‹è¯• ===$&#123;NC&#125;&quot;        echo &quot;å‘é€ $REQUESTS_PER_ROUND ä¸ªè¯·æ±‚ï¼Œ$MAX_CONCURRENT å¹¶å‘&quot;                local success_count=0        local rate_limited_count=0        local error_count=0        local timeout_count=0                start_time=$(date +%s.%N)                # åˆ›å»ºä¸´æ—¶æ–‡ä»¶        temp_file=&quot;/tmp/aggressive_test_$&#123;round&#125;_$$&quot;                # æé™å¹¶å‘å‘é€        for i in $(seq 1 $REQUESTS_PER_ROUND); do            &#123;                response=$(timeout 2 curl -s -w &quot;%&#123;http_code&#125;&quot; -o /dev/null \                    --connect-timeout 0.3 \                    --max-time 1 \                    --retry 0 \                    --no-keepalive \                    $URL 2&gt;/dev/null)                                exit_code=$?                timestamp=$(date &#x27;+%H:%M:%S.%3N&#x27;)                                if [ $exit_code -eq 124 ]; then                    echo &quot;TIMEOUT,$timestamp&quot; &gt;&gt; $temp_file                elif [ $exit_code -ne 0 ] || [ -z &quot;$response&quot; ]; then                    echo &quot;CONNECTION_FAILED,$timestamp&quot; &gt;&gt; $temp_file                else                    echo &quot;$response,$timestamp&quot; &gt;&gt; $temp_file                fi            &#125; &amp;                        # å‡å°‘ç­‰å¾…æ—¶é—´ï¼Œå¢åŠ å¹¶å‘å¯†åº¦            if (( $i % $MAX_CONCURRENT == 0 )); then                wait            fi        done                wait                end_time=$(date +%s.%N)        duration=$(echo &quot;$end_time - $start_time&quot; | bc 2&gt;/dev/null || echo &quot;1&quot;)        rate=$(echo &quot;scale=2; $REQUESTS_PER_ROUND / $duration&quot; | bc 2&gt;/dev/null || echo &quot;0&quot;)                echo &quot;  æŒç»­æ—¶é—´: $&#123;duration&#125;ç§’&quot;        echo &quot;  å®é™…é€Ÿç‡: $&#123;rate&#125; requests/second&quot;                # ç»Ÿè®¡ç»“æœ        while IFS=&#x27;,&#x27; read -r status_or_error timestamp; do            case &quot;$status_or_error&quot; in                &quot;200&quot;) ((success_count++)) ;;                &quot;429&quot;|&quot;503&quot;)                     ((rate_limited_count++))                    echo -e &quot;  $&#123;YELLOW&#125;ğŸš« é™æµ: $timestamp - HTTP $status_or_error$&#123;NC&#125;&quot;                    ;;                &quot;TIMEOUT&quot;)                     ((timeout_count++))                    echo -e &quot;  $&#123;RED&#125;â° è¶…æ—¶: $timestamp$&#123;NC&#125;&quot;                    ;;                &quot;CONNECTION_FAILED&quot;|*)                    ((error_count++))                    echo -e &quot;  $&#123;RED&#125;âŒ å¤±è´¥: $timestamp$&#123;NC&#125;&quot;                    ;;            esac        done &lt; $temp_file 2&gt;/dev/null                rm -f $temp_file                echo -e &quot;  ç»“æœ: âœ…$success_count ğŸš«$rate_limited_count â°$timeout_count âŒ$error_count&quot;                if [ $rate_limited_count -gt 0 ] || [ $timeout_count -gt 5 ] || [ $error_count -gt 5 ]; then            echo -e &quot;  $&#123;GREEN&#125;ğŸ¯ ç¬¬ $round è½®æ£€æµ‹åˆ°é™æµæ•ˆæœ!$&#123;NC&#125;&quot;        else            echo -e &quot;  $&#123;YELLOW&#125;âš ï¸  ç¬¬ $round è½®æœªæ£€æµ‹åˆ°é™æµ$&#123;NC&#125;&quot;        fi                echo &quot;&quot;                # è½®æ¬¡é—´çŸ­æš‚ä¼‘æ¯        if [ $round -lt $ROUNDS ]; then            sleep 1        fi    done&#125;# è¿ç»­è½°ç‚¸æµ‹è¯•run_continuous_bombardment() &#123;    echo -e &quot;$&#123;BLUE&#125;ğŸ’¥ è¿ç»­è½°ç‚¸æµ‹è¯• (30ç§’å†…æŒç»­å‘é€è¯·æ±‚)$&#123;NC&#125;&quot;    echo &quot;&quot;        local duration=30    local concurrent=50    local total_requests=0    local success_count=0    local limited_count=0        start_time=$(date +%s)    end_target=$((start_time + duration))        echo &quot;å¼€å§‹æ—¶é—´: $(date)&quot;    echo &quot;ç›®æ ‡æŒç»­: $&#123;duration&#125;ç§’&quot;    echo &quot;å¹¶å‘æ•°: $concurrent&quot;    echo &quot;&quot;        while [ $(date +%s) -lt $end_target ]; do        # æ¯æ¬¡å‘é€ä¸€æ‰¹è¯·æ±‚        for i in $(seq 1 $concurrent); do            &#123;                response=$(curl -s -w &quot;%&#123;http_code&#125;&quot; -o /dev/null \                    --connect-timeout 0.2 \                    --max-time 0.5 \                    $URL 2&gt;/dev/null)                                ((total_requests++))                                if [ &quot;$response&quot; = &quot;200&quot; ]; then                    ((success_count++))                elif [ &quot;$response&quot; = &quot;429&quot; ] || [ &quot;$response&quot; = &quot;503&quot; ]; then                    ((limited_count++))                    echo -e &quot;$&#123;YELLOW&#125;ğŸš« é™æµè§¦å‘! HTTP $response at $(date &#x27;+%H:%M:%S&#x27;)$&#123;NC&#125;&quot;                fi            &#125; &amp;        done                # çŸ­æš‚ç­‰å¾…åç»§ç»­        sleep 0.1    done        wait        actual_duration=$(($(date +%s) - start_time))    actual_rate=$(echo &quot;scale=2; $total_requests / $actual_duration&quot; | bc 2&gt;/dev/null || echo &quot;0&quot;)        echo &quot;&quot;    echo -e &quot;$&#123;BLUE&#125;ğŸ’¥ è¿ç»­è½°ç‚¸æµ‹è¯•ç»“æœ$&#123;NC&#125;&quot;    echo &quot;å®é™…æŒç»­æ—¶é—´: $&#123;actual_duration&#125;ç§’&quot;    echo &quot;æ€»è¯·æ±‚æ•°: $total_requests&quot;    echo &quot;å¹³å‡é€Ÿç‡: $&#123;actual_rate&#125; requests/second&quot;    echo &quot;æˆåŠŸè¯·æ±‚: $success_count&quot;    echo &quot;é™æµè§¦å‘: $limited_count&quot;        if [ $limited_count -gt 0 ]; then        echo -e &quot;$&#123;GREEN&#125;ğŸ¯ è¿ç»­è½°ç‚¸æˆåŠŸè§¦å‘é™æµ!$&#123;NC&#125;&quot;    else        echo -e &quot;$&#123;YELLOW&#125;âš ï¸  è¿ç»­è½°ç‚¸æœªè§¦å‘é™æµ$&#123;NC&#125;&quot;    fi&#125;# Apache Bench æµ‹è¯• (å¦‚æœå¯ç”¨)run_ab_test() &#123;    if command -v ab &amp;&gt; /dev/null; then        echo &quot;&quot;        echo -e &quot;$&#123;BLUE&#125;âš¡ Apache Bench é«˜æ€§èƒ½æµ‹è¯•$&#123;NC&#125;&quot;        echo &quot;&quot;                echo &quot;æµ‹è¯•1: 500ä¸ªè¯·æ±‚ï¼Œ200å¹¶å‘&quot;        ab -n 500 -c 200 $URL                echo &quot;&quot;        echo &quot;æµ‹è¯•2: 2ç§’å†…å°½å¯èƒ½å¤šçš„è¯·æ±‚ï¼Œ300å¹¶å‘&quot;        ab -t 2 -c 300 $URL            else        echo &quot;&quot;        echo -e &quot;$&#123;YELLOW&#125;ğŸ’¡ å»ºè®®å®‰è£… Apache Bench è¿›è¡Œæ›´é«˜æ€§èƒ½çš„æµ‹è¯•:$&#123;NC&#125;&quot;        echo &quot;  sudo apt-get install apache2-utils&quot;        echo &quot;  ç„¶åè¿è¡Œ: ab -n 1000 -c 300 $URL&quot;    fi&#125;# æ£€æŸ¥é™æµé…ç½®check_rate_limit_config() &#123;    echo &quot;&quot;    echo -e &quot;$&#123;BLUE&#125;âš™ï¸ æ£€æŸ¥å½“å‰é™æµé…ç½®$&#123;NC&#125;&quot;        # æ£€æŸ¥ Redis ä¸­çš„ä»¤ç‰Œæ¡¶çŠ¶æ€    echo &quot;Redis é™æµé”®:&quot;    kubectl exec deployment/redis -n $NAMESPACE -- redis-cli keys &quot;*rate*&quot; 2&gt;/dev/null || echo &quot;æ— æ³•è®¿é—®Redis&quot;        # å°è¯•è·å–æ¡¶çš„çŠ¶æ€ (è¿™ä¸ªå¯èƒ½éœ€è¦ç‰¹æ®Šçš„å‘½ä»¤)    echo &quot;&quot;    echo &quot;å½“å‰åº”ç”¨é…ç½®:&quot;    echo &quot;- é™æµé˜ˆå€¼: 100 requests/second&quot;    echo &quot;- ä»¤ç‰Œæ¡¶å®¹é‡: 100&quot;    echo &quot;- è¡¥å……é€Ÿç‡: 100 tokens/second&quot;    echo &quot;- é™æµé”®: global-rate-limit-key&quot;&#125;# ä¸»æ‰§è¡Œæµç¨‹main() &#123;    check_port_forward    check_rate_limit_config    run_aggressive_test    run_continuous_bombardment    run_ab_test        echo &quot;&quot;    echo -e &quot;$&#123;GREEN&#125;ğŸ è¶…é«˜é¢‘é™æµæµ‹è¯•å®Œæˆ!$&#123;NC&#125;&quot;&#125;# æ‰§è¡Œä¸»å‡½æ•°main &quot;$@&quot;





6.2 å‹æµ‹ç»“æœå‹æµ‹ç»“æœæˆªå›¾ï¼š

æœªè§¦å‘é™æµï¼š  
è§¦å‘é™æµï¼š    
å…¶ä¸­åœ¨é™æµä¹‹åè½¬å‘çš„è¿›ç¨‹è¿™è¾¹æ˜¾ç¤ºå¦‚ä¸‹ä¿¡æ¯ï¼Œè¯´æ˜è¶…å‡ºé˜ˆå€¼çš„requestç›´æ¥åœ¨tcpå±‚è¢«æ‹’ç»ã€‚


HTTP 000 çŠ¶æ€ç è¯´æ˜ï¼š


çŠ¶æ€ç  000 è¡¨ç¤ºè¿æ¥åœ¨ TCP å±‚è¢«æ‹’ç»
è¿™è¯æ˜äº†é™æµç³»ç»Ÿåœ¨è¿æ¥å±‚é¢èµ·åˆ°äº†ä¿æŠ¤ä½œç”¨
æ¯” HTTP 429 æ›´æ—©ä»‹å…¥ï¼Œèµ„æºä¿æŠ¤æ›´å½»åº•

7. é¡¹ç›®æ€»ç»“ä¸æŠ€æœ¯äº®ç‚¹7.1 æŠ€æœ¯æ¶æ„äº®ç‚¹
å¤šå±‚é™æµé˜²æŠ¤ï¼š

åº”ç”¨å±‚ï¼šBucket4j ä»¤ç‰Œæ¡¶ç®—æ³•ç²¾ç¡®æ§åˆ¶
è¿æ¥å±‚ï¼šTomcat è¿æ¥æ± å¿«é€Ÿä¿æŠ¤
ç½‘ç»œå±‚ï¼šK8s ç½‘ç»œç­–ç•¥ç»¼åˆé˜²æŠ¤


åˆ†å¸ƒå¼é™æµè®¾è®¡ï¼š

åŸºäº Redis çš„åˆ†å¸ƒå¼ä»¤ç‰Œæ¡¶
æ”¯æŒæ°´å¹³æ‰©å±•å’Œé«˜å¯ç”¨
ä¿è¯å¤šå®ä¾‹é—´é™æµä¸€è‡´æ€§


äº‘åŸç”Ÿæœ€ä½³å®è·µï¼š

å®¹å™¨åŒ–éƒ¨ç½²
K8s å£°æ˜å¼é…ç½®
å¾®æœåŠ¡æ¶æ„è®¾è®¡



7.2 ç›‘æ§ä¸è¿ç»´äº®ç‚¹
å…¨æ–¹ä½ç›‘æ§ï¼š

åº”ç”¨æ€§èƒ½ç›‘æ§ (APM)
åŸºç¡€è®¾æ–½ç›‘æ§
ä¸šåŠ¡æŒ‡æ ‡ç›‘æ§


è‡ªåŠ¨åŒ–è¿ç»´ï¼š

CI&#x2F;CD æµæ°´çº¿è‡ªåŠ¨åŒ–
å¥åº·æ£€æŸ¥å’Œè‡ªæ„ˆèƒ½åŠ›
å¯è§‚æµ‹æ€§æœ€ä½³å®è·µ



7.3 å‹æµ‹éªŒè¯æˆæœ
é™æµåŠŸèƒ½éªŒè¯ï¼š

æˆåŠŸéªŒè¯ 100 req&#x2F;s é™æµé˜ˆå€¼
ç¡®è®¤å¤šå±‚é™æµæœºåˆ¶æœ‰æ•ˆæ€§
ç³»ç»Ÿä¿æŠ¤èƒ½åŠ›å¾—åˆ°éªŒè¯


æ‰©å®¹èƒ½åŠ›éªŒè¯ï¼š

K8s æ°´å¹³æ‰©å®¹åŠŸèƒ½æ­£å¸¸
è´Ÿè½½å‡è¡¡åˆ†å‘æœ‰æ•ˆ
æ€§èƒ½çº¿æ€§æå‡æ˜æ˜¾



7.4 é¡¹ç›®åˆ›æ–°ç‚¹
è¿æ¥å±‚é™æµç­–ç•¥ï¼š

åœ¨ TCP è¿æ¥å±‚å°±å®ç°æµé‡æ§åˆ¶
æ¯”ä¼ ç»Ÿ HTTP å±‚é™æµæ›´é«˜æ•ˆ
èµ„æºä¿æŠ¤æ›´å½»åº•


å‹æµ‹å·¥å…·å®šåˆ¶åŒ–ï¼š

é’ˆå¯¹é™æµåœºæ™¯è®¾è®¡ä¸“ç”¨æµ‹è¯•è„šæœ¬
èƒ½å¤Ÿæœ‰æ•ˆè§¦å‘å’ŒéªŒè¯é™æµæœºåˆ¶
æä¾›è¯¦ç»†çš„æµ‹è¯•æŠ¥å‘Šå’Œåˆ†æ


ç›‘æ§ä½“ç³»å®Œæ•´æ€§ï¼š

ä»åŸºç¡€è®¾æ–½åˆ°åº”ç”¨å±‚çš„å…¨æ ˆç›‘æ§
é™æµä¸“ç”¨ç›‘æ§é¢æ¿è®¾è®¡
æ™ºèƒ½å‘Šè­¦å’Œæ•…éšœé¢„è­¦



7.5 å­¦ä¹ æ”¶è·ä¸å¿ƒå¾—é€šè¿‡æœ¬é¡¹ç›®çš„å®è·µï¼Œæ·±å…¥ç†è§£äº†ï¼š

äº‘åŸç”ŸæŠ€æœ¯æ ˆï¼š

Docker å®¹å™¨åŒ–æŠ€æœ¯
Kubernetes å®¹å™¨ç¼–æ’
å¾®æœåŠ¡æ¶æ„è®¾è®¡åŸåˆ™


é™æµç®—æ³•ä¸å®ç°ï¼š

ä»¤ç‰Œæ¡¶ç®—æ³•çš„åŸç†å’Œåº”ç”¨
åˆ†å¸ƒå¼é™æµçš„æŒ‘æˆ˜å’Œè§£å†³æ–¹æ¡ˆ
å¤šå±‚é™æµç­–ç•¥çš„è®¾è®¡æ€è·¯


DevOps æœ€ä½³å®è·µï¼š

CI&#x2F;CD æµæ°´çº¿è®¾è®¡
ç›‘æ§ä½“ç³»å»ºè®¾
è‡ªåŠ¨åŒ–æµ‹è¯•å’Œéƒ¨ç½²


æ€§èƒ½æµ‹è¯•ä¸è°ƒä¼˜ï¼š

å‹æµ‹å·¥å…·çš„é€‰æ‹©å’Œä½¿ç”¨
æ€§èƒ½ç“¶é¢ˆçš„è¯†åˆ«å’Œä¼˜åŒ–
ç³»ç»Ÿæ‰©å®¹ç­–ç•¥çš„éªŒè¯




8. é™„å½•8.1 é¡¹ç›®æ–‡ä»¶ç»“æ„yys/â”œâ”€â”€ src/                                    # æºä»£ç ç›®å½•â”‚   â”œâ”€â”€ main/java/com/hello/hello/â”‚   â”‚   â”œâ”€â”€ config/                        # é…ç½®ç±»â”‚   â”‚   â”‚   â”œâ”€â”€ RateLimitConfig.java      # é™æµé…ç½®â”‚   â”‚   â”‚   â”œâ”€â”€ RedisConfig.java          # Redisé…ç½®â”‚   â”‚   â”‚   â””â”€â”€ WebMvcConfig.java         # Webé…ç½®â”‚   â”‚   â”œâ”€â”€ controller/â”‚   â”‚   â”‚   â””â”€â”€ HelloController.java      # æ§åˆ¶å™¨â”‚   â”‚   â”œâ”€â”€ interceptor/â”‚   â”‚   â”‚   â””â”€â”€ RateLimitInterceptor.java # é™æµæ‹¦æˆªå™¨â”‚   â”‚   â”œâ”€â”€ service/â”‚   â”‚   â”‚   â””â”€â”€ RateLimiterService.java   # é™æµæœåŠ¡â”‚   â”‚   â””â”€â”€ HelloApplication.java         # å¯åŠ¨ç±»â”‚   â””â”€â”€ main/resources/â”‚       â””â”€â”€ application.properties        # åº”ç”¨é…ç½®â”œâ”€â”€ jenkins/scripts/                       # K8séƒ¨ç½²æ–‡ä»¶â”‚   â”œâ”€â”€ prometheus-test-demo.yamlâ”‚   â””â”€â”€ prometheus-test-serviceMonitor.yamlâ”œâ”€â”€ Dockerfile                            # Dockeræ„å»ºæ–‡ä»¶â”œâ”€â”€ Jenkinsfile                          # Jenkinsæµæ°´çº¿â”œâ”€â”€ pom.xml                              # Mavené…ç½®â””â”€â”€ README.md                            # é¡¹ç›®è¯´æ˜æ–‡æ¡£

8.2 ç›¸å…³æŠ€æœ¯æ ˆç‰ˆæœ¬
Java: 17
Spring Boot: 3.5.3
Bucket4j: 8.10.1
Redis: 7-alpine
Kubernetes: 1.20+
Docker: 20.10+
Jenkins: 2.400+
Prometheus: 2.40+
Grafana: 9.0+


æŠ¥å‘Šå®Œæˆæ—¶é—´: 2025å¹´7æœˆ20æ—¥é¡¹ç›®ä»£ç ä»“åº“: https://github.com/231220075/yysåˆ†æ”¯: hpa

æ„Ÿè°¢é˜…è¯»ï¼å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹èµå’Œåˆ†äº«ã€‚
]]></content>
      <categories>
        <category>å­¦ä¹ è®°å½•</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ </tag>
      </tags>
  </entry>
  <entry>
    <title>å½’å»æ¥</title>
    <url>/2025/08/09/%E5%BD%92%E5%8E%BB%E6%9D%A5/</url>
    <content><![CDATA[ğŸ“ å½’å»æ¥
å›çœ‹ä¸€å¹´å‰çš„éšç¬”ï¼Œæƒ…æ›´åˆ‡ã€‚pyqå‘æ–‡ï¼Œå¦‚ä»Šè¡¥ä¸Šï¼Œä»…ä¾›çºªå¿µã€‚

è¿˜æ˜¯æ„Ÿè§‰ä»¥åå›æ‘é‡Œéšå±…ä¹ŸæŒºå¥½ã€‚
â€‹è¿™é‡Œåªæ˜¯æ™‹ä¸œå—ç¾¤å±±ä¸­çš„ä¸€ä¸ªå°æ‘è½ï¼Œæˆ‘çŸ¥é“ä¸Šä¸€æ¬¡å›æ¥æ˜¯å»å¹´æš‘å‡ï¼Œå´ä¸çŸ¥é“ä¸‹ä¸€æ¬¡è¦åˆ°ä»€ä¹ˆæ—¶å€™äº†ã€‚ä¸€æ¡é©¬è·¯å°†æ‘å­åˆ†æˆä¸¤ç‰‡ï¼Œä¹Ÿè¿æ¥æ­¤å¤„ä¸å¿åŸï¼Œå…¶ä¸Šæ¥å¾€çš„å…¬äº¤è½¦å¸æœºä¹Ÿæˆäº†å§¥å§¥å§¥çˆ·çš„è€ç†Ÿäººã€‚æ›¾å‡ ä½•æ—¶å…¬äº¤è½¦å¹¶ä¸åƒç°åœ¨ä¸€æ ·ä¸€å…ƒé€šå…¨çº¿ï¼Œä½†åœ¨è¿™æ•°ä¸æ¸…å¤šå°‘å¹´çš„æ—¶é—´é‡Œå”¯ä¸€æ”¹å˜çš„ä¹Ÿåªæ˜¯ç¥¨ä»·ï¼Œå§‹ç»ˆæ˜¯ä¸¤ä½è€äººå…¥åŸçš„ä¸»è¦äº¤é€šå·¥å…·ã€‚è¿™æ¡å…¬äº¤çº¿å¾ˆæ…¢ï¼Œå°æ—¶å€™å°è±¡é‡Œçš„ä»æ‘åˆ°åŸ1å°æ—¶è‡³ä»Šä¸å˜ã€‚
â€‹å¾€å‰å›å€’åå‡ å¹´ï¼Œå›åˆ°æ‘é‡Œè¿˜æ²¡ä¿®æ°´æ³¥è·¯ï¼Œå›åˆ°ä¸€äº›è€äººç¦»å¼€ä¹‹å‰ï¼Œå°è±¡æ¯”è¾ƒæ·±åˆ»çš„æ˜¯é‚£æ—¶æ—¥å¸¸ç”¨æ°´è¿˜æ˜¯é æ‹…çš„ã€‚è®°å¿†é‡Œçš„ä¸‰å¤„æ°´äº•ç°åœ¨åªèƒ½æ‰¾åˆ°ä¸¤å¤„ï¼Œä¸€å¤„åå±±ï¼Œä¸€å¤„æ°´åº“æ—ï¼Œç°åœ¨è‡ªç„¶æ˜¯è’åºŸäº†ã€‚åªæœ‰æˆ‘å¦ˆä½“éªŒè¿‡æ‹…æ°´ï¼Œè¿˜æ²¡ç­‰æˆ‘é•¿å¤§å°±èˆå¼ƒäº†è¿™ç§åŸå§‹æ–¹å¼ï¼Œä¸è¿‡æ‹…å­å€’è¿˜ç•™å­˜ç€ï¼Œä¹Ÿæ˜¯æŸç§å†å²çš„è§è¯äº†ã€‚â€‹â€‹å‰å‡ å¤©å’Œå§¥çˆ·ä¸‹é•‡é‡Œç†å‘ï¼Œä¸´è¿”ç¨‹æ—¶æ­£å·§ä¸‹é›¨ï¼Œæˆ‘ä»¬ä¿©å†’ç€é›¨éª‘æ‘©æ‰˜è½¦åœ¨å±±è·¯ä¸Šå†²åˆºï¼Œæ„Ÿè§‰å§¥çˆ·åƒæ–½äº†é¿é›¨å’’ä¸€æ ·ï¼Œç»“åˆæˆ‘ä¸‹é›¨æ—¶éª‘æ‘©æ‰˜è¢«é®æŒ¡è§†çº¿çš„ç»å†ï¼Œç®€ç›´ä¸å¯æ€è®®ã€‚è¿”ç¨‹ä¹‹å‰è·¯äººè¿˜è°ƒä¾ƒè€äººå¸¦å¹´è½»äººï¼Œåªæ˜¯è¿™ä½æœ‹å‹ä¸æ˜å…¶ä¸­ç¼˜ç”±ï¼Œè¿™è¾†æ‘©æ‰˜è½¦æ¯”æˆ‘å¹´é¾„è¿˜å¤§ï¼Œå€Ÿæˆ‘å§¥å§¥çš„è¯ï¼Œè¿™ç©æ„åªæœ‰æˆ‘å§¥çˆ·é©¾é©­å¾—äº†ã€‚å¤šå°‘å¹´è¿‡å»äº†ï¼Œè‡ªä»åœ°å¼€å§‹è’åºŸä¹‹åæ‹–æ‹‰æœºå°±ä¸æ€ä¹ˆå¼€äº†ï¼Œä½†æ‘©æ‰˜è½¦ä»æ˜¯å§¥çˆ·çš„å¾—åŠ›å¹²å°†ï¼Œåªæ˜¯ä¸çŸ¥é“ä»–è¿˜æƒ³éª‘å¤šå°‘å¹´ï¼Œåˆèƒ½éª‘å¤šå°‘å¹´ã€‚â€‹â€‹ä»æˆ‘æœ‰è®°å¿†å¼€å§‹ä¸¤ä½è€äººå°±ä¸»è¦é ç§åœ°å’Œå…»èš•ä¸ºä¸»è¦æ”¶å…¥ï¼Œä»¥è‡³äºæˆ‘æ¥åˆ°æ™‹åŒ—çœ‹åˆ°é‚£é‡Œçš„å†œå®¶äººç”šè‡³æ²¡è§è¿‡èš•æ—¶æ„Ÿåˆ°æƒŠè®¶ã€‚ç§åœ°è‡ªç„¶æ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œä¸»è¦å°±æ˜¯å°éº¦ã€ç‰ç±³ã€åœŸè±†ã€é«˜ç²±ä¹‹ç±»çš„ç»æµä½œç‰©ï¼Œé™¤å»è‡ªå·±ç•™ä¸€äº›ç£¨æˆé¢å’Œè‡ªç»™ï¼Œå…¶ä½™ä¾¿å–ä½œæ”¶å…¥ã€‚è€Œæˆ¿å­å‘¨å›´ä¸¤ä½è€äººä¹Ÿå¼€å¦äº†æ•°å°å—åœŸåœ°ï¼Œç§ä¸€äº›èåœã€è¥¿çº¢æŸ¿ã€è±†è§’ä¹‹ç±»çš„æœè”¬ï¼Œçœå»äº†å¤©å¤©å»é•‡é‡Œä¹°èœäº†ã€‚ç”šè‡³åæ¥è¡¨å¦¹æƒ³åƒè‰è“çš„æ—¶å€™ï¼Œå§¥çˆ·ä¹ŸçœŸèƒ½åœ¨æˆ¿å­èƒŒåé‚£ç‰‡éš¾ä»¥ç§°å¾—ä¸Šæ˜¯è‚¥æ²ƒçš„åœŸåœ°ä¸Šç»™å¥¹å˜å‡ºè‰è“ï¼ŒçœŸçš„å¾ˆç¥å¥‡å§ã€‚é™¤äº†ç§çš„ç”°ï¼Œä»–ä»¬è¿˜ä¼šæ‰“æ ¸æ¡ƒã€æ‘˜æŸ¿å­å’Œå±±æ¥‚ï¼Œç”šè‡³ä¼šæ‘˜æ¡‘æ¤¹ã€‚ä¸çŸ¥é“ç°åœ¨è¿˜æœ‰å¤šå°‘äººçŸ¥é“æ ¸æ¡ƒæœ€å¤–å±‚æ˜¯é’çš®çš„ï¼Œå»çš®ä¹‹åæ´—å‡€æ‰æ˜¯æ£•è‰²çš„å£³ã€‚å§¥å§¥æ›¾å¤šæ¬¡å¿µå¨æ‘é‡Œäººéƒ½è§‰å¾—æ ¸æ¡ƒä¸å€¼é’±ï¼Œè€ŒåŸé‡Œäººå´æ„¿æ„èŠ±è¾ƒè´µçš„é’±å»è¶…å¸‚ç§°ï¼Œå¥¹è¡¨ç¤ºç›¸å½“ä¸ç†è§£ã€‚è€Œæ‘˜ä¸‹çš„æŸ¿å­é™¤å»ç°åƒçš„ï¼Œä¸ºäº†æ–¹ä¾¿ä¿å­˜å¾€å¾€ä¼šåšæˆæŸ¿é¥¼ï¼Œè‡³ä»Šä»æ˜¯ï¼›å±±æ¥‚åˆ™å»æ ¸åšæˆçº¢æœç½å¤´ï¼Œä¼°è®¡æ˜¯å±±æ¥‚æ ‘è™½ç€åœ°ä¸€èµ·è’äº†ï¼Œæˆ‘ä¹Ÿå·²ç»è®°ä¸å¾—ä¸Šä¸€æ¬¡åƒçº¢æœç½å¤´æ˜¯ä»€ä¹ˆæ—¶å€™äº†ã€‚â€‹â€‹ä¸è®ºç—…é€è¿˜æ˜¯è¿›åŸï¼Œåœ¨ä¸€äº›è€äººæ²¡ç¦»å¼€å‰ï¼Œæ•´ä¸ªæ‘å­éƒ½ä¼šå…»èš•ã€‚å…»èš•ä»¥å­£ä¸ºå‘¨æœŸï¼Œåˆ†æ˜¥å¤ç§‹å†¬èš•ã€‚æ‘é‡Œäººå…ˆç»Ÿè®¡å„å®¶å„æˆ·çš„å…»æ®–é‡ï¼Œä»¥å¼ ä¸ºå•ä½ï¼Œé‚£æ˜¯å› ä¸ºä¸€å¼€å§‹æ‹¿å›æ¥çš„èš•ç±½åœ¨ç²˜æ¿ä¸Šã€‚ä»ä¸€ä¸ªä¸ªå°é»‘ç‚¹é•¿æˆç™½èš•å†åˆ°ç»“èŒ§ï¼Œå–‚æ¡‘å¶ä»åˆ‡æˆç»†ç¢åˆ°æ•´å¶é“ºç›–ï¼Œå®ƒä»¬çš„ä½å¤„ä¹Ÿä»ç²˜æ¿åˆ°æ•°ä¸ªæœ¨ç¯“å­ï¼Œç›´åˆ°å–·ä¸Šè¯ï¼Œå°†å®ƒä»¬ç§»åˆ°ç½‘æ ¼æ …ä¸Šï¼Œé™å¾…ç»“èŒ§ã€‚éšç€ä¸å°‘è€äººçš„ç¦»å¼€ï¼Œå…»èš•äººè¶Šæ¥è¶Šå°‘ï¼Œåœ¨å‰äº›å¹´å§¥å§¥å§¥çˆ·ä¹Ÿå› èº«ä½“åŸå› ä¸åœ¨å…»èš•ï¼Œç½‘æ ¼æ …ä¹Ÿç»ˆäºæ”¶è¿›äº†ç‰›åœˆï¼Œææ€•å†æ— å¯ç”¨ä¹‹æ—¥ã€‚â€‹â€‹å¦‚ä»Šï¼Œé™¤äº†ç§å°‘è®¸åœ°ï¼Œå§¥çˆ·è¿˜å¸¸å¸¸éª‘è½¦ä¸Šå±±é‡‡æ‘˜è¿ç¿˜ï¼ˆP3ï¼‰ã€‚å®é™…ä¸Šè¿‘äº›å¹´åé‡Œå…«ä¹¡çš„è€å¹´ç”·å¥³éƒ½åœ¨é‡‡è¿™ç§è¯æ¥å–é’±ï¼Œä»¥6åˆ°9æœˆæœ€ä¸ºé¢‘ç¹ï¼Œä½†ä»·æ ¼åä½ï¼Œå‡ å…ƒåˆ°åå‡ å…ƒä¸€æ–¤ä¸Šä¸‹æµ®åŠ¨ï¼›å†¬å¤©çš„å¹²è¿ç¿˜ä»·é«˜ï¼Œå¾€å¾€åœ¨äº”å…­åå…ƒä¸€æ–¤ï¼Œä½†å´éš¾å¯»ã€‚é‡‡è¯äººæ—©å…«æ™šå…­åœ°æ‘˜ï¼Œä¸€å¤©ä¸‹æ¥å¥½çš„è¯äººå‡åå‡ æ–¤ï¼Œä¸å¥½åˆ™åªæœ‰å…­ä¸ƒæ–¤ã€‚å§¥å§¥ä¹Ÿå¸¸ä¼šå¼€ç©ç¬‘è¯´ï¼Œä»Šå¤©å‡ºå»åƒé¡¿é¥­åˆæŠŠå§¥çˆ·ä¸€å¤©çš„é‡‡è¯é’±åƒæ²¡äº†ï¼Œæˆ‘ç¬‘ç½¢åªè§‰å¾—è‹¦æ¶©ï¼Œä½†ä¹ŸçŸ¥é“è€äººæ˜¯é—²ä¸ä½çš„ã€‚é‡‡è¯äººé‡‡å›è¯åä¹Ÿè¦è§‚å¯Ÿè¡Œæƒ…ï¼Œä½†åˆå› ä¸ºè¿ç¿˜ä¸ç»æ”¾æ‰€ä»¥ä¹Ÿè¦å°½å¿«å‡ºæ‰‹ï¼Œå’Œå„åœ°æ”¶è¯äººçš„æå¼ˆå§‹ç»ˆå­˜åœ¨ï¼Œä½†ä¸å¹¸çš„æ˜¯ä»Šå¹´å¤å¤©æˆ‘å§¥çˆ·æ€»æ˜¯åœ¨æ¶¨ä»·å‰å‡ºæ‰‹ï¼Œåªèƒ½åœ¨åƒé¥­æ—¶éª‚å‡ å¥æ”¶è¯äººç½¢äº†ã€‚ä»Šå¤©çš„é‡‡æ‘˜é‡ä¸ºä¹æ–¤ï¼Œè¡Œæƒ…ä¸ºåäºŒå…ƒæ¯æ–¤ï¼Œåœ¨æ­¤è®°å½•ä¸€ä¸‹ã€‚â€‹â€‹æˆ‘è¿˜æ˜¯ä¼šåæ§½ä¸¤ä½è€äººç”Ÿæ´»çš„åœ°æ–¹ï¼šæˆ¿å­éƒ½æ˜¯ä¸Šä¸ªä¸–çºªçš„äº§ç‰©ï¼Œåˆ°å†¬å¤©ç‰¹åˆ«å†·ï¼›ä¸€æŠŠé“å‹ºå­ä»å§¥å§¥çš„æ¯äº²ä¼ åˆ°ç°åœ¨ï¼›åœ¨æ‘é‡Œå¤å¤©è¦æ—¶åˆ»ç›¯é˜²èšŠå­ï¼Œå°¤å…¶æ˜¯ä¸Šå•æ‰€qwqï¼›ç§å‡ å—åœ°è¿˜è¦æé˜²é‡çŒªï¼Œä¹Ÿæ€»ä¼šè¢«æ‹±å¾—ç²®é£Ÿå‡äº§ï¼›ç°åœ¨çš„æ—¥å¸¸ç”¨æ°´æ¯éš”äº”å¤©ç»Ÿä¸€ä¾›åº”ï¼Œæ—¥å¸¸å›¤æ°´ï¼›æ‘å­é‡Œçš„äººè¶Šæ¥è¶Šå°‘ï¼Œç°åœ¨å‡‘æ¡Œéº»å°†éƒ½éš¾ï¼›ä¸æ—¶è¿˜æœ‰èå­å’Œè›‡å‡ºæ²¡ï¼ˆå‰å‡ å¤©æˆ‘å°±è¢«èå­å’¬äº†(â„ â„â€¢â„Ï‰â„â€¢â„ â„)ï¼‰ã€‚ä½†ä»–ä»¬ä¿©ä¸æ¯«ä¸åœ¨æ„ã€‚æ˜¨å¤©åˆè°ˆåˆ°æˆ‘æƒ³è®©ä»–ä»¬ä¿©å½»åº•ç¦»å¼€è¿™é‡Œï¼Œå¸¸ä½å¿åŸï¼Œç»™å°å§¨åšé¥­å¸¦å¨ƒï¼Œä½†å§¥å§¥ä»æ˜¯ä¸åœ¨æ„ã€‚æˆ‘è¯´ä½ ä»¬ä¿©æ€»æœ‰å¹²ä¸åŠ¨çš„æ—¶å€™ï¼Œæ—©ç‚¹ä¸‹åŸé‡Œäº«å—ä¸å¥½å‘—ï¼Œå§¥å§¥æ‰§æ„è¯´æ˜¥å¤ä¹‹é™…å‡‰å¿«ã€‚æˆ‘åˆè¯´åŸé‡Œæœ‰ç©ºè°ƒä¸æ¯”æ‘é‡Œå‡‰å¿«ï¼Ÿå¥¹åˆæåˆ°è´¹ç”µäº†ã€‚å¯¹ï¼Œè¿™ä¸¤ä½å°±æ˜¯è¿™ä¹ˆèŠ‚ä¿­ï¼Œçœäº†ä¸€è¾ˆå­ï¼Œå¤„å¤„ç»†æ‰“ç®—ï¼Œå´åœ¨ä¸¤ä½å¥³å„¿ä¹°æˆ¿æ—¶æ‹¿å‡ºå¥½å‡ ä¸‡ï¼Œæ¯æ¬¡æˆ‘å›æ¥éƒ½å»è¶…å¸‚å‰²è‚‰ä¹°èœï¼Œåœ¨ç¦»å¼€çš„æ—¶å€™ä»¥å‰æ˜¯å¡é’±ï¼Œç°åœ¨æ˜¯è½¬è´¦ï¼Œä¹Ÿåªä¼šå‘Šè¯«æˆ‘å¥½å¥½å­¦ä¹ â€¦â€¦â€‹â€‹åƒåç”°ç”¨æ¥å½¢å®¹å¥¹å®¶ä¹¡çš„è¯ä¹Ÿæ­£æ˜¯è¿™ä¸ªæ‘å­çš„ç°çŠ¶ï¼Œâ€è¿™é‡Œæ˜¯æˆ‘çš„æ•…ä¹¡ï¼Œåªæœ‰æ°´å’ŒåœŸåœ°ï¼Œäººä»¬ä¹Ÿåœ¨æ¸æ¸è¡°è€ï¼Œå¤±å»æ´»åŠ›â€ã€‚æˆ‘å¹¶ä¸è§‰å¾—è¿™é‡Œæ˜¯æœ€ç¾çš„åœ°æ–¹ï¼Œä¹Ÿå¹¶ä¸è§‰å¾—è¿™é‡Œå……æ»¡å¯èƒ½æ€§ï¼Œä½†æ˜¯ï¼Œæˆ‘æ„¿æ„è®²è¿°è¿™é‡Œè¿‡å¾€çš„ç‚¹æ»´ã€‚å¯ä»¥é¢„è§ä»¥å§¥å§¥å§¥çˆ·ä¸ºä»£è¡¨çš„ä¸€ä»£è€äººä¹Ÿç¦»å¼€è¿™é‡Œåï¼Œåœ¨æœªæ¥çš„ä¸‰åå¹´é—´è¿™ä¸ªæ‘å­ç»ˆå°†è’æ— äººçƒŸã€‚æˆ‘ä¸çŸ¥é“å…¶ä»–æˆ·äººå®¶çš„åä»£æ€ä¹ˆçœ‹ï¼Œæˆ‘æƒ³æˆ‘è¿˜ä¼šå›åˆ°è¿™é‡Œï¼Œå»å¯»è®¿è¿‡å¾€è¸ªè¿¹ã€‚â€‹â€‹å†™åœ¨å³å°†å¯ç¨‹å´ä¸çŸ¥ä½•æ—¶å½’æ¥ä¹‹é™…ã€‚
æ„Ÿè°¢é˜…è¯»ï¼å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹èµå’Œåˆ†äº«ã€‚
]]></content>
      <categories>
        <category>ç”Ÿæ´»éšæƒ³</category>
      </categories>
      <tags>
        <tag>ä¹¡æ„</tag>
      </tags>
  </entry>
  <entry>
    <title>ğŸŒ ç½‘é¡µæ„å»ºåŸºç¡€çŸ¥è¯†è¯¦è§£</title>
    <url>/2025/08/13/%E7%BD%91%E9%A1%B5%E6%9E%84%E5%BB%BA%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E8%AF%A6%E8%A7%A3/</url>
    <content><![CDATA[ğŸŒ ç½‘é¡µæ„å»ºåŸºç¡€çŸ¥è¯†ä½“ç³»ä½œä¸ºä¸€ä¸ªå‰ç«¯å¼€å‘çš„åˆå­¦è€…ï¼Œäº†è§£ç½‘é¡µæ„å»ºçš„å®Œæ•´ä½“ç³»æ˜¯éå¸¸é‡è¦çš„ã€‚æœ¬æ–‡å°†ä»ä¸“ä¸šè§’åº¦ä¸ºä½ ç³»ç»Ÿåœ°è§£é‡Šæ•´ä¸ªç½‘é¡µå¼€å‘çš„åŸºç¡€çŸ¥è¯†ã€‚
1. å‰ç«¯ä¸‰å‰‘å®¢ - ç½‘é¡µçš„åŸºç¡€æ„æˆğŸ—ï¸ HTML (HyperText Markup Language)
ä½œç”¨ï¼šç½‘é¡µçš„éª¨æ¶å’Œç»“æ„
æ¯”å–»ï¼šå°±åƒæˆ¿å­çš„æ¡†æ¶ï¼Œå®šä¹‰äº†å“ªé‡Œæ˜¯é—¨ã€å“ªé‡Œæ˜¯çª—æˆ·
æ ¸å¿ƒæ¦‚å¿µï¼š

&lt;!DOCTYPE html&gt;&lt;html&gt;  &lt;head&gt;    &lt;title&gt;é¡µé¢æ ‡é¢˜&lt;/title&gt;  &lt;/head&gt;  &lt;body&gt;    &lt;h1&gt;è¿™æ˜¯æ ‡é¢˜&lt;/h1&gt;    &lt;p&gt;è¿™æ˜¯æ®µè½&lt;/p&gt;    &lt;div&gt;è¿™æ˜¯å®¹å™¨&lt;/div&gt;  &lt;/body&gt;&lt;/html&gt;

å¸¸ç”¨HTMLæ ‡ç­¾ï¼š

&lt;h1&gt; - &lt;h6&gt;ï¼šæ ‡é¢˜
&lt;p&gt;ï¼šæ®µè½
&lt;div&gt;ï¼šå®¹å™¨
&lt;span&gt;ï¼šå†…è”å…ƒç´ 
&lt;a&gt;ï¼šé“¾æ¥
&lt;img&gt;ï¼šå›¾ç‰‡
&lt;ul&gt;, &lt;ol&gt;, &lt;li&gt;ï¼šåˆ—è¡¨

ğŸ¨ CSS (Cascading Style Sheets)
ä½œç”¨ï¼šç½‘é¡µçš„æ ·å¼å’Œç¾åŒ–
æ¯”å–»ï¼šå°±åƒæˆ¿å­çš„è£…ä¿®ï¼Œå†³å®šé¢œè‰²ã€å¸ƒå±€ã€å­—ä½“ç­‰
æ ¸å¿ƒæ¦‚å¿µï¼š

h1 &#123;  color: blue;  font-size: 24px;  text-align: center;&#125;.container &#123;  width: 100%;  margin: 0 auto;  padding: 20px;&#125;#header &#123;  background-color: #f0f0f0;  border-bottom: 1px solid #ccc;&#125;

CSSé€‰æ‹©å™¨ç±»å‹ï¼š

å…ƒç´ é€‰æ‹©å™¨ï¼šh1, p, div
ç±»é€‰æ‹©å™¨ï¼š.className
IDé€‰æ‹©å™¨ï¼š#idName
å±æ€§é€‰æ‹©å™¨ï¼š[type=&quot;text&quot;]

CSSç›’æ¨¡å‹ï¼š
content â†’ padding â†’ border â†’ margin

âš¡ JavaScript
ä½œç”¨ï¼šç½‘é¡µçš„äº¤äº’å’ŒåŠ¨æ€è¡Œä¸º
æ¯”å–»ï¼šå°±åƒæˆ¿å­çš„ç”µå™¨ï¼Œè®©ä¸€åˆ‡åŠ¨èµ·æ¥
æ ¸å¿ƒæ¦‚å¿µï¼š

// åŸºç¡€è¯­æ³•function showAlert() &#123;  alert(&#x27;Hello World!&#x27;);&#125;// DOMæ“ä½œdocument.getElementById(&#x27;button&#x27;).onclick = showAlert;// äº‹ä»¶ç›‘å¬document.addEventListener(&#x27;DOMContentLoaded&#x27;, function() &#123;  console.log(&#x27;é¡µé¢åŠ è½½å®Œæˆ&#x27;);&#125;);// å˜é‡å’Œæ•°æ®ç±»å‹let name = &quot;å¼ ä¸‰&quot;;const age = 25;var isStudent = true;

2. ç°ä»£ç½‘é¡µå¼€å‘æµç¨‹ğŸ“ å¼€å‘é˜¶æ®µæºä»£ç ç¼–å†™ â†’ é¢„å¤„ç† â†’ æ‰“åŒ…æ„å»º â†’ éƒ¨ç½²ä¸Šçº¿

ğŸ”§ æ„å»ºå·¥å…·çš„ä½œç”¨Hexo (é™æ€ç½‘ç«™ç”Ÿæˆå™¨)
å°† Markdown æ–‡ä»¶è½¬æ¢ä¸º HTML
è‡ªåŠ¨åº”ç”¨ä¸»é¢˜æ ·å¼
ç”Ÿæˆå®Œæ•´çš„ç½‘ç«™ç»“æ„
æ”¯æŒæ’ä»¶æ‰©å±•

å…¶ä»–æµè¡Œå·¥å…·ï¼š
Jekyllï¼šGitHub åŸç”Ÿæ”¯æŒ
Hugoï¼šGo è¯­è¨€ç¼–å†™ï¼Œé€Ÿåº¦æå¿«
Gatsbyï¼šåŸºäº React çš„ç°ä»£æ¡†æ¶
Next.jsï¼šå…¨æ ˆ React æ¡†æ¶
Vue Pressï¼šåŸºäº Vue çš„æ–‡æ¡£å·¥å…·

ğŸ› ï¸ å‰ç«¯å·¥ç¨‹åŒ–å·¥å…·
åŒ…ç®¡ç†å™¨ï¼šnpm, yarn, pnpm
æ„å»ºå·¥å…·ï¼šWebpack, Vite, Rollup
CSSé¢„å¤„ç†å™¨ï¼šSass, Less, Stylus
ä»£ç è§„èŒƒï¼šESLint, Prettier
ç‰ˆæœ¬æ§åˆ¶ï¼šGit, GitHub

3. åšå®¢æ¶æ„è§£æğŸ“ ç›®å½•ç»“æ„blog/â”œâ”€â”€ source/           # æºæ–‡ä»¶ç›®å½•â”‚   â”œâ”€â”€ _posts/      # åšå®¢æ–‡ç«  (Markdown)â”‚   â”œâ”€â”€ _drafts/     # è‰ç¨¿æ–‡ä»¶â”‚   â”œâ”€â”€ games/       # è‡ªå®šä¹‰é¡µé¢â”‚   â”œâ”€â”€ photos/      # é™æ€èµ„æºâ”‚   â””â”€â”€ categories/  # åˆ†ç±»é¡µé¢â”œâ”€â”€ themes/          # ä¸»é¢˜æ–‡ä»¶â”‚   â””â”€â”€ butterfly/   # å½“å‰ä½¿ç”¨çš„ä¸»é¢˜â”œâ”€â”€ public/          # ç”Ÿæˆçš„é™æ€ç½‘ç«™â”œâ”€â”€ node_modules/    # ä¾èµ–åŒ…â”œâ”€â”€ _config.yml      # ç«™ç‚¹é…ç½®æ–‡ä»¶â”œâ”€â”€ package.json     # é¡¹ç›®ä¾èµ–é…ç½®â””â”€â”€ .gitignore       # Gitå¿½ç•¥æ–‡ä»¶

ğŸ”„ å·¥ä½œæµç¨‹
ç¼–å†™å†…å®¹ï¼šåœ¨ source/_posts/ å†™ Markdown æ–‡ç« 
é…ç½®ä¸»é¢˜ï¼šåœ¨ _config.yml å’Œä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­è®¾ç½®
æœ¬åœ°é¢„è§ˆï¼šhexo server å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨
ç”Ÿæˆç½‘ç«™ï¼šhexo generate å°†æºæ–‡ä»¶è½¬æ¢ä¸ºé™æ€ HTML
éƒ¨ç½²ä¸Šçº¿ï¼šhexo deploy å‘å¸ƒåˆ° GitHub Pages

ğŸ“ Markdown è¯­æ³•è¦ç‚¹# ä¸€çº§æ ‡é¢˜## äºŒçº§æ ‡é¢˜### ä¸‰çº§æ ‡é¢˜**ç²—ä½“æ–‡æœ¬***æ–œä½“æ–‡æœ¬*~~åˆ é™¤çº¿~~- æ— åºåˆ—è¡¨é¡¹1- æ— åºåˆ—è¡¨é¡¹21. æœ‰åºåˆ—è¡¨é¡¹12. æœ‰åºåˆ—è¡¨é¡¹2[é“¾æ¥æ–‡æœ¬](https://example.com)![å›¾ç‰‡æè¿°](image.jpg)\`\`\`javascript// ä»£ç å—console.log(&#x27;Hello World&#x27;);\`\`\`&gt; å¼•ç”¨æ–‡æœ¬| è¡¨æ ¼ | åˆ—1 | åˆ—2 ||------|-----|-----|| è¡Œ1  | æ•°æ®1 | æ•°æ®2 |

4. éƒ¨ç½²å’Œæ‰˜ç®¡åŸç†ğŸ  é™æ€ç½‘ç«™ vs åŠ¨æ€ç½‘ç«™é™æ€ç½‘ç«™ï¼ˆå¦‚ä½ çš„åšå®¢ï¼‰ï¼š
ç‰¹ç‚¹ï¼šé¢„å…ˆç”Ÿæˆæ‰€æœ‰ HTML æ–‡ä»¶
ä¼˜åŠ¿ï¼š
åŠ è½½é€Ÿåº¦å¿«
å®‰å…¨æ€§é«˜
ç»´æŠ¤æˆæœ¬ä½
SEOå‹å¥½


é€‚ç”¨åœºæ™¯ï¼šåšå®¢ã€æ–‡æ¡£ã€å±•ç¤ºç±»ç½‘ç«™

åŠ¨æ€ç½‘ç«™ï¼š
ç‰¹ç‚¹ï¼šæ ¹æ®ç”¨æˆ·è¯·æ±‚å®æ—¶ç”Ÿæˆé¡µé¢
ä¼˜åŠ¿ï¼š
äº¤äº’æ€§å¼º
å†…å®¹å¯å®æ—¶æ›´æ–°
ç”¨æˆ·ä¸ªæ€§åŒ–ä½“éªŒ


é€‚ç”¨åœºæ™¯ï¼šç¤¾äº¤åª’ä½“ã€ç”µå•†ã€ç®¡ç†ç³»ç»Ÿ

â˜ï¸ GitHub Pages åŸç†æœ¬åœ°ä»£ç  â†’ Git æ¨é€ â†’ GitHub ä»“åº“ â†’ è‡ªåŠ¨æ„å»º â†’ CDNåˆ†å‘ â†’ ç”¨æˆ·è®¿é—®

GitHub Pages ä¼˜åŠ¿ï¼š

å…è´¹æ‰˜ç®¡
è‡ªåŠ¨éƒ¨ç½²
HTTPS æ”¯æŒ
è‡ªå®šä¹‰åŸŸå
å…¨çƒ CDN åŠ é€Ÿ

ğŸŒ å…¶ä»–æ‰˜ç®¡å¹³å°
Netlifyï¼šåŠŸèƒ½å¼ºå¤§ï¼Œæ”¯æŒè¡¨å•å¤„ç†
Vercelï¼šä¸“æ³¨äºå‰ç«¯æ¡†æ¶
Surge.shï¼šç®€å•å¿«é€Ÿçš„é™æ€æ‰˜ç®¡
Cloudflare Pagesï¼šç»“åˆ CDN ä¼˜åŠ¿

5. ç½‘é¡µåŠ è½½è¿‡ç¨‹è¯¦è§£ğŸŒŠ æµè§ˆå™¨åŠ è½½æµç¨‹
DNS è§£æï¼šå°†åŸŸåè½¬æ¢ä¸º IP åœ°å€
å»ºç«‹è¿æ¥ï¼šæµè§ˆå™¨ä¸æœåŠ¡å™¨å»ºç«‹ TCP è¿æ¥
å‘é€è¯·æ±‚ï¼šHTTP&#x2F;HTTPS è¯·æ±‚ç½‘é¡µèµ„æº
æ¥æ”¶å“åº”ï¼šæœåŠ¡å™¨è¿”å› HTML æ–‡æ¡£
è§£æ HTMLï¼šæ„å»º DOM æ ‘
åŠ è½½èµ„æºï¼šä¸‹è½½ CSSã€JavaScriptã€å›¾ç‰‡ç­‰
æ¸²æŸ“é¡µé¢ï¼šåº”ç”¨æ ·å¼ï¼Œæ‰§è¡Œè„šæœ¬
å®ŒæˆåŠ è½½ï¼šé¡µé¢å®Œå…¨å¯äº¤äº’

ğŸ“Š æ€§èƒ½ä¼˜åŒ–è¦ç‚¹å‡å°‘æ–‡ä»¶å¤§å°# å›¾ç‰‡å‹ç¼©- ä½¿ç”¨ WebP æ ¼å¼- é€‚å½“é™ä½å›¾ç‰‡è´¨é‡- ä½¿ç”¨å“åº”å¼å›¾ç‰‡# ä»£ç å‹ç¼©- CSS/JS æ–‡ä»¶å‹ç¼©- ç§»é™¤æœªä½¿ç”¨çš„ä»£ç - ä½¿ç”¨ Tree Shaking

å‡å°‘è¯·æ±‚æ¬¡æ•°
åˆå¹¶ CSS&#x2F;JS æ–‡ä»¶
ä½¿ç”¨ CSS Sprites
å†…è”å°æ–‡ä»¶
å¯ç”¨ HTTP&#x2F;2

ç¼“å­˜ç­–ç•¥# HTTP ç¼“å­˜å¤´Cache-Control: max-age=31536000ETag: &quot;abc123&quot;Last-Modified: Wed, 21 Oct 2015 07:28:00 GMT

CDN ä½¿ç”¨
é™æ€èµ„æºåˆ†å‘
å°±è¿‘æœåŠ¡ç”¨æˆ·
å‡è½»æºæœåŠ¡å™¨å‹åŠ›

6. å“åº”å¼è®¾è®¡åŸç†ğŸ“± ç§»åŠ¨ä¼˜å…ˆè®¾è®¡/* åŸºç¡€æ ·å¼ï¼ˆç§»åŠ¨ç«¯ï¼‰ */.container &#123;  width: 100%;  padding: 10px;&#125;/* å¹³æ¿ç«¯ */@media (min-width: 768px) &#123;  .container &#123;    width: 750px;    margin: 0 auto;  &#125;&#125;/* æ¡Œé¢ç«¯ */@media (min-width: 1200px) &#123;  .container &#123;    width: 1200px;  &#125;&#125;

ğŸ¯ å“åº”å¼æ–­ç‚¹/* å¸¸ç”¨æ–­ç‚¹ *//* è¶…å°å±å¹•ï¼ˆæ‰‹æœºï¼‰ */@media (max-width: 575.98px) &#123; ... &#125;/* å°å±å¹•ï¼ˆæ‰‹æœºæ¨ªå±ï¼‰ */@media (min-width: 576px) and (max-width: 767.98px) &#123; ... &#125;/* ä¸­ç­‰å±å¹•ï¼ˆå¹³æ¿ï¼‰ */@media (min-width: 768px) and (max-width: 991.98px) &#123; ... &#125;/* å¤§å±å¹•ï¼ˆæ¡Œé¢ï¼‰ */@media (min-width: 992px) and (max-width: 1199.98px) &#123; ... &#125;/* è¶…å¤§å±å¹•ï¼ˆå¤§æ¡Œé¢ï¼‰ */@media (min-width: 1200px) &#123; ... &#125;

ğŸ”§ Flexbox å¸ƒå±€.flex-container &#123;  display: flex;  justify-content: space-between;  /* ä¸»è½´å¯¹é½ */  align-items: center;             /* äº¤å‰è½´å¯¹é½ */  flex-wrap: wrap;                 /* æ¢è¡Œ */&#125;.flex-item &#123;  flex: 1;        /* ç­‰æ¯”ä¼¸ç¼© */  flex-grow: 1;   /* æ”¾å¤§æ¯”ä¾‹ */  flex-shrink: 1; /* ç¼©å°æ¯”ä¾‹ */  flex-basis: 0;  /* åŸºç¡€å¤§å° */&#125;

ğŸ¨ Grid å¸ƒå±€.grid-container &#123;  display: grid;  grid-template-columns: repeat(3, 1fr);  grid-gap: 20px;  grid-template-areas:     &quot;header header header&quot;    &quot;sidebar main main&quot;    &quot;footer footer footer&quot;;&#125;.header &#123; grid-area: header; &#125;.sidebar &#123; grid-area: sidebar; &#125;.main &#123; grid-area: main; &#125;.footer &#123; grid-area: footer; &#125;

7. SEO å’Œç”¨æˆ·ä½“éªŒğŸ” æœç´¢å¼•æ“ä¼˜åŒ– (SEO)Meta æ ‡ç­¾ä¼˜åŒ–&lt;head&gt;  &lt;title&gt;é¡µé¢æ ‡é¢˜ - ç½‘ç«™åç§°&lt;/title&gt;  &lt;meta name=&quot;description&quot; content=&quot;é¡µé¢æè¿°ï¼Œ120-160å­—ç¬¦&quot;&gt;  &lt;meta name=&quot;keywords&quot; content=&quot;å…³é”®è¯1,å…³é”®è¯2,å…³é”®è¯3&quot;&gt;    &lt;!-- Open Graph (ç¤¾äº¤åˆ†äº«) --&gt;  &lt;meta property=&quot;og:title&quot; content=&quot;é¡µé¢æ ‡é¢˜&quot;&gt;  &lt;meta property=&quot;og:description&quot; content=&quot;é¡µé¢æè¿°&quot;&gt;  &lt;meta property=&quot;og:image&quot; content=&quot;åˆ†äº«å›¾ç‰‡URL&quot;&gt;  &lt;meta property=&quot;og:url&quot; content=&quot;é¡µé¢URL&quot;&gt;    &lt;!-- Twitter Card --&gt;  &lt;meta name=&quot;twitter:card&quot; content=&quot;summary_large_image&quot;&gt;  &lt;meta name=&quot;twitter:title&quot; content=&quot;é¡µé¢æ ‡é¢˜&quot;&gt;  &lt;meta name=&quot;twitter:description&quot; content=&quot;é¡µé¢æè¿°&quot;&gt;&lt;/head&gt;

è¯­ä¹‰åŒ– HTML&lt;article&gt;  &lt;header&gt;    &lt;h1&gt;æ–‡ç« æ ‡é¢˜&lt;/h1&gt;    &lt;time datetime=&quot;2025-08-13&quot;&gt;2025å¹´8æœˆ13æ—¥&lt;/time&gt;  &lt;/header&gt;    &lt;main&gt;    &lt;section&gt;      &lt;h2&gt;ç« èŠ‚æ ‡é¢˜&lt;/h2&gt;      &lt;p&gt;æ®µè½å†…å®¹...&lt;/p&gt;    &lt;/section&gt;  &lt;/main&gt;    &lt;footer&gt;    &lt;p&gt;æ–‡ç« ä½œè€…ä¿¡æ¯&lt;/p&gt;  &lt;/footer&gt;&lt;/article&gt;

ç»“æ„åŒ–æ•°æ®&#123;  &quot;@context&quot;: &quot;https://schema.org&quot;,  &quot;@type&quot;: &quot;Article&quot;,  &quot;headline&quot;: &quot;æ–‡ç« æ ‡é¢˜&quot;,  &quot;author&quot;: &#123;    &quot;@type&quot;: &quot;Person&quot;,    &quot;name&quot;: &quot;ä½œè€…å§“å&quot;  &#125;,  &quot;datePublished&quot;: &quot;2025-08-13&quot;,  &quot;description&quot;: &quot;æ–‡ç« æè¿°&quot;&#125;

ğŸ‘¥ ç”¨æˆ·ä½“éªŒ (UX) è®¾è®¡åŸåˆ™å¯ç”¨æ€§åŸåˆ™
ä¸€è‡´æ€§ï¼šç›¸ä¼¼åŠŸèƒ½ä½¿ç”¨ç›¸ä¼¼è®¾è®¡
å¯é¢„æµ‹æ€§ï¼šç”¨æˆ·èƒ½é¢„æœŸæ“ä½œç»“æœ
å®¹é”™æ€§ï¼šå‡å°‘é”™è¯¯ï¼Œæ–¹ä¾¿çº é”™
æ•ˆç‡æ€§ï¼šå¿«é€Ÿå®Œæˆä»»åŠ¡

å¯è®¿é—®æ€§ (Accessibility)&lt;!-- è¯­ä¹‰åŒ–æ ‡ç­¾ --&gt;&lt;nav aria-label=&quot;ä¸»å¯¼èˆª&quot;&gt;  &lt;ul&gt;    &lt;li&gt;&lt;a href=&quot;/&quot;&gt;é¦–é¡µ&lt;/a&gt;&lt;/li&gt;    &lt;li&gt;&lt;a href=&quot;/about&quot;&gt;å…³äº&lt;/a&gt;&lt;/li&gt;  &lt;/ul&gt;&lt;/nav&gt;&lt;!-- å›¾ç‰‡æ›¿ä»£æ–‡æœ¬ --&gt;&lt;img src=&quot;chart.png&quot; alt=&quot;2025å¹´é”€å”®æ•°æ®å›¾è¡¨&quot;&gt;&lt;!-- è¡¨å•æ ‡ç­¾ --&gt;&lt;label for=&quot;email&quot;&gt;é‚®ç®±åœ°å€&lt;/label&gt;&lt;input type=&quot;email&quot; id=&quot;email&quot; required&gt;&lt;!-- é”®ç›˜å¯¼èˆª --&gt;&lt;button tabindex=&quot;0&quot;&gt;å¯é”®ç›˜è®¿é—®çš„æŒ‰é’®&lt;/button&gt;

æ€§èƒ½ä½“éªŒ
é¦–å±åŠ è½½æ—¶é—´ &lt; 3ç§’
é¡µé¢å®Œå…¨åŠ è½½ &lt; 5ç§’
äº¤äº’å“åº”æ—¶é—´ &lt; 100ms
Core Web Vitals æŒ‡æ ‡ä¼˜åŒ–

8. å‰ç«¯æ¡†æ¶ç”Ÿæ€âš›ï¸ React ç”Ÿæ€// React ç»„ä»¶ç¤ºä¾‹function BlogPost(&#123; title, content, author &#125;) &#123;  const [likes, setLikes] = useState(0);    return (    &lt;article&gt;      &lt;h1&gt;&#123;title&#125;&lt;/h1&gt;      &lt;p&gt;ä½œè€…ï¼š&#123;author&#125;&lt;/p&gt;      &lt;div&gt;&#123;content&#125;&lt;/div&gt;      &lt;button onClick=&#123;() =&gt; setLikes(likes + 1)&#125;&gt;        ç‚¹èµ (&#123;likes&#125;)      &lt;/button&gt;    &lt;/article&gt;  );&#125;

React ç”Ÿæ€å·¥å…·ï¼š

Create React Appï¼šè„šæ‰‹æ¶å·¥å…·
Next.jsï¼šå…¨æ ˆæ¡†æ¶
React Routerï¼šè·¯ç”±ç®¡ç†
Redux&#x2F;Zustandï¼šçŠ¶æ€ç®¡ç†

ğŸ’š Vue ç”Ÿæ€&lt;!-- Vue ç»„ä»¶ç¤ºä¾‹ --&gt;&lt;template&gt;  &lt;article&gt;    &lt;h1&gt;&#123;&#123; title &#125;&#125;&lt;/h1&gt;    &lt;p&gt;ä½œè€…ï¼š&#123;&#123; author &#125;&#125;&lt;/p&gt;    &lt;div&gt;&#123;&#123; content &#125;&#125;&lt;/div&gt;    &lt;button @click=&quot;likes++&quot;&gt;      ç‚¹èµ (&#123;&#123; likes &#125;&#125;)    &lt;/button&gt;  &lt;/article&gt;&lt;/template&gt;&lt;script&gt;export default &#123;  props: [&#x27;title&#x27;, &#x27;content&#x27;, &#x27;author&#x27;],  data() &#123;    return &#123;      likes: 0    &#125;  &#125;&#125;&lt;/script&gt;

Vue ç”Ÿæ€å·¥å…·ï¼š

Vue CLI&#x2F;Viteï¼šè„šæ‰‹æ¶å·¥å…·
Nuxt.jsï¼šå…¨æ ˆæ¡†æ¶
Vue Routerï¼šè·¯ç”±ç®¡ç†
Vuex&#x2F;Piniaï¼šçŠ¶æ€ç®¡ç†

ğŸ…°ï¸ Angular ç”Ÿæ€// Angular ç»„ä»¶ç¤ºä¾‹@Component(&#123;  selector: &#x27;blog-post&#x27;,  template: `    &lt;article&gt;      &lt;h1&gt;&#123;&#123;title&#125;&#125;&lt;/h1&gt;      &lt;p&gt;ä½œè€…ï¼š&#123;&#123;author&#125;&#125;&lt;/p&gt;      &lt;div&gt;&#123;&#123;content&#125;&#125;&lt;/div&gt;      &lt;button (click)=&quot;increaseLikes()&quot;&gt;        ç‚¹èµ (&#123;&#123;likes&#125;&#125;)      &lt;/button&gt;    &lt;/article&gt;  `&#125;)export class BlogPostComponent &#123;  @Input() title: string;  @Input() content: string;  @Input() author: string;    likes = 0;    increaseLikes() &#123;    this.likes++;  &#125;&#125;

9. åç«¯åŸºç¡€çŸ¥è¯†ğŸ–¥ï¸ æœåŠ¡å™¨ç«¯è¯­è¨€
Node.jsï¼šJavaScript è¿è¡Œæ—¶
Pythonï¼šDjango, Flask æ¡†æ¶
Javaï¼šSpring Boot æ¡†æ¶
PHPï¼šLaravel, Symfony æ¡†æ¶
C#ï¼šASP.NET Core æ¡†æ¶

ğŸ—„ï¸ æ•°æ®åº“ç±»å‹-- SQL æ•°æ®åº“ç¤ºä¾‹ (MySQL)CREATE TABLE posts (  id INT PRIMARY KEY AUTO_INCREMENT,  title VARCHAR(255) NOT NULL,  content TEXT,  author VARCHAR(100),  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP);SELECT * FROM posts WHERE author = &#x27;å¼ ä¸‰&#x27;;

// NoSQL æ•°æ®åº“ç¤ºä¾‹ (MongoDB)&#123;  &quot;_id&quot;: ObjectId(&quot;...&quot;),  &quot;title&quot;: &quot;æ–‡ç« æ ‡é¢˜&quot;,  &quot;content&quot;: &quot;æ–‡ç« å†…å®¹&quot;,  &quot;author&quot;: &quot;å¼ ä¸‰&quot;,  &quot;tags&quot;: [&quot;æŠ€æœ¯&quot;, &quot;æ•™ç¨‹&quot;],  &quot;createdAt&quot;: ISODate(&quot;2025-08-13T...&quot;)&#125;

ğŸ”Œ API è®¾è®¡// RESTful API ç¤ºä¾‹GET    /api/posts        // è·å–æ–‡ç« åˆ—è¡¨GET    /api/posts/:id    // è·å–å•ç¯‡æ–‡ç« POST   /api/posts        // åˆ›å»ºæ–‡ç« PUT    /api/posts/:id    // æ›´æ–°æ–‡ç« DELETE /api/posts/:id    // åˆ é™¤æ–‡ç« // GraphQL API ç¤ºä¾‹query &#123;  posts &#123;    id    title    author &#123;      name      email    &#125;  &#125;&#125;

10. å¼€å‘å·¥å…·å’Œç¯å¢ƒğŸ› ï¸ ä»£ç ç¼–è¾‘å™¨
VS Codeï¼šåŠŸèƒ½å¼ºå¤§ï¼Œæ’ä»¶ä¸°å¯Œ
WebStormï¼šJetBrains å‡ºå“
Sublime Textï¼šè½»é‡å¿«é€Ÿ
Atomï¼šGitHub å¼€æºç¼–è¾‘å™¨

ğŸ“¦ åŒ…ç®¡ç†å™¨# npm (Node Package Manager)npm install package-namenpm install -g package-name  # å…¨å±€å®‰è£…npm run build               # è¿è¡Œè„šæœ¬# yarn (Facebook å¼€å‘)yarn add package-nameyarn global add package-nameyarn build# pnpm (æ€§èƒ½ä¼˜åŒ–ç‰ˆæœ¬)pnpm add package-namepnpm add -g package-namepnpm build

ğŸ”§ æ„å»ºå·¥å…·// Webpack é…ç½®ç¤ºä¾‹module.exports = &#123;  entry: &#x27;./src/index.js&#x27;,  output: &#123;    path: path.resolve(__dirname, &#x27;dist&#x27;),    filename: &#x27;bundle.js&#x27;  &#125;,  module: &#123;    rules: [      &#123;        test: /\.css$/,        use: [&#x27;style-loader&#x27;, &#x27;css-loader&#x27;]      &#125;,      &#123;        test: /\.js$/,        use: &#x27;babel-loader&#x27;      &#125;    ]  &#125;&#125;;

// Vite é…ç½®ç¤ºä¾‹import &#123; defineConfig &#125; from &#x27;vite&#x27;import vue from &#x27;@vitejs/plugin-vue&#x27;export default defineConfig(&#123;  plugins: [vue()],  build: &#123;    outDir: &#x27;dist&#x27;,    minify: &#x27;terser&#x27;  &#125;&#125;)

11. ç‰ˆæœ¬æ§åˆ¶å’Œåä½œğŸ“ Git åŸºç¡€å‘½ä»¤# åŸºç¡€æ“ä½œgit init                    # åˆå§‹åŒ–ä»“åº“git add .                   # æ·»åŠ æ‰€æœ‰æ–‡ä»¶åˆ°æš‚å­˜åŒºgit commit -m &quot;æäº¤ä¿¡æ¯&quot;    # æäº¤æ›´æ”¹git push origin main        # æ¨é€åˆ°è¿œç¨‹ä»“åº“# åˆ†æ”¯æ“ä½œgit branch feature-branch   # åˆ›å»ºåˆ†æ”¯git checkout feature-branch # åˆ‡æ¢åˆ†æ”¯git merge feature-branch    # åˆå¹¶åˆ†æ”¯# æŸ¥çœ‹çŠ¶æ€git status                  # æŸ¥çœ‹å·¥ä½œåŒºçŠ¶æ€git log --oneline          # æŸ¥çœ‹æäº¤å†å²git diff                   # æŸ¥çœ‹å·®å¼‚

ğŸ¤ åä½œå·¥ä½œæµä¸»åˆ†æ”¯ (main/master)â”œâ”€â”€ å¼€å‘åˆ†æ”¯ (develop)â”‚   â”œâ”€â”€ åŠŸèƒ½åˆ†æ”¯ (feature/login)â”‚   â”œâ”€â”€ åŠŸèƒ½åˆ†æ”¯ (feature/payment)â”‚   â””â”€â”€ ä¿®å¤åˆ†æ”¯ (hotfix/bug-001)â””â”€â”€ å‘å¸ƒåˆ†æ”¯ (release/v1.2.0)

ğŸ“‹ æäº¤è§„èŒƒ# æäº¤æ¶ˆæ¯æ ¼å¼&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;# ç±»å‹è¯´æ˜feat:     æ–°åŠŸèƒ½fix:      ä¿®å¤bugdocs:     æ–‡æ¡£æ›´æ–°style:    ä»£ç æ ¼å¼è°ƒæ•´refactor: ä»£ç é‡æ„test:     æµ‹è¯•ç›¸å…³chore:    æ„å»º/å·¥å…·é“¾æ›´æ–°# ç¤ºä¾‹feat(auth): æ·»åŠ ç”¨æˆ·ç™»å½•åŠŸèƒ½fix(ui): ä¿®å¤å“åº”å¼å¸ƒå±€é—®é¢˜docs(readme): æ›´æ–°å®‰è£…è¯´æ˜

12. å­¦ä¹ è·¯å¾„å’Œèµ„æºæ¨èğŸ“ˆ åˆå­¦è€…è·¯å¾„
ç¬¬ä¸€é˜¶æ®µï¼šHTML + CSS åŸºç¡€

å­¦ä¼šåŸºæœ¬æ ‡ç­¾å’Œæ ·å¼
å®Œæˆé™æ€é¡µé¢åˆ¶ä½œ
æŒæ¡å“åº”å¼è®¾è®¡


ç¬¬äºŒé˜¶æ®µï¼šJavaScript åŸºç¡€

è¯­æ³•å’Œæ•°æ®ç±»å‹
DOM æ“ä½œ
äº‹ä»¶å¤„ç†


ç¬¬ä¸‰é˜¶æ®µï¼šå·¥å…·å’Œæ¡†æ¶

Git ç‰ˆæœ¬æ§åˆ¶
åŒ…ç®¡ç†å™¨ä½¿ç”¨
é€‰æ‹©ä¸€ä¸ªæ¡†æ¶æ·±å…¥å­¦ä¹ 


ç¬¬å››é˜¶æ®µï¼šé¡¹ç›®å®è·µ

ä¸ªäººä½œå“é›†
å°å‹åº”ç”¨å¼€å‘
å¼€æºé¡¹ç›®è´¡çŒ®



ğŸ“š å­¦ä¹ èµ„æº
åœ¨çº¿æ•™ç¨‹ï¼š

MDN Web Docs
freeCodeCamp
èœé¸Ÿæ•™ç¨‹
æ…•è¯¾ç½‘


è§†é¢‘è¯¾ç¨‹ï¼š

Bilibili
è…¾è®¯è¯¾å ‚
ç½‘æ˜“äº‘è¯¾å ‚
YouTube


å®è·µå¹³å°ï¼š

CodePen
JSFiddle
Repl.it
GitHub



ğŸ¯ è¿›é˜¶æ–¹å‘
å‰ç«¯å·¥ç¨‹åŒ–ï¼šæ„å»ºå·¥å…·ã€è‡ªåŠ¨åŒ–éƒ¨ç½²
æ€§èƒ½ä¼˜åŒ–ï¼šåŠ è½½ä¼˜åŒ–ã€æ¸²æŸ“ä¼˜åŒ–
è·¨ç«¯å¼€å‘ï¼šReact Nativeã€Flutter
å…¨æ ˆå¼€å‘ï¼šNode.jsã€æ•°æ®åº“
DevOpsï¼šCI&#x2F;CDã€å®¹å™¨åŒ–

13. å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆâ“ æ ·å¼é—®é¢˜/* å¸¸è§çš„ CSS é‡ç½® */* &#123;  margin: 0;  padding: 0;  box-sizing: border-box;&#125;/* æ¸…é™¤æµ®åŠ¨ */.clearfix::after &#123;  content: &quot;&quot;;  display: table;  clear: both;&#125;/* å‚ç›´å±…ä¸­ */.center &#123;  display: flex;  justify-content: center;  align-items: center;&#125;

ğŸ› JavaScript è°ƒè¯•// æ§åˆ¶å°è°ƒè¯•console.log(&#x27;å˜é‡å€¼:&#x27;, variable);console.error(&#x27;é”™è¯¯ä¿¡æ¯:&#x27;, error);console.table(arrayData);// æ–­ç‚¹è°ƒè¯•debugger;  // åœ¨æ­¤å¤„æš‚åœæ‰§è¡Œ// é”™è¯¯å¤„ç†try &#123;  // å¯èƒ½å‡ºé”™çš„ä»£ç   riskyOperation();&#125; catch (error) &#123;  console.error(&#x27;æ•è·åˆ°é”™è¯¯:&#x27;, error);&#125; finally &#123;  // æ€»æ˜¯æ‰§è¡Œçš„ä»£ç   cleanup();&#125;

ğŸ”§ æ€§èƒ½é—®é¢˜// å‡½æ•°é˜²æŠ–function debounce(func, wait) &#123;  let timeout;  return function executedFunction(...args) &#123;    const later = () =&gt; &#123;      clearTimeout(timeout);      func(...args);    &#125;;    clearTimeout(timeout);    timeout = setTimeout(later, wait);  &#125;;&#125;// å‡½æ•°èŠ‚æµfunction throttle(func, wait) &#123;  let inThrottle;  return function() &#123;    const args = arguments;    const context = this;    if (!inThrottle) &#123;      func.apply(context, args);      inThrottle = true;      setTimeout(() =&gt; inThrottle = false, wait);    &#125;  &#125;&#125;// ä½¿ç”¨ç¤ºä¾‹const debouncedSearch = debounce(searchFunction, 300);const throttledScroll = throttle(scrollHandler, 100);

14. æœªæ¥å‘å±•è¶‹åŠ¿ğŸš€ æ–°å…´æŠ€æœ¯
WebAssemblyï¼šé«˜æ€§èƒ½ Web åº”ç”¨
PWAï¼šæ¸è¿›å¼ Web åº”ç”¨
JAMstackï¼šç°ä»£ Web æ¶æ„
Serverlessï¼šæ— æœåŠ¡å™¨è®¡ç®—
è¾¹ç¼˜è®¡ç®—ï¼šCDN è¾¹ç¼˜å¤„ç†

ğŸ¨ è®¾è®¡è¶‹åŠ¿
æš—è‰²æ¨¡å¼ï¼šæŠ¤çœ¼ä¸”æ—¶å°š
å¾®äº¤äº’ï¼šç»†è‡´çš„ç”¨æˆ·åé¦ˆ
3D å’ŒåŠ¨ç”»ï¼šæ²‰æµ¸å¼ä½“éªŒ
æç®€è®¾è®¡ï¼šä¸“æ³¨å†…å®¹æœ¬èº«

ğŸ› ï¸ å¼€å‘è¶‹åŠ¿
TypeScriptï¼šç±»å‹å®‰å…¨çš„ JavaScript
ç»„ä»¶åŒ–å¼€å‘ï¼šå¯å¤ç”¨çš„ UI ç»„ä»¶
å¾®å‰ç«¯ï¼šå¤§å‹åº”ç”¨çš„æ¨¡å—åŒ–
ä½ä»£ç &#x2F;æ— ä»£ç ï¼šå¯è§†åŒ–å¼€å‘å¹³å°

æ€»ç»“ç½‘é¡µæ„å»ºæ˜¯ä¸€ä¸ªä¸æ–­å‘å±•çš„é¢†åŸŸï¼Œä»æœ€åŸºç¡€çš„ HTMLã€CSSã€JavaScript åˆ°ç°ä»£çš„æ¡†æ¶å’Œå·¥å…·é“¾ï¼Œæ¯ä¸€å±‚éƒ½æœ‰å…¶å­˜åœ¨çš„ä»·å€¼å’Œæ„ä¹‰ã€‚
ğŸ¯ å…³é”®è¦ç‚¹
åŸºç¡€è¦æ‰å®ï¼šHTMLã€CSSã€JavaScript æ˜¯æ ¹åŸº
å®è·µè¦å……åˆ†ï¼šåŠ¨æ‰‹åšé¡¹ç›®æ¯”çœ‹æ•™ç¨‹æ›´é‡è¦
å­¦ä¹ è¦æŒç»­ï¼šæŠ€æœ¯æ›´æ–°å¿«ï¼Œéœ€è¦ä¿æŒå­¦ä¹ ä¹ æƒ¯
è§†é‡è¦å¼€é˜”ï¼šä¸ä»…è¦ä¼šå†™ä»£ç ï¼Œè¿˜è¦äº†è§£è®¾è®¡ã€äº§å“ã€ç”¨æˆ·ä½“éªŒ

ğŸŒŸ ç»™åˆå­¦è€…çš„å»ºè®®
ä¸è¦æ€¥äºæ±‚æˆï¼šæ¯ä¸ªé˜¶æ®µéƒ½è¦æ‰“å¥½åŸºç¡€
å¤šåšé¡¹ç›®ï¼šä»æ¨¡ä»¿å¼€å§‹ï¼Œé€æ­¥åˆ›æ–°
å‚ä¸ç¤¾åŒºï¼šGitHubã€Stack Overflowã€æŠ€æœ¯è®ºå›
ä¿æŒå¥½å¥‡å¿ƒï¼šå…³æ³¨æ–°æŠ€æœ¯ï¼Œä½†ä¸è¦ç›²ç›®è¿½æ–°

å¸Œæœ›è¿™ä»½è¯¦ç»†çš„æŒ‡å—èƒ½å¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£ç½‘é¡µæ„å»ºçš„å…¨è²Œï¼Œåœ¨å‰ç«¯å¼€å‘çš„é“è·¯ä¸Šèµ°å¾—æ›´ç¨³æ›´è¿œï¼

æœ€åæ›´æ–°ï¼š2025å¹´8æœˆ13æ—¥å¦‚æœ‰ç–‘é—®ï¼Œæ¬¢è¿äº¤æµè®¨è®ºï¼
]]></content>
      <categories>
        <category>å­¦ä¹ è®°å½•</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title>ç”¨rustå¤åˆ»git</title>
    <url>/2025/08/07/%E7%94%A8rust%E5%A4%8D%E5%88%BBgit/</url>
    <content><![CDATA[ğŸ“ ç”¨rustå¤åˆ»git
æœ¬æ–‡å°†ä»‹ç»ç”¨rustå¤åˆ»gitçš„å†ç¨‹ï¼Œä¹Ÿçºªå¿µæˆ‘ç¬¬ä¸€æ¬¡åˆä½œå¼€å‘çš„ç»å†

å‰è¨€å¤§äºŒä¸‹é€‰è¯¾çš„æ—¶å€™å‘ç°æœ‰ä¸€é—¨ã€Šrustç¨‹åºè®¾è®¡ã€‹çš„è¯¾ç¨‹ï¼Œä¹‹å‰åœ¨å¤§ä¸€ä¸Šc++çš„æ—¶å€™æœ€æ—©æ¥è§¦è¿‡rustè¿™ä¸ªåå­—ï¼Œä½†æ˜¯ä¸€ç›´æ²¡æ€ä¹ˆäº†è§£è¿‡ï¼Œäºæ˜¯æŠ±ç€å¥½å¥‡å¿ƒå’ŒåŒä¼´ç»„é˜Ÿé€‰äº†è¿™é—¨è¯¾ï¼Œè¿™ä¹Ÿæ˜¯è¿™é—¨é¡¹ç›®çš„ç”±æ¥ã€‚
æ•´ä¸ªé¡¹ç›®ä»4æœˆä»½å¼€å§‹ï¼Œåˆ°5æœˆåº•å‘çŒªè„šç­”è¾©æ—¶å®Œæˆäº†1.0ç‰ˆæœ¬ï¼ˆhttps://github.com/231220075/git.gitï¼‰ï¼ŒåŒ…å«äº†é™¤è¿œç¨‹åˆ†æ”¯å¤–çš„åŸºæœ¬åŠŸèƒ½ã€‚åç»­åœ¨æš‘å‡æœŸé—´è¡¥ä¸Šäº†è¿œç¨‹åˆ†æ”¯æ§åˆ¶çš„éƒ¨åˆ†ï¼Œå³1.1ç‰ˆæœ¬ï¼ˆhttps://github.com/231220075/rit.gitï¼‰ï¼Œå‘½åä¸ºrit-&gt;rust-gitã€‚
åˆæ­¥å¼€å‘
é¦–å…ˆéœ€è¦äº†è§£gitçš„å·¥ä½œåŸç†ï¼Œè¿™ä¸€éƒ¨åˆ†å‚è€ƒhttps://git-scm.com/book/en/vï¼Œä¸å†èµ˜è¿°ã€‚
æ¯ä¸€æ¡gitå‘½ä»¤æ‰§è¡Œè¿‡ç¨‹æ¯”è¾ƒå›ºå®šï¼Œè§£æå¥½å‘½ä»¤è¡Œå‚æ•°åæ‰§è¡Œå¯¹åº”çš„å¤„ç†å‡½æ•°å³å¯ã€‚è§£æå‘½ä»¤è¡Œå‚æ•°ä½¿ç”¨clapï¼ˆæ˜“äºä½¿ç”¨ï¼Œèƒ½å¤„ç†å¤æ‚å‚æ•°è§£æï¼Œä¸”è‡ªåŠ¨ç”Ÿæˆhelpé¡µï¼‰ã€‚clapè§£æå‘½ä»¤è¡Œå‚æ•°å¹¶è¿”å›å…·ä½“ç±»å‹çš„ subcommandï¼Œå¹¶è°ƒç”¨å…¶runå‡½æ•°ã€‚è¿™é‡Œä¸ºäº†åç»­å­å‘½ä»¤çš„å®ç°ï¼Œæˆ‘ä»¬æŠŠ.gitæ‰€åœ¨ç›®å½•è·¯å¾„ä½œä¸ºå‚æ•°ä¼ ç»™runï¼Œå¹¶ä¸º-Cåšäº†å¤„ç†ã€‚
åœ¨åšsubcommandä¹‹å‰éœ€è¦å…ˆå®ç°ä¸€äº›åº•å±‚å‘½ä»¤ï¼Œæˆ‘ä»¬åšäº†cat-fileã€hash-objectã€write&#x2F;read-treeã€update-indexã€commit-treeã€update-ref&amp;&amp;symboloc-refç­‰ç­‰ï¼ˆåä¸¤ä¸ªæ¯”è¾ƒç®€å•ï¼Œåç»­ç›´æ¥ç®€åŒ–åˆ°utils&#x2F;refsä½œä¸ºåˆ†æ”¯ç®¡ç†å·¥å…·äº†ï¼‰ï¼Œè¿™ä¸€éƒ¨åˆ†é€æ­¥ç†æ¸…å¹¶æ„å»ºäº†gitçš„å·¥ä½œç¯å¢ƒï¼Œå¦‚indexåŒºã€.gitæ–‡ä»¶å†…å®¹ç®¡ç†ã€refsç®¡ç†ç­‰ç­‰ï¼Œä»¥åŠgitä¸­ blobã€treeã€commitè¿™å‡ ç§objectçš„ç»“æ„ï¼Œè¿™äº›å°±æ˜¯gitçš„åº•å±‚ä»£ç ï¼Œåˆ°æ­¤ä¸ºæ­¢æˆ‘ä»¬å°±èƒ½å®Œå…¨è¯»æ‡‚.gitä¸‹çš„æ‰€æœ‰æ–‡ä»¶åŠå…¶åŠŸèƒ½äº†ã€‚
ç†è§£åº•å±‚ä»£ç åå‰©ä¸‹çš„éƒ¨åˆ†å°±æ¯”è¾ƒç®€å•äº†ï¼Œsubcommandå°±æ˜¯åœ¨åº•å±‚å‘½ä»¤çš„åŸºç¡€ä¸Šè¿è¡Œçš„ï¼ŒåŸºæœ¬å°±æ˜¯ç»„åˆä¸€ä¸‹ï¼ŒåŠ ä¸Šåˆ¤æ–­å¤„ç†ã€‚æ¯”è¾ƒå¤æ‚çš„å¯èƒ½æ˜¯checkoutå’Œmergeï¼Œè¯¾ç¨‹å¯¹mergeè¦æ±‚æ¯”è¾ƒç®€å•ï¼Œå¦‚æœæœ‰å†²çªåªè¦æ˜¾ç¤ºä¸¤ä¸ªåˆ†æ”¯å“ªéƒ¨åˆ†æœ‰ä¸åŒï¼Œè¿™éƒ¨åˆ†ç”±å¦ä¸€ä½æˆå‘˜å®Œæˆï¼Œæˆ‘ä¸åšè¿‡å¤šé˜è¿°ï¼›è€Œcheckoutä¸»è¦æ¶‰åŠåˆ°åˆ‡æ¢åˆ†æ”¯çš„æ—¶é—´ç‚¹ï¼Œworkspaceã€indexå’Œref commitæ˜¯å¦ä¸€è‡´çš„é—®é¢˜ã€‚æˆ‘çš„ç†è§£æ˜¯ï¼Œå¦‚æœåˆ‡æ¢åˆ†æ”¯å‰ï¼Œä»…è€ƒè™‘ç›®æ ‡æ–‡ä»¶ï¼Œindex&#x3D;workspace&#x3D;current ref commitï¼Œè¯´æ˜ä¸å­˜åœ¨æœªæš‚å­˜&amp;&amp;æœªæäº¤çš„æ›´æ”¹ï¼Œå³indexå’Œworkspaceéƒ½æ˜¯cleanï¼Œè¿™ç§æƒ…å†µä¸‹å¯ä»¥ç›´æ¥åˆ‡æ¢ref commit,å¹¶æŠŠç›®æ ‡commitçš„tree objectå†™å…¥indexå’Œæ›´æ–°workspaceï¼›å¦åˆ™è¯´æ˜æœ‰æœªæš‚å­˜||æœªæäº¤çš„æ›´æ”¹ï¼Œéœ€è¦è€ƒè™‘ä¿ç•™è¿™äº›æ›´æ”¹ï¼Œå­˜åœ¨ä¸€ä¸ªâ€œmergeâ€çš„è¿‡ç¨‹ï¼Œå¯¹äºå­˜åœ¨å†²çªçš„æ–‡ä»¶ä»¥index&#x2F;workspaceä¸ºå‡†ã€‚
è¿™ä¸ªè¿‡ç¨‹ä¸­æ¯ä¸€æ­¥å¼€å‘æ–°åŠŸèƒ½å‰éœ€è¦å…ˆæŠŠé¢‘ç¹ä½¿ç”¨çš„methodæ„å»ºä¸€ä¸ªutilï¼Œæ–¹ä¾¿åç»­ä½¿ç”¨ï¼Œæˆ‘ä»¬ä¸»è¦æ˜¯ç”¨åˆ°å¾ˆå¤šå…³äºä¸‰ç±»objectæ„å»ºå’Œè¯»å†™ã€indexçš„è¯»å†™ã€æ–‡ä»¶è¯»å†™ä»¥åŠå‹ç¼©ã€hashå’Œåšå•å…ƒæµ‹è¯•çš„methodï¼Œæ„å»ºäº†ç›¸å…³çš„utilsã€‚è°ˆåˆ°unit testï¼Œéœ€è¦æ„Ÿè°¢æˆ‘çš„åŒä¼´å¼€å‘äº†å®Œæ•´çš„æµ‹è¯•æ¡†æ¶ï¼Œä¸ºæˆ‘ä»¬çš„æµ‹è¯•åšå‡ºæ¥å·¨å¤§çš„è´¡çŒ®ã€å·¨å¤§çš„carryï¼Œrespectï¼ä¹Ÿæ˜¯rustä¼˜ç§€çš„å•å…ƒæµ‹è¯•è®©æˆ‘è¿™ä¸ªæ‡’äººä¹Ÿæ„¿æ„å¼€å§‹åšæµ‹è¯•äº†ï¼Œamazingå•Šqwqã€‚

debug&amp;&amp;è¸©å‘
å…³äºdebugï¼ŒåŒ…æ‹¬ä¸¤éƒ¨åˆ†ã€‚ä¸€æ˜¯å®¢è§‚æ–¹é¢ä½œä¸ºè¯¾è®¾ï¼ŒçŒªè„šè¿˜æ˜¯åšäº†ojï¼Œæˆ‘ä»¬è¿™ä¸ªé¡¹ç›®éœ€è¦é€šè¿‡æµ‹è¯•æ‹¿åˆ†ã€‚çŒªè„šçš„ojæ˜¯ç”¨è„šæœ¬åšæ–­è¨€æµ‹è¯•å…¬å¼€äº†éƒ¨åˆ†æµ‹è¯•å’Œè¦æ±‚ï¼Œæ¶‰åŠå¤§æ–‡ä»¶ã€å¯æ‰§è¡Œæ–‡ä»¶ã€å›¾ç‰‡ç­‰çš„æµ‹è¯•ï¼›å¦ä¸€æ–¹é¢ä¸»è§‚ä¸Šæ¯ä¸ªsubcommandå’Œåº•å±‚å‘½ä»¤æˆ‘ä»¬åšäº†å¯¹åº”çš„é›†æˆæµ‹è¯•ï¼Œä¸»è¦æ˜¯äº¤æ›¿ä½¿ç”¨åŸç‰ˆgitå’Œrust-gitæ£€æŸ¥é—®é¢˜ã€‚
å¤§éƒ¨åˆ†bugåœ¨æ£€æµ‹çš„è¿‡ç¨‹ä¸­å°±çŸ¥é“å“ªé‡Œæœ‰é—®é¢˜ï¼Œå¯ä»¥å¿«é€Ÿè§£å†³ï¼Œä½†æœ‰çš„æ˜¯è®¤çŸ¥é—®é¢˜ã€‚æ¯”è¾ƒå…¸å‹çš„æ˜¯ï¼ŒindexåŒºæš‚å­˜æ–‡ä»¶çš„ç»“æ„å’Œtree objectçš„æ–‡ä»¶ç»“æ„æ˜¯ä¸ä¸€æ ·çš„ï¼Œå‰è€…æ˜¯å®Œæ•´çš„è·¯å¾„ï¼Œè€Œåè€…æ˜¯é€’å½’å­˜å‚¨çš„ã€‚
å¦å¤–å°±æ˜¯é…ç½®äº†GitHubçš„CIï¼Œname: Rust CI# è§¦å‘æ¡ä»¶ï¼šå½“ä»£ç æ¨é€åˆ°ä»“åº“æˆ–åˆ›å»º Pull Request æ—¶è§¦å‘on:  push:    branches: [ &#x27;**&#x27; ]jobs:  build-and-test:    runs-on: ubuntu-latest  # ä½¿ç”¨æœ€æ–°çš„ Ubuntu ç¯å¢ƒ    steps:      # Step 1: æ£€å‡ºä»£ç       - name: Checkout code        uses: actions/checkout@v3      # Step 2: è®¾ç½® Rust å·¥å…·é“¾      - name: Set up Rust        uses: actions-rs/toolchain@v1        with:          toolchain: stable  # ä½¿ç”¨ç¨³å®šçš„ Rust å·¥å…·é“¾      # Step 3: è¿è¡Œ cargo test      - name: Run Tests        run: cargo test -- --test-threads=1      # Step 4: è¿è¡Œ cargo clippy æ£€æŸ¥      - name: Run Clippy        run: cargo clippy -- -D warnings  # å°†è­¦å‘Šè§†ä¸ºé”™è¯¯      # ï¼ˆå¯é€‰ï¼‰Step 5: æ„å»ºé¡¹ç›®      - name: Build Project        run: cargo build --release
è¿™æ ·æ¯æ¬¡æäº¤è‡ªåŠ¨è§¦å‘æµ‹è¯•ï¼Œè™½ç„¶æ¯æ¬¡éƒ½è¦å‘ä¸ªé‚®ä»¶æé†’æœ‰ç‚¹çƒ¦å°±æ˜¯äº†â€¦â€¦å¤§æ¦‚å¦‚ä¸‹

ğŸ¤–ï¸ è¿œç¨‹åˆ†æ”¯
è¿›å…¥8æœˆæ‰æœ‰æ—¶é—´æ”¶æ‹¾è¿™ä¸ªæ²¡å®Œæˆçš„æ‘Šå­ï¼Œæƒ³è¡¥å……çš„è¿œç¨‹åˆ†æ”¯éƒ¨åˆ†ä¸»è¦æ˜¯fetchã€pullå’Œpushä¸‰ä¸ªsubcommandï¼Œç›®æ ‡æ˜¯èƒ½å’ŒGitHubçš„repoäº¤äº’æ›´æ–°å³å¯ã€‚
æˆ‘æœ€ç»ˆé€‰æ‹©ç”¨httpsä¸GitHubä¼ è¾“ï¼Œè™½ç„¶ä¼ è¾“å¤§æ–‡ä»¶ä¸ç¨³å®šï¼Œä½†æ˜¯æœ¬äººå¯¹httpsæ¯”è¾ƒç†Ÿæ‚‰ï¼ˆsshç°é˜¶æ®µå°±ä¸å¤ªè€ƒè™‘äº†ï¼‰ã€‚fetchä¸»è¦æ˜¯è·å–è¿œç¨‹ä»“åº“çš„åˆ†æ”¯å’Œå¯¹åº”çš„commit hashï¼Œè€Œé¦–å…ˆè¦è®¾å®šè¿œç¨‹ä¼ è¾“çš„ä»“åº“URLï¼Œæ‰€ä»¥å…ˆå®ç°remoteæŒ‡ä»¤è®¾ç½®åˆ†æ”¯å’ŒURLçš„æ˜ å°„ï¼Œä¿å­˜åœ¨.git&#x2F;configæ–‡ä»¶ã€‚fetchåŒæ ·å¯ä»¥æŒ‡å®šå‚æ•°ï¼Œé€‰æ‹©è·å–æ‰€æœ‰è¿œç¨‹åˆ†æ”¯è¿˜æ˜¯ç‰¹å®šè¿œç¨‹åˆ†æ”¯ï¼Œç„¶ååˆ›å»ºâ€œ.git&#x2F;refs&#x2F;remote&#x2F;åˆ†æ”¯åâ€æ–‡ä»¶ï¼Œè®°å½•å…¶commit hashã€‚
è€Œpullåˆ™æ˜¯fetch+mergeï¼Œå…ˆè·å–è¿œç¨‹åˆ†æ”¯ï¼Œç„¶åå°†å½“å‰åˆ†æ”¯ä¸ç›®æ ‡åˆ†æ”¯åˆå¹¶ã€‚æœ‰ä¸€ä¸ªéœ€è¦æ³¨æ„çš„ç‚¹æ˜¯ï¼Œåœ¨initåremote add&amp;&amp;pullï¼Œæ­¤æ—¶æœ¬åœ°åˆ†æ”¯å› ä¸ºæ²¡æœ‰æäº¤è¿‡ï¼Œrefsä¸‹å¹¶æ²¡æœ‰é»˜è®¤çš„master&#x2F;mainæ–‡ä»¶ï¼Œå› ä¸ºæ²¡æœ‰æäº¤è¿‡ã€æ²¡æœ‰commit hashï¼Œæ­¤æ—¶è¦åšmergeä¼šå‡ºç°é—®é¢˜ï¼Œæ—¢æ²¡æœ‰æœ¬åœ°åˆ†æ”¯ä¹Ÿæ²¡æœ‰indexåŒºï¼Œæˆ‘ä¹‹å‰çš„å®ç°ä¼šmerge failã€‚æ‰€ä»¥æˆ‘å–å·§äº†ä¸€ä¸‹ï¼Œå¦‚æœæ˜¯åˆå§‹åŒ–ä¹‹åç›´æ¥pullçš„è¿™ç§æƒ…å†µï¼Œç›´æ¥fetch+checkoutåˆ°è¿œç¨‹åˆ†æ”¯ï¼›è€Œpushåˆ™åå•†éœ€è¦ä¼ è¾“çš„å¯¹è±¡ï¼Œå¹¶åˆ›å»ºpackæ–‡ä»¶é€šè¿‡httpsä¼ è¾“ã€‚
éœ€è¦æ³¨æ„çš„åœ°æ–¹ä¸»è¦æœ‰ä¸¤ç‚¹ï¼šä¸€æ˜¯pullä¸‹æ¥çš„packéœ€è¦è§£å‹ç¼©ï¼Œè¿™ä¸ªè§£å‹ç¼©å™¨çš„è®¾è®¡éœ€è¦æ¯”è¾ƒç²¾ç¡®ï¼Œå®Œå…¨ç†è§£gitçš„å‹ç¼©packçš„é€»è¾‘æ‰èƒ½è®¾è®¡è¶³å¤Ÿç²¾ç¡®çš„è§£å‹å™¨ã€æ‰èƒ½å®Œå…¨è§£å‹å‡º100%çš„objectï¼Œå¦åˆ™ä¼šä¸¢å¤±éƒ¨åˆ†objectäº§ç”Ÿç¼ºæŸï¼›äºŒæ˜¯æ‰€æœ‰çš„packåœ¨pushä¸Šå»åéƒ½ä¼šè¢«GitHubç«¯æ¥æ”¶ï¼Œéœ€è¦ä¸¥æ ¼éµå¾ªæ ¼å¼ï¼Œæˆ‘åœ¨æ­¤è¿‡ç¨‹ä¸­æœ‰ä¸¤ä¸ªé—®é¢˜ï¼Œtree objectçš„æ–‡ä»¶ç»„ç»‡æ ¼å¼ï¼ˆæ²¡é”™ï¼Œæ­£æ˜¯å‰æ–‡æåˆ°çš„ï¼‰å’Œindex&amp;&amp;tree objectä¸­è¡¨é¡¹æ²¡æŒ‰å­—å…¸åºæ’åºã€‚è¯´å®è¯ä¹‹å‰åœ¨å’ŒåŸç‰ˆgitæ¯”å¯¹çš„æ—¶å€™ä¹Ÿæ³¨æ„åˆ°äº†è¿™ä¸ªé¡ºåºé—®é¢˜ï¼Œä½†å½“æ—¶æ„Ÿè§‰æ²¡ä»€ä¹ˆå½±å“ï¼Œç°åœ¨è¢«æ•™è®­äº†ï¼Œåªèƒ½è¯´ä¸€åˆ‡éƒ½æœ‰å…¶å­˜åœ¨çš„æ„ä¹‰


æ„Ÿè°¢é˜…è¯»ï¼å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹èµå’Œåˆ†äº«ã€‚
]]></content>
      <categories>
        <category>å­¦ä¹ è®°å½•</category>
      </categories>
      <tags>
        <tag>rust</tag>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title>æˆ‘çš„åšå®¢é‡æ–°å¼€å§‹</title>
    <url>/2025/08/07/%E6%88%91%E7%9A%84%E5%8D%9A%E5%AE%A2%E9%87%8D%E6%96%B0%E5%BC%80%E5%A7%8B/</url>
    <content><![CDATA[ğŸŒŸ æˆ‘çš„åšå®¢é‡æ–°å¼€å§‹å¤§å®¶å¥½ï¼æˆ‘æ˜¯ foreverï¼Œæ¬¢è¿æ¥åˆ°æˆ‘é‡æ–°æ­å»ºçš„åšå®¢ â€œSummer Flowerâ€ã€‚
ğŸ“ ä¸ºä»€ä¹ˆé‡æ–°å¼€å§‹ï¼Ÿç»è¿‡ä¸€æ®µæ—¶é—´çš„æ€è€ƒï¼Œæˆ‘å†³å®šé‡æ–°æ•´ç†æˆ‘çš„åšå®¢ï¼Œä¸»è¦åŸå› åŒ…æ‹¬ï¼š

æ›´å¥½çš„æŠ€æœ¯æ ˆ: ä½¿ç”¨ Hexo + Butterfly ä¸»é¢˜ï¼Œæä¾›æ›´å¥½çš„é˜…è¯»ä½“éªŒ
è§„èŒƒçš„å†…å®¹ç®¡ç†: å»ºç«‹æ›´å®Œå–„çš„å†™ä½œå’Œå‘å¸ƒæµç¨‹
ä¸“æ³¨çš„å†…å®¹æ–¹å‘: 
ğŸ’» æŠ€æœ¯å­¦ä¹ å¿ƒå¾—
ğŸ“¸ æ‘„å½±ä½œå“åˆ†äº«
ğŸ“ è®¡ç®—æœºç§‘å­¦å­¦ä¹ è®°å½•
ğŸŒ± æ—¥å¸¸ç”Ÿæ´»æ„Ÿæ‚Ÿ



ğŸ› ï¸ æŠ€æœ¯æ ˆä»‹ç»è¿™ä¸ªåšå®¢ä½¿ç”¨çš„æŠ€æœ¯æ ˆï¼š

é™æ€ç½‘ç«™ç”Ÿæˆå™¨: Hexo 7.3.0
ä¸»é¢˜: Butterfly 5.3.3
éƒ¨ç½²å¹³å°: GitHub Pages
åŸŸå: åä¸ºäº‘è‡ªå®šä¹‰åŸŸå
è¯„è®ºç³»ç»Ÿ: Gitalk
ç»Ÿè®¡åˆ†æ: Google Analytics + ä¸è’œå­

ğŸ¯ æœªæ¥è®¡åˆ’æ¥ä¸‹æ¥æˆ‘è®¡åˆ’åœ¨è¿™é‡Œåˆ†äº«ï¼š
æŠ€æœ¯å†…å®¹
Rust ç¼–ç¨‹å­¦ä¹ å¿ƒå¾—
Git æ·±åº¦ä½¿ç”¨æŠ€å·§
å‰ç«¯å¼€å‘ç»éªŒ
è®¡ç®—æœºç§‘å­¦è¯¾ç¨‹ç¬”è®°

ç”Ÿæ´»åˆ†äº«
æ‘„å½±ä½œå“å’ŒæŠ€å·§
è¯»ä¹¦å¿ƒå¾—ä½“ä¼š
æ—…è¡Œè§é—»
æ—¥å¸¸æ€è€ƒ

é¡¹ç›®å±•ç¤º
GitHub å¼€æºé¡¹ç›®ä»‹ç»
ä¸ªäººé¡¹ç›®ç»éªŒåˆ†äº«
è¯¾ç¨‹ä½œä¸šæ€»ç»“

ğŸ’¡ å†™ä½œç†å¿µæˆ‘å¸Œæœ›è¿™ä¸ªåšå®¢èƒ½å¤Ÿï¼š

è®°å½•æˆé•¿: è®°å½•å­¦ä¹ å’Œç”Ÿæ´»ä¸­çš„ç‚¹ç‚¹æ»´æ»´
åˆ†äº«ç»éªŒ: æŠŠå­¦åˆ°çš„çŸ¥è¯†å’Œç»éªŒåˆ†äº«ç»™å¤§å®¶
äº¤æµäº’åŠ¨: é€šè¿‡åšå®¢è®¤è¯†æ›´å¤šå¿—åŒé“åˆçš„æœ‹å‹
æŒç»­å­¦ä¹ : é€šè¿‡å†™ä½œæ¥æ·±åŒ–è‡ªå·±çš„ç†è§£

ğŸ¤ è”ç³»æ–¹å¼å¦‚æœä½ å¯¹æˆ‘çš„æ–‡ç« æœ‰ä»»ä½•æƒ³æ³•æˆ–å»ºè®®ï¼Œæ¬¢è¿é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»æˆ‘ï¼š

ğŸ“§ Email: 231220075@smail.nju.edu.cn
ğŸ™ GitHub: @231220075
ğŸ’¬ è¯„è®ºåŒº: æ¯ç¯‡æ–‡ç« ä¸‹æ–¹éƒ½å¯ä»¥ç•™è¨€

ğŸ‰ ç»“è¯­æ„Ÿè°¢ä½ é˜…è¯»åˆ°è¿™é‡Œï¼å¸Œæœ›æˆ‘çš„åšå®¢èƒ½ä¸ºä½ å¸¦æ¥ä¸€äº›æœ‰ä»·å€¼çš„å†…å®¹ã€‚
è®©æˆ‘ä»¬ä¸€èµ·åœ¨è¿™ä¸ªå¤æ—¥èŠ±å›­é‡Œï¼Œè®°å½•ç¾å¥½ï¼Œåˆ†äº«æˆé•¿ï¼ğŸŒ¸

â€œæ¯ä¸€æ¬¡é‡æ–°å¼€å§‹ï¼Œéƒ½æ˜¯å‘æ›´å¥½çš„è‡ªå·±è¿ˆè¿›ä¸€æ­¥ã€‚â€
]]></content>
      <categories>
        <category>ç”Ÿæ´»éšæƒ³</category>
      </categories>
      <tags>
        <tag>start</tag>
      </tags>
  </entry>
  <entry>
    <title>éŸ³ä¹å’Œè§†é¢‘æ’­æ”¾æµ‹è¯•</title>
    <url>/2025/08/09/%E9%9F%B3%E4%B9%90%E5%92%8C%E8%A7%86%E9%A2%91%E6%92%AD%E6%94%BE%E6%B5%8B%E8%AF%95/</url>
    <content><![CDATA[ğŸµ éŸ³ä¹æ’­æ”¾åŠŸèƒ½æ–¹å¼ä¸€ï¼šHTML5 Audio æ ‡ç­¾ç›´æ¥åµŒå…¥éŸ³é¢‘æ–‡ä»¶&lt;audio controls&gt;  &lt;source src=&quot;/music/song.mp3&quot; type=&quot;audio/mpeg&quot;&gt;  &lt;source src=&quot;/music/song.ogg&quot; type=&quot;audio/ogg&quot;&gt;  æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘æ’­æ”¾ã€‚&lt;/audio&gt;


  
  
  æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘æ’­æ”¾ã€‚


æ–¹å¼äºŒï¼šåµŒå…¥ç½‘æ˜“äº‘éŸ³ä¹&lt;iframe frameborder=&quot;no&quot; border=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; width=&quot;330&quot; height=&quot;86&quot;         src=&quot;//music.163.com/outchain/player?type=2&amp;id=28391863&amp;auto=0&amp;height=66&quot;&gt;&lt;/iframe&gt;





ğŸ¬ è§†é¢‘æ’­æ”¾åŠŸèƒ½æ–¹å¼ä¸€ï¼šHTML5 Video æ ‡ç­¾æœ¬åœ°è§†é¢‘æ–‡ä»¶&lt;video width=&quot;100%&quot; controls&gt;  &lt;source src=&quot;/videos/demo.mp4&quot; type=&quot;video/mp4&quot;&gt;  æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ’­æ”¾ã€‚&lt;/video&gt;


  
  æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ’­æ”¾ã€‚


æ–¹å¼äºŒï¼šåµŒå…¥ YouTube è§†é¢‘iframe åµŒå…¥&lt;iframe width=&quot;100%&quot; height=&quot;400&quot;         src=&quot;https://www.youtube.com/embed/VIDEO_ID&quot;         frameborder=&quot;0&quot;         allowfullscreen&gt;&lt;/iframe&gt;




æ–¹å¼ä¸‰ï¼šåµŒå…¥ Bilibili è§†é¢‘Bç«™è§†é¢‘åµŒå…¥é™æ€åµŒå…¥ç¤ºä¾‹&lt;iframe src=&quot;//player.bilibili.com/player.html?bvid=BV1xx411c7mD&amp;page=1&quot;         scrolling=&quot;no&quot;         border=&quot;0&quot;         frameborder=&quot;no&quot;         framespacing=&quot;0&quot;         allowfullscreen=&quot;true&quot;         width=&quot;100%&quot;         height=&quot;400&quot;&gt;&lt;/iframe&gt;




ğŸ® äº¤äº’å¼Bç«™è§†é¢‘æ’­æ”¾å™¨&lt;div class=&quot;bilibili-player-container&quot;&gt;  &lt;div class=&quot;input-section&quot;&gt;    &lt;label for=&quot;bvid-input&quot;&gt;è¾“å…¥Bç«™è§†é¢‘BVå·ï¼š&lt;/label&gt;    &lt;div class=&quot;input-group&quot;&gt;      &lt;input type=&quot;text&quot;              id=&quot;bvid-input&quot;              placeholder=&quot;ä¾‹å¦‚ï¼šBV1om4y1Y771&quot;              value=&quot;BV1om4y1Y771&quot;&gt;      &lt;button onclick=&quot;loadBilibiliVideo()&quot;&gt;ğŸ¬ æ’­æ”¾è§†é¢‘&lt;/button&gt;      &lt;button onclick=&quot;clearVideo()&quot;&gt;ğŸ—‘ï¸ æ¸…ç©º&lt;/button&gt;    &lt;/div&gt;    &lt;div class=&quot;preset-videos&quot;&gt;      &lt;span&gt;å¿«é€Ÿé€‰æ‹©ï¼š&lt;/span&gt;      &lt;button onclick=&quot;loadPresetVideo(&#x27;BV1om4y1Y771&#x27;)&quot;&gt;ç¤ºä¾‹è§†é¢‘1&lt;/button&gt;      &lt;button onclick=&quot;loadPresetVideo(&#x27;BV1xx411c7mD&#x27;)&quot;&gt;ç¤ºä¾‹è§†é¢‘2&lt;/button&gt;      &lt;button onclick=&quot;loadPresetVideo(&#x27;BV1uv411q7Mv&#x27;)&quot;&gt;ç¤ºä¾‹è§†é¢‘3&lt;/button&gt;    &lt;/div&gt;  &lt;/div&gt;    &lt;div class=&quot;video-player&quot;&gt;    &lt;iframe id=&quot;bilibili-iframe&quot;             src=&quot;//player.bilibili.com/player.html?bvid=BV1om4y1Y771&amp;page=1&quot;             scrolling=&quot;no&quot;             border=&quot;0&quot;             frameborder=&quot;no&quot;             framespacing=&quot;0&quot;             allowfullscreen=&quot;true&quot;             width=&quot;100%&quot;             height=&quot;400&quot;&gt;    &lt;/iframe&gt;  &lt;/div&gt;    &lt;div class=&quot;video-info&quot; id=&quot;video-info&quot;&gt;    &lt;p&gt;å½“å‰æ’­æ”¾ï¼šBV1om4y1Y771&lt;/p&gt;  &lt;/div&gt;&lt;/div&gt;&lt;script&gt;function loadBilibiliVideo() &#123;  const bvidInput = document.getElementById(&#x27;bvid-input&#x27;);  const iframe = document.getElementById(&#x27;bilibili-iframe&#x27;);  const videoInfo = document.getElementById(&#x27;video-info&#x27;);    let bvid = bvidInput.value.trim();    // éªŒè¯BVå·æ ¼å¼  if (!bvid) &#123;    alert(&#x27;è¯·è¾“å…¥BVå·ï¼&#x27;);    return;  &#125;    // è‡ªåŠ¨æ·»åŠ BVå‰ç¼€ï¼ˆå¦‚æœç”¨æˆ·æ²¡æœ‰è¾“å…¥ï¼‰  if (!bvid.startsWith(&#x27;BV&#x27;)) &#123;    bvid = &#x27;BV&#x27; + bvid;  &#125;    // éªŒè¯BVå·æ ¼å¼ï¼ˆç®€å•éªŒè¯ï¼‰  const bvidPattern = /^BV[a-zA-Z0-9]&#123;10&#125;$/;  if (!bvidPattern.test(bvid)) &#123;    alert(&#x27;BVå·æ ¼å¼ä¸æ­£ç¡®ï¼è¯·æ£€æŸ¥è¾“å…¥ï¼ˆä¾‹å¦‚ï¼šBV1om4y1Y771ï¼‰&#x27;);    return;  &#125;    // æ›´æ–°iframe src  const newSrc = `//player.bilibili.com/player.html?bvid=$&#123;bvid&#125;&amp;page=1`;  iframe.src = newSrc;    // æ›´æ–°è§†é¢‘ä¿¡æ¯  videoInfo.innerHTML = `&lt;p&gt;å½“å‰æ’­æ”¾ï¼š$&#123;bvid&#125; &lt;span class=&quot;loading&quot;&gt;åŠ è½½ä¸­...&lt;/span&gt;&lt;/p&gt;`;    // 3ç§’åç§»é™¤åŠ è½½æç¤º  setTimeout(() =&gt; &#123;    videoInfo.innerHTML = `&lt;p&gt;å½“å‰æ’­æ”¾ï¼š$&#123;bvid&#125; &lt;span class=&quot;success&quot;&gt;âœ… åŠ è½½å®Œæˆ&lt;/span&gt;&lt;/p&gt;`;  &#125;, 3000);&#125;function loadPresetVideo(bvid) &#123;  const bvidInput = document.getElementById(&#x27;bvid-input&#x27;);  bvidInput.value = bvid;  loadBilibiliVideo();&#125;function clearVideo() &#123;  const bvidInput = document.getElementById(&#x27;bvid-input&#x27;);  const iframe = document.getElementById(&#x27;bilibili-iframe&#x27;);  const videoInfo = document.getElementById(&#x27;video-info&#x27;);    bvidInput.value = &#x27;&#x27;;  iframe.src = &#x27;about:blank&#x27;;  videoInfo.innerHTML = &#x27;&lt;p&gt;è¯·è¾“å…¥BVå·æ¥æ’­æ”¾è§†é¢‘&lt;/p&gt;&#x27;;&#125;// å›è½¦é”®å¿«æ·æ’­æ”¾document.getElementById(&#x27;bvid-input&#x27;).addEventListener(&#x27;keypress&#x27;, function(e) &#123;  if (e.key === &#x27;Enter&#x27;) &#123;    loadBilibiliVideo();  &#125;&#125;);&lt;/script&gt;&lt;style&gt;.bilibili-player-container &#123;  max-width: 800px;  margin: 20px auto;  padding: 20px;  border: 2px solid #00A1D6;  border-radius: 12px;  background: linear-gradient(135deg, #f8f9ff 0%, #e8f4ff 100%);  box-shadow: 0 4px 12px rgba(0, 161, 214, 0.1);&#125;.input-section &#123;  margin-bottom: 20px;&#125;.input-section label &#123;  display: block;  margin-bottom: 8px;  font-weight: bold;  color: #333;&#125;.input-group &#123;  display: flex;  gap: 10px;  margin-bottom: 15px;  flex-wrap: wrap;&#125;.input-group input &#123;  flex: 1;  min-width: 200px;  padding: 10px 15px;  border: 2px solid #ddd;  border-radius: 6px;  font-size: 14px;  transition: border-color 0.3s;&#125;.input-group input:focus &#123;  outline: none;  border-color: #00A1D6;  box-shadow: 0 0 0 3px rgba(0, 161, 214, 0.1);&#125;.input-group button &#123;  padding: 10px 20px;  background: #00A1D6;  color: white;  border: none;  border-radius: 6px;  cursor: pointer;  font-size: 14px;  font-weight: bold;  transition: all 0.3s;  white-space: nowrap;&#125;.input-group button:hover &#123;  background: #0088BB;  transform: translateY(-1px);&#125;.input-group button:last-child &#123;  background: #FF6B6B;&#125;.input-group button:last-child:hover &#123;  background: #FF5252;&#125;.preset-videos &#123;  display: flex;  align-items: center;  gap: 10px;  flex-wrap: wrap;&#125;.preset-videos span &#123;  color: #666;  font-size: 14px;&#125;.preset-videos button &#123;  padding: 6px 12px;  background: #f0f0f0;  color: #333;  border: 1px solid #ddd;  border-radius: 4px;  cursor: pointer;  font-size: 12px;  transition: all 0.3s;&#125;.preset-videos button:hover &#123;  background: #00A1D6;  color: white;  border-color: #00A1D6;&#125;.video-player &#123;  margin-bottom: 15px;  border-radius: 8px;  overflow: hidden;  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);&#125;.video-info &#123;  text-align: center;  padding: 10px;  background: rgba(255, 255, 255, 0.8);  border-radius: 6px;&#125;.video-info p &#123;  margin: 0;  color: #333;&#125;.loading &#123;  color: #FF9800;  animation: pulse 1.5s infinite;&#125;.success &#123;  color: #4CAF50;&#125;@keyframes pulse &#123;  0%, 50%, 100% &#123; opacity: 1; &#125;  25%, 75% &#123; opacity: 0.5; &#125;&#125;@media (max-width: 600px) &#123;  .input-group &#123;    flex-direction: column;  &#125;    .input-group input &#123;    min-width: auto;  &#125;    .preset-videos &#123;    flex-direction: column;    align-items: flex-start;  &#125;&#125;&lt;/style&gt;




  
    è¾“å…¥Bç«™è§†é¢‘BVå·ï¼š
    
      
      ğŸ¬ æ’­æ”¾è§†é¢‘
      ğŸ—‘ï¸ æ¸…ç©º
    
    
      å¿«é€Ÿé€‰æ‹©ï¼š
      ç¤ºä¾‹è§†é¢‘1
      ç¤ºä¾‹è§†é¢‘2
      ç¤ºä¾‹è§†é¢‘3
    
  
  
  
    
    
  
  
  
    å½“å‰æ’­æ”¾ï¼šBV1om4y1Y771
  



function loadBilibiliVideo() {
  const bvidInput = document.getElementById('bvid-input');
  const iframe = document.getElementById('bilibili-iframe');
  const videoInfo = document.getElementById('video-info');
  
  let bvid = bvidInput.value.trim();
  
  // éªŒè¯BVå·æ ¼å¼
  if (!bvid) {
    alert('è¯·è¾“å…¥BVå·ï¼');
    return;
  }
  
  // è‡ªåŠ¨æ·»åŠ BVå‰ç¼€ï¼ˆå¦‚æœç”¨æˆ·æ²¡æœ‰è¾“å…¥ï¼‰
  if (!bvid.startsWith('BV')) {
    bvid = 'BV' + bvid;
  }
  
  // éªŒè¯BVå·æ ¼å¼ï¼ˆç®€å•éªŒè¯ï¼‰
  const bvidPattern = /^BV[a-zA-Z0-9]{10}$/;
  if (!bvidPattern.test(bvid)) {
    alert('BVå·æ ¼å¼ä¸æ­£ç¡®ï¼è¯·æ£€æŸ¥è¾“å…¥ï¼ˆä¾‹å¦‚ï¼šBV1om4y1Y771ï¼‰');
    return;
  }
  
  // æ›´æ–°iframe src
  const newSrc = `//player.bilibili.com/player.html?bvid=${bvid}&page=1`;
  iframe.src = newSrc;
  
  // æ›´æ–°è§†é¢‘ä¿¡æ¯
  videoInfo.innerHTML = `å½“å‰æ’­æ”¾ï¼š${bvid} åŠ è½½ä¸­...`;
  
  // 3ç§’åç§»é™¤åŠ è½½æç¤º
  setTimeout(() => {
    videoInfo.innerHTML = `å½“å‰æ’­æ”¾ï¼š${bvid} âœ… åŠ è½½å®Œæˆ`;
  }, 3000);
}

function loadPresetVideo(bvid) {
  const bvidInput = document.getElementById('bvid-input');
  bvidInput.value = bvid;
  loadBilibiliVideo();
}

function clearVideo() {
  const bvidInput = document.getElementById('bvid-input');
  const iframe = document.getElementById('bilibili-iframe');
  const videoInfo = document.getElementById('video-info');
  
  bvidInput.value = '';
  iframe.src = 'about:blank';
  videoInfo.innerHTML = 'è¯·è¾“å…¥BVå·æ¥æ’­æ”¾è§†é¢‘';
}

// å›è½¦é”®å¿«æ·æ’­æ”¾
document.getElementById('bvid-input').addEventListener('keypress', function(e) {
  if (e.key === 'Enter') {
    loadBilibiliVideo();
  }
});



.bilibili-player-container {
  max-width: 800px;
  margin: 20px auto;
  padding: 20px;
  border: 2px solid #00A1D6;
  border-radius: 12px;
  background: linear-gradient(135deg, #f8f9ff 0%, #e8f4ff 100%);
  box-shadow: 0 4px 12px rgba(0, 161, 214, 0.1);
}

.input-section {
  margin-bottom: 20px;
}

.input-section label {
  display: block;
  margin-bottom: 8px;
  font-weight: bold;
  color: #333;
}

.input-group {
  display: flex;
  gap: 10px;
  margin-bottom: 15px;
  flex-wrap: wrap;
}

.input-group input {
  flex: 1;
  min-width: 200px;
  padding: 10px 15px;
  border: 2px solid #ddd;
  border-radius: 6px;
  font-size: 14px;
  transition: border-color 0.3s;
}

.input-group input:focus {
  outline: none;
  border-color: #00A1D6;
  box-shadow: 0 0 0 3px rgba(0, 161, 214, 0.1);
}

.input-group button {
  padding: 10px 20px;
  background: #00A1D6;
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-size: 14px;
  font-weight: bold;
  transition: all 0.3s;
  white-space: nowrap;
}

.input-group button:hover {
  background: #0088BB;
  transform: translateY(-1px);
}

.input-group button:last-child {
  background: #FF6B6B;
}

.input-group button:last-child:hover {
  background: #FF5252;
}

.preset-videos {
  display: flex;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
}

.preset-videos span {
  color: #666;
  font-size: 14px;
}

.preset-videos button {
  padding: 6px 12px;
  background: #f0f0f0;
  color: #333;
  border: 1px solid #ddd;
  border-radius: 4px;
  cursor: pointer;
  font-size: 12px;
  transition: all 0.3s;
}

.preset-videos button:hover {
  background: #00A1D6;
  color: white;
  border-color: #00A1D6;
}

.video-player {
  margin-bottom: 15px;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.video-info {
  text-align: center;
  padding: 10px;
  background: rgba(255, 255, 255, 0.8);
  border-radius: 6px;
}

.video-info p {
  margin: 0;
  color: #333;
}

.loading {
  color: #FF9800;
  animation: pulse 1.5s infinite;
}

.success {
  color: #4CAF50;
}

@keyframes pulse {
  0%, 50%, 100% { opacity: 1; }
  25%, 75% { opacity: 0.5; }
}

@media (max-width: 600px) {
  .input-group {
    flex-direction: column;
  }
  
  .input-group input {
    min-width: auto;
  }
  
  .preset-videos {
    flex-direction: column;
    align-items: flex-start;
  }
}




ğŸ¨ é«˜çº§è‡ªå®šä¹‰JavaScript è‡ªå®šä¹‰æ’­æ”¾å™¨&lt;div id=&quot;custom-player&quot;&gt;  &lt;video id=&quot;myVideo&quot; width=&quot;100%&quot; height=&quot;400&quot;&gt;    &lt;source src=&quot;/videos/demo.mp4&quot; type=&quot;video/mp4&quot;&gt;  &lt;/video&gt;  &lt;div class=&quot;controls&quot;&gt;    &lt;button onclick=&quot;playPause()&quot;&gt;æ’­æ”¾/æš‚åœ&lt;/button&gt;    &lt;button onclick=&quot;makeBig()&quot;&gt;æ”¾å¤§&lt;/button&gt;    &lt;button onclick=&quot;makeSmall()&quot;&gt;ç¼©å°&lt;/button&gt;    &lt;button onclick=&quot;makeNormal()&quot;&gt;æ­£å¸¸&lt;/button&gt;  &lt;/div&gt;&lt;/div&gt;&lt;script&gt;var myVideo = document.getElementById(&quot;myVideo&quot;);function playPause() &#123;  if (myVideo.paused) &#123;    myVideo.play();  &#125; else &#123;    myVideo.pause();  &#125;&#125;function makeBig() &#123;  myVideo.width = 800;&#125;function makeSmall() &#123;  myVideo.width = 320;&#125;function makeNormal() &#123;  myVideo.width = 560;&#125;&lt;/script&gt;&lt;style&gt;#custom-player &#123;  text-align: center;  margin: 20px 0;&#125;.controls &#123;  margin-top: 10px;&#125;.controls button &#123;  margin: 0 5px;  padding: 8px 16px;  background: #42A5F5;  color: white;  border: none;  border-radius: 4px;  cursor: pointer;&#125;.controls button:hover &#123;  background: #1976D2;&#125;&lt;/style&gt;

å“åº”å¼è§†é¢‘å®¹å™¨&lt;div class=&quot;video-container&quot;&gt;  &lt;iframe src=&quot;https://www.youtube.com/embed/dQw4w9WgXcQ&quot;           frameborder=&quot;0&quot;           allowfullscreen&gt;  &lt;/iframe&gt;&lt;/div&gt;&lt;style&gt;.video-container &#123;  position: relative;  padding-bottom: 56.25%; /* 16:9 */  height: 0;  overflow: hidden;&#125;.video-container iframe &#123;  position: absolute;  top: 0;  left: 0;  width: 100%;  height: 100%;&#125;&lt;/style&gt;
]]></content>
      <categories>
        <category>æŠ€æœ¯åˆ†äº«</category>
      </categories>
      <tags>
        <tag>å¤šåª’ä½“</tag>
        <tag>æµ‹è¯•</tag>
      </tags>
  </entry>
</search>
